function submitAjax(t){var e=t.data("reload");$.ajax({url:$(t).attr("action"),type:$(t).attr("method")}).done(function(t){t.success?($(".ajax-success").removeClass("hidden"),$(".ajax-success .message").text(e?t.message+" Reloading page in 2 seconds":t.message)):($(".ajax-error").removeClass("hidden"),$(".ajax-error .message").text(e?t.message+" Reloading page in 2 seconds":t.message))})}function highlightCorrect(){var t=$(".correct-answer").toArray();t.forEach(function(t){var e=$(t)[0].value,i=$(t).next().children("li")[e-1];$(i).addClass("correct")})}function pad2(t){return(10>t?"0":"")+t}function getTotalTime(t,e,i,a){var n=60*(e-t)+(a-i);return console.log(n),n}function validateCC(t){if(""==t.find("#cc").val())return!0;var e="Are you sure you want to CC the following: \r\n",i=t.find("#cc").val().replace(" ","").split(",");return i.forEach(function(t){var i=$("#userlist").find('[data-initials="'+t+'"]');e+=" "+i.data("name")+"("+t+")\r\n"}),window.confirm(e)}function getCarbonDate(){var t=new Date,e=t.getFullYear(),i=pad2(t.getMonth()),a=pad2(t.getDate()),n=pad2(t.getHours()),s=pad2(t.getMinutes()),o=pad2(t.getSeconds());return i+"-"+a+"-"+e+" "+n+":"+s+":"+o}function validateEmail(t){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}function createDateChangeListener(){var t=0,e=0;$("#session_end").on("change",function(){e++}),$("#session_start").on("change",function(){t++}),$(".datepick").on("change",function(){t>0&&e>0&&$("button[type=submit]").removeAttr("disabled")})}if("undefined"==typeof jQuery)throw new Error("Froala requires jQuery");!function(t){"use strict";var e=function(i,a){this.options=t.extend({},e.DEFAULTS,t(i).data(),"object"==typeof a&&a),this.browser=e.browser(),this.disabledList=[],this._id=++e.count,this.init(i),this.callback("initialized",[],!1)};e.count=0,e.VALID_NODES=["P","PRE","BLOCKQUOTE","H1","H2","H3","H4","H5","H6","DIV","LI","TD"],e.LANGS=[],e.DEFAULTS={allowedImageTypes:["jpeg","jpg","png","gif"],alwaysBlank:!1,alwaysVisible:!1,autosave:!1,autosaveInterval:1e4,blockTags:["n","p","blockquote","pre","h1","h2","h3","h4","h5","h6"],borderColor:"#252528",buttons:["bold","italic","underline","strikeThrough","fontSize","fontFamily","color","sep","formatBlock","blockStyle","align","insertOrderedList","insertUnorderedList","outdent","indent","sep","createLink","insertImage","insertVideo","insertHorizontalRule","undo","redo","html"],crossDomain:!0,customButtons:{},customDropdowns:{},customText:!1,defaultImageWidth:300,direction:"ltr",disableRightClick:!1,editorClass:"",enableScript:!1,fontList:["Arial, Helvetica","Impact, Charcoal","Tahoma, Geneva","Verdana, Geneva","Times New Roman, Times"],height:"auto",icons:{},imageButtons:["floatImageLeft","floatImageNone","floatImageRight","linkImage","replaceImage","removeImage"],imageErrorCallback:!1,imageDeleteURL:null,imageDeleteParams:{},imageMargin:10,imageMove:!0,imageResize:!0,imageLink:!0,imageUpload:!0,imageUploadParams:{},imageUploadParam:"file",imageUploadToS3:!1,imageUploadURL:"http://i.froala.com/upload",imagesLoadURL:"http://i.froala.com/images",imagesLoadParams:{},inlineMode:!0,initOnClick:!1,language:"en_us",linkList:[],linkText:!0,maxImageSize:10485760,maxHeight:"auto",minHeight:"auto",noFollow:!0,paragraphy:!0,placeholder:"Type something",plainPaste:!1,preloaderSrc:"",saveURL:null,saveParams:{},saveRequestType:"POST",simpleAmpersand:!1,shortcuts:!0,spellcheck:!1,textNearImage:!0,theme:null,toolbarFixed:!0,trackScroll:!1,unlinkButton:!0,typingTimer:200,width:"auto",zIndex:1e3},e.prototype.destroy=function(){this.sync(),this.isHTML&&this.html(),this.$bttn_wrapper&&(this.$bttn_wrapper.html("").remove(),this.$bttn_wrapper.html("").removeData()),this.$editor&&(this.$editor.html("").remove(),this.$editor.html("").removeData()),this.$element.blur(),this.$image_editor&&(this.$image_editor.html("").remove(),this.$image_editor.removeData()),this.$image_wrapper&&(this.$image_wrapper.html("").remove(),this.$image_wrapper.removeData()),this.$link_wrapper&&(this.$link_wrapper.html("").remove(),this.$link_wrapper.removeData()),this.$video_wrapper&&(this.$video_wrapper.html("").remove(),this.$video_wrapper.removeData()),this.$popup_editor&&(this.$popup_editor.html("").remove(),this.$popup_editor.removeData()),this.$overlay&&(this.$overlay.html("").remove(),this.$overlay.removeData()),this.$image_modal&&(this.hideMediaManager(),this.$image_modal.html("").remove(),this.$image_modal.removeData()),this.isLink?this.$element.removeData("fa.editable"):(this.$element.replaceWith(this.getHTML()),this.$box&&(this.$box.removeClass("froala-box"),this.$box.find(".html-switch").remove(),this.$box.removeData("fa.editable"),clearTimeout(this.typingTimer))),clearTimeout(this.ajaxInterval),clearTimeout(this.typingTimer),this.$element.off("mousedown mouseup click keydown keyup focus keypress touchstart touchend touch drop"),this.$element.off("mousedown mouseup click keydown keyup focus keypress touchstart touchend touch drop","**"),t(window).off("mouseup."+this._id),t(window).off("keydown."+this._id),t(window).off("keyup."+this._id),t(window).off("hide."+this._id),t(window).off("scroll."+this._id),t(document).off("selectionchange."+this._id),void 0!==this.$upload_frame&&this.$upload_frame.remove(),this.$textarea&&(this.$box.remove(),this.$textarea.removeData("fa.editable"),this.$textarea.show())},e.prototype.callback=function(e,i,a){void 0===a&&(a=!0);var n=e+"Callback",s=!0;return this.options[n]&&t.isFunction(this.options[n])&&(s=i?this.options[n].apply(this,i):this.options[n].call(this)),a===!0&&this.sync(),void 0===s?!0:s},e.prototype.html5Compliant=function(t){return t=t.replace(/<b>(((?!<\/b>)[\s\S])*)<\/b>/g,"<strong>$1</strong>"),t=t.replace(/<i>(((?!<\/i>)[\s\S])*)<\/i>/g,"<em>$1</em>")},e.prototype.syncCleanHTML=function(t,e){var i;if(e)for(i=t.replace(/<span((?!class\s*=\s*["']?f-marker["']?)[^>])*?><\/span>/gi,"");t!=i;)t=i,i=t.replace(/<span((?!class\s*=\s*["']?f-marker["']?)[^>])*?><\/span>/gi,"");else for(i=t.replace(/<span[^>]*?><\/span>/g,"");t!=i;)t=i,i=t.replace(/<span[^>]*?><\/span>/g,"");return t},e.prototype.syncClean=function(e,i){var a="span:empty";i&&(a="span:empty:not(.f-marker)");for(var n=!1,s=function(e,i){0===i.attributes.length&&(t(i).remove(),n=!1)},o=e.find(a);o.length&&n===!1;)n=!0,o.each(s),o=e.find(a)},e.prototype.sync=function(t){void 0==t&&(t=!0),!t||this.isResizing()||this.options.editInPopup||this.restoreSelectionByMarkers(),this.syncClean(this.$element),this.disableImageResize(),this.isLink||this.isImage||this.$element.trigger("placeholderCheck");var e=this.getHTML();this.trackHTML!==e&&null!=this.trackHTML?(this.callback("contentChanged",[],!1),this.refreshImageList(),this.trackHTML=e):null==this.trackHTML&&(this.trackHTML=e),this.$textarea&&this.$textarea.val(e),this.isResizing()||this.isLink||this.isImage||this.options.editInPopup||this.android()||this.$element.focus()},e.prototype.emptyElement=function(e){if("IMG"==e.tagName||t(e).find("img").length>0)return!1;if(t(e).find("input, iframe").length>0)return!1;for(var i=t(e).text(),a=0;a<i.length;a++)if("\n"!==i[a]&&"\r"!==i[a]&&"	"!==i[a])return!1;return!0},e.prototype.continueInit=function(){this.isImage||this.isLink||(this.initUndoRedo(),this.enableTyping(),this.initShortcuts()),this.initEditor(),this.isLink||this.initDrag(),this.initOptions(),this.initEditorSelection(),this.initAjaxSaver(),(!this.isLink||this.isImage)&&(this.initImageResizer(),this.initImagePopup()),this.initLink(),this.setLanguage(),this.setCustomText(),this.isImage||this.isLink||this.registerPaste(),this.$element.blur()},e.prototype.init=function(e){this.initElement(e),this.initElementStyle(),this.options.initOnClick?(this.isLink||this.isImage||this.options.editInPopup||t(e).attr("contenteditable",!0),t(e).bind("mousedown",t.proxy(function(){t(e).unbind("mousedown"),this.saveSelectionByMarkers(),this.continueInit(),this.restoreSelectionByMarkers()},this))):this.continueInit()},e.prototype.iOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},e.prototype.iPad=function(){return/(iPad)/g.test(navigator.userAgent)},e.prototype.iPhone=function(){return/(iPhone)/g.test(navigator.userAgent)},e.prototype.iPod=function(){return/(iPod)/g.test(navigator.userAgent)},e.prototype.android=function(){return/(Android)/g.test(navigator.userAgent)},e.prototype.blackberry=function(){return/(Blackberry)/g.test(navigator.userAgent)},e.prototype.initElement=function(e){if("TEXTAREA"==e.tagName)this.$textarea=t(e),void 0!==this.$textarea.attr("placeholder")&&"Type something"==this.options.placeholder&&(this.options.placeholder=this.$textarea.attr("placeholder")),this.$element=t("<div>").html(this.$textarea.val()),this.$textarea.before(this.$element).hide(),this.$textarea.on("submit",t.proxy(function(){this.sync()},this));else if("A"==e.tagName)this.isLink=!0,this.selectionDisabled=!0,this.editableDisabled=!0,this.options.buttons=[],this.$element=t(e),this.options.paragraphy=!1;else if("IMG"==e.tagName){var i=(t(e).attr("class"),t(e).css("float"));"A"==t(e).parent().get(0).tagName&&(e=t(e).parent()),this.isImage=!0,this.editableDisabled=!0,this.imageList=[],this.options.buttons=["insertImage"],this.options.paragraphy=!1,this.options.imageMargin="auto",t(e).wrap("<div>"),this.$element=t(e).parent(),this.$element.css("display","inline-block"),this.$element.css("max-width","100%"),this.$element.css("margin-left","auto"),this.$element.css("margin-right","auto"),this.$element.css("float",i),this.$element.addClass("f-image")}else this.options.editInPopup?(this.$element=t(e),this.editableDisabled=!0,this.options.buttons=[],this.$element.on("click",t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.showEditPopup()},this))):("DIV"!=e.tagName&&this.options.buttons.indexOf("formatBlock")>=0&&this.disabledList.push("formatBlock"),this.$element=t(e));this.isImage||this.isLink||this.options.editInPopup||(this.$box=this.$element,this.$element=t("<div>"),this.setHTML(this.$box.html(),!1),this.$box.html(this.$element).addClass("froala-box"),this.$element.on("keydown",t.proxy(function(e){var i=e.which,a=["PRE","BLOCKQUOTE"],n=this.getSelectionElements()[0];if(13==i&&""===this.text()&&a.indexOf(n.tagName)>=0)if(this.getSelectionTextInfo(n).atEnd&&!e.shiftKey){e.preventDefault();var s=t("<p><br></p>");t(n).after(s),this.setSelection(s.get(0))}else(this.browser.webkit||this.browser.msie)&&(e.preventDefault(),this.insertHTML(this.endsWith(t(n).html(),"<br>")||!this.getSelectionTextInfo(n).atEnd?"<br>":"<br><br>"))},this)),this.$element.on("keyup",t.proxy(function(e){var i=e.which;if(13==i&&""===this.text()&&this.browser.safari){var a=t(this.getSelectionElement());if(a.parent("li").length){this.saveSelectionByMarkers(),a.before('<span id="li-before"></span>'),a.after('<span id="li-after"></span>');var n=this.$element.html();n=n.replace(/<span id=\"li-before\"><\/span>/g,"</li><li>"),n=n.replace(/<span id=\"li-after\"><\/span>/g,"</li>"),this.$element.html(n),this.restoreSelectionByMarkers()}}13==i&&this.webkitParagraphy()},this))),this.$element.on("drop",t.proxy(function(){setTimeout(t.proxy(function(){t("html").click(),this.$element.find(".f-img-wrap").each(function(e,i){0==t(i).find("img").length&&t(i).remove()})},this),1)},this)),this.sync()},e.prototype.webkitParagraphy=function(){this.$element.find("*").each(t.proxy(function(e,i){if(this.emptyElement(i)&&"DIV"==i.tagName&&this.options.paragraphy===!0){var a=t("<p><br/></p>");t(i).replaceWith(a),this.setSelection(a.get(0))}},this))},e.prototype.trim=function(t){return String(t).replace(/^\s+|\s+$/g,"")},e.prototype.unwrapText=function(){this.options.paragraphy||this.$element.find("div").each(function(e,i){void 0===t(i).attr("style")&&t(i).replaceWith(t(i).html()+"<br/>")})},e.prototype.wrapText=function(){if(this.isImage||this.isLink)return!1;this.webkitParagraphy();var e=[],i=["SPAN","A","B","I","EM","U","S","STRONG","STRIKE","FONT"],a=this,n=function(){if(0!=e.length){var i;i=t(a.options.paragraphy===!0?"<p>":"<div>");var n=t(e[0]);if(1==e.length&&"f-marker"==n.attr("class"))return void(e=[]);for(var s=0;s<e.length;s++){var o=t(e[s]);i.append(o.clone()),s==e.length-1?o.replaceWith(i):o.remove()}e=[]}};this.$element.contents().filter(function(){var a=t(this);this.nodeType==Node.TEXT_NODE&&a.text().trim().length>0||i.indexOf(this.tagName)>=0?e.push(this):this.nodeType==Node.TEXT_NODE&&0===a.text().trim().length?a.remove():n()}),n(),this.$element.find("> p, > div").each(function(e,i){0===t(i).text().trim().length&&0===t(i).find("img").length&&0===t(i).find("br").length&&t(i).append("<br/>")}),this.$element.find("div:empty, > br").remove()},e.prototype.setHTML=function(t,e){void 0===e&&(e=!0),this.options.enableScript||(t=this.stripScript(t)),t=this.clean(t,!0,!1),this.$element.html(t),this.imageList=[],this.refreshImageList(),this.options.paragraphy&&this.wrapText(),e===!0&&this.sync()},e.prototype.registerPaste=function(){var e=this;this.$element.get(0).onpaste=function(){if(!e.isHTML){if(e.callback("beforePaste",[],!1)!==!0)return!1;e.pasting=!0,e.saveSelection();var i,a=t(window).scrollTop();if(e.$pasteDiv)i=e.$pasteDiv;else var i=t('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; width: 0;"></div>').appendTo("body");i.focus(),window.setTimeout(function(){var n=i.html();i.remove(),t(window).scrollTop(a),e.restoreSelection(),e.insertHTML(e.options.plainPaste?n.replace(/<(?!br\s*\/?)[^>]+>/g,""):e.clean(n,!1,!0)),e.sync(),e.$element.trigger("placeholderCheck"),e.pasting=!1,e.callback("afterPaste")},1)}}},e.prototype._extractContent=function(t){for(var e,i=document.createDocumentFragment();e=t.firstChild;)i.appendChild(e);return i},e.prototype.clean=function(e,i,a){var n=["title","href","alt","src","style","width","height","target","rel","name","value","type","colspan","rowspan"],s=[];i===!0&&(n.push("id"),n.push("class"));var o=this,r=t("<div>").html(e);return r.find("*").each(function(e,i){var r=t(i);s.indexOf(i.tagName)>=0&&r.html(r.text()),t.each(i.attributes,function(){void 0!==this&&n.indexOf(this.name)<0&&0!==this.name.indexOf("data-")&&r.removeAttr(this.name)}),a===!0&&r.removeAttr("style"),"A"==i.tagName&&r.attr("href",o.sanitizeURL(r.attr("href")))}),this.cleanNewLine(r.html())},e.prototype.cleanNewLine=function(t){var e=new RegExp("\\n","g");return t.replace(e,"")},e.prototype.stripScript=function(t){return this.options.enableScript?t:t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")},e.prototype.initElementStyle=function(){this.editableDisabled||this.$element.attr("contenteditable",!0);var t="froala-element "+this.options.editorClass;this.browser.msie&&e.getIEversion()<9&&(t+=" ie8"),this.$element.css("outline",0),this.browser.msie||(t+=" not-msie"),this.$element.addClass(t)},e.prototype.initUndoRedo=function(){(this.isEnabled("undo")||this.isEnabled("redo"))&&(this.undoStack=[],this.undoIndex=0,this.saveUndoStep()),this.disableBrowserUndo()},e.prototype.enableTyping=function(){this.typingTimer=null,this.$element.on("keydown",t.proxy(function(){clearTimeout(this.typingTimer),this.ajaxSave=!1,this.oldHTML=this.$element.html(),this.typingTimer=setTimeout(t.proxy(function(){this.$element.html()!=this.oldHTML&&((this.isEnabled("undo")||this.isEnabled("redo"))&&this.$element.html()!=this.undoStack[this.undoIndex-1]&&this.saveUndoStep(),this.sync())},this),Math.max(this.options.typingTimer,200))},this))},e.prototype.removeMarkersByRegex=function(t){return t.replace(/<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>[\S\s]*<\/span>/gi,"")},e.prototype.getHTML=function(e){if(this.isHTML)return this.$html_area.val();this.$element.find("a").addClass("f-link"),this.$element.find(".f-img-editor > img").each(function(e,i){t(i).css("margin-left",t(i).parent().css("margin-left")).css("margin-right",t(i).parent().css("margin-right")).css("margin-bottom",t(i).parent().css("margin-bottom")).css("margin-top",t(i).parent().css("margin-top"))});var i=this.$element.html();return this.$element.find(".f-img-editor > img").css("margin","auto"),i=this.html5Compliant(i),i=this.syncCleanHTML(i,e),i=i.replace(/\s*contenteditable="[^"]*"/gi,""),i=i.replace(/<a[^>]*?><\/a>/g,""),void 0===e&&(i=this.removeMarkersByRegex(i)),i=i.replace(/<span[^>]*? class\s*=\s*["']?f-img-handle[^>]+><\/span>/gi,""),i=i.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-editor[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),this.isImage&&(i=i.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-wrap[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3")),i=i.replace(/\&amp;/gi,"&"),this.options.simpleAmpersand&&(i=i.replace(/\&amp;/gi,"&")),i.replace(/\u200B/gi,"")},e.prototype.getText=function(){return this.$element.text()},e.prototype.initAjaxSaver=function(){this.ajaxHTML=this.getHTML(),this.ajaxSave=!0,this.ajaxInterval=setInterval(t.proxy(function(){var t=this.getHTML();this.ajaxHTML!=t&&this.ajaxSave&&(this.options.autosave&&this.save(),this.ajaxHTML=t),this.ajaxSave=!0},this),Math.max(this.options.autosaveInterval,100))},e.prototype.disableBrowserUndo=function(){t("body").keydown(function(t){var e=t.which,i=t.ctrlKey||t.metaKey;if(!this.isHTML&&i){if(75==e)return t.preventDefault(),!1;if(90==e&&t.shiftKey)return t.preventDefault(),!1;if(90==e)return t.preventDefault(),!1}})},e.prototype.saveUndoStep=function(){if(this.isEnabled("undo")||this.isEnabled("redo")){for(;this.undoStack.length>this.undoIndex;)this.undoStack.pop();var t=this.getHTML(!0);if(this.undoStack[this.undoIndex-1]&&this.removeMarkersByRegex(this.undoStack[this.undoIndex-1])==t)return!1;this.selectionInEditor()&&this.$element.is(":focus")&&this.saveSelectionByMarkers(),this.undoStack.push(this.getHTML(!0)),this.undoIndex++,this.selectionInEditor()&&this.$element.is(":focus")&&this.restoreSelectionByMarkers(),this.refreshUndoRedo()}},e.prototype.initShortcuts=function(){this.options.shortcuts&&this.$element.on("keydown",t.proxy(function(t){var e=t.which,i=t.ctrlKey||t.metaKey;if(!this.isHTML&&i){if(70==e)return this.show(null),!1;if(66==e)return this.execDefaultShortcut("bold");if(73==e)return this.execDefaultShortcut("italic");if(85==e)return this.execDefaultShortcut("underline");if(75==e)return this.execDefaultShortcut("createLink");if(80==e)return this.repositionEditor(),this.execDefaultShortcut("insertImage");if(65==e)return this.execDefaultShortcut("selectAll");if(221==e)return this.execDefaultShortcut("indent");if(219==e)return this.execDefaultShortcut("outdent");if(72==e)return this.execDefaultShortcut("html");if(48==e)return this.execDefaultShortcut("formatBlock","n");if(49==e)return this.execDefaultShortcut("formatBlock","h1");if(50==e)return this.execDefaultShortcut("formatBlock","h2");if(51==e)return this.execDefaultShortcut("formatBlock","h3");if(52==e)return this.execDefaultShortcut("formatBlock","h4");if(53==e)return this.execDefaultShortcut("formatBlock","h5");if(54==e)return this.execDefaultShortcut("formatBlock","h6");if(222==e)return this.execDefaultShortcut("formatBlock","blockquote");if(220==e)return this.execDefaultShortcut("formatBlock","pre");if(83==e)return this.execDefaultShortcut("strikeThrough");if(90==e&&t.shiftKey)return this.redo(),t.stopPropagation(),!1;if(90==e)return this.undo(),t.stopPropagation(),!1}9!=e||t.shiftKey?9==e&&t.shiftKey&&t.preventDefault():(t.preventDefault(),this.insertHTML("&nbsp;&nbsp;&nbsp;&nbsp;",!1))},this))},e.prototype.textEmpty=function(e){return(""===t(e).text()||e===this.$element.get(0))&&0===t(e).find("br").length},e.prototype.focus=function(t){if(void 0==t&&(t=!0),!this.isHTML&&(t&&this.$element.focus(),""===this.text())){var i,a,n=this.getSelectionElements();if(n.length>=1&&n[0]!=this.$element.get(0))for(var i=0;i<n.length;i++)if(a=n[i],!this.textEmpty(a))return void this.setSelection(a);n=this.$element.find(e.VALID_NODES.join(","));for(var i=0;i<n.length;i++)if(a=n[i],!this.textEmpty(a))return void this.setSelection(a);this.setSelection(this.$element.get(0))}},e.prototype.insertHTML=function(t,e){this.isHTML||(this.$element.focus(),this.selectionInEditor()||this.setSelection(this.$element.get(0)));var i,a;if(window.getSelection){if(i=window.getSelection(),i.getRangeAt&&i.rangeCount){a=i.getRangeAt(0),a.deleteContents();var n=document.createElement("div");n.innerHTML=t;for(var s,o,r=document.createDocumentFragment();s=n.firstChild;)o=r.appendChild(s);var l=r.firstChild;a.insertNode(r),o&&(a=a.cloneRange(),a.setStartAfter(o),e?a.setStartBefore(l):a.collapse(!0),i.removeAllRanges(),i.addRange(a))}}else if((i=document.selection)&&"Control"!=i.type){var d=i.createRange();d.collapse(!0),i.createRange().pasteHTML(t),e&&(a=i.createRange(),a.setEndPoint("StartToStart",d),a.select())}},e.prototype.execDefaultShortcut=function(t,e){return this.isEnabled(t)?(this.exec(t,e),!1):!0},e.prototype.initEditor=function(){var i="froala-editor";this.isTouch()&&(i+=" touch"),this.browser.msie&&e.getIEversion()<9&&(i+=" ie8"),this.$editor=t('<div class="'+i+'" style="display: none;">'),t("body").append(this.$editor),this.options.inlineMode?this.initInlineEditor():this.initBasicEditor()},e.prototype.toolbarTop=function(){t(window).on("scroll resize",t.proxy(function(){this.options.toolbarFixed||this.options.inlineMode||(t(window).scrollTop()>this.$box.offset().top&&t(window).scrollTop()<this.$box.offset().top+this.$box.height()?(this.$editor.addClass("f-scroll"),this.$box.css("padding-top",this.$editor.height()),this.$editor.css("top",t(window).scrollTop()-this.$box.offset().top)):t(window).scrollTop()<this.$box.offset().top&&(this.$editor.removeClass("f-scroll"),this.$box.css("padding-top",""),this.$editor.css("top","")))},this))},e.prototype.initBasicEditor=function(){this.$element.addClass("f-basic"),this.$popup_editor=this.$editor.clone(),this.$popup_editor.appendTo(t("body")),this.$editor.addClass("f-basic").show(),this.$editor.insertBefore(this.$element),this.toolbarTop()},e.prototype.initInlineEditor=function(){this.$popup_editor=this.$editor},e.prototype.initDrag=function(){this.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!window.FormData,progress:"upload"in new XMLHttpRequest}},e.prototype.initOptions=function(){this.setDimensions(),this.setBorderColor(),this.setPlaceholder(),this.setPlaceholderEvents(),this.setSpellcheck(),this.setImageUploadURL(),this.setButtons(),this.setDirection(),this.setTextNearImage(),this.setZIndex(),this.setTheme(),this.options.editInPopup&&this.buildEditPopup()},e.prototype.isTouch=function(){return WYSIWYGModernizr.touch&&void 0!==window.Touch},e.prototype.initEditorSelection=function(){t(window).on("hide."+this._id,t.proxy(function(){this.isResizing()||this.hide(!1)},this)),this.$element.on("mousedown touchstart",t.proxy(function(){this.isResizing()||(this.closeImageMode(),this.hide())},this)),this.options.disableRightClick&&this.$element.contextmenu(t.proxy(function(t){return t.preventDefault(),this.options.inlineMode&&this.$element.focus(),!1},this)),this.$element.on("mouseup touchend",t.proxy(function(e){if(!this.isResizing()){var i=this.text();!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==e.which||2==e.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode?this.options.inlineMode||(e.stopPropagation(),this.refreshButtons()):(e.stopPropagation(),setTimeout(t.proxy(function(){i=this.text(),!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==e.which||2==e.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode||this.show(e)},this),0)),this.imageMode=!1}},this)),this.$element.on("mousedown","img, a",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$element.on("mousedown touchstart",".f-img-handle",t.proxy(function(){this.$element.attr("data-resize",!0)},this)),this.$element.on("mouseup",".f-img-handle",t.proxy(function(e){var i=t(e.target).prevAll("img");setTimeout(t.proxy(function(){this.$element.removeAttr("data-resize"),i.click()},this),0)},this)),this.$editor.on("mouseup",t.proxy(function(t){this.isResizing()||(t.stopPropagation(),this.options.inlineMode===!1&&this.hide())},this)),this.$editor.on("mousedown",".fr-dropdown-menu",t.proxy(function(t){t.stopPropagation(),this.noHide=!0},this)),this.$popup_editor.on("mousedown",".fr-dropdown-menu",t.proxy(function(t){t.stopPropagation(),this.noHide=!0},this)),this.$popup_editor.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$link_wrapper&&this.$link_wrapper.on("mouseup",t.proxy(function(t){this.isResizing()||(t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"))},this)),this.$edit_popup_wrapper&&this.$edit_popup_wrapper.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$image_wrapper&&this.$image_wrapper.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$video_wrapper&&this.$video_wrapper.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$overlay&&this.$overlay.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.$image_modal&&this.$image_modal.on("mouseup",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.options.trackScroll&&(t(window).bind("scroll."+this._id,t.proxy(function(){clearTimeout(this.scrollTimer),this.isScrolling=!0,this.scrollTimer=setTimeout(t.proxy(function(){this.isScrolling=!1},this),2500)},this)),t(window).on("scroll",t.proxy(function(){t(window).trigger("scroll."+this._id)},this))),t(window).on("mouseup."+this._id,t.proxy(function(){this.isResizing()||this.isScrolling||(this.$bttn_wrapper.find("button[data-cmd]").removeClass("active"),this.selectionInEditor()&&""!==this.text()&&!this.isTouch()?this.show(null):this.$popup_editor.is(":visible")&&(this.hide(),this.closeImageMode()))},this)),t(window).on("mouseup",t.proxy(function(){t(window).trigger("window."+this._id)},this)),t(document).on("selectionchange."+this._id,t.proxy(function(e){this.isResizing()||this.isScrolling||(clearTimeout(this.selectionChangedTimeout),this.selectionChangedTimeout=setTimeout(t.proxy(function(){if(this.options.inlineMode&&this.selectionInEditor()&&this.link!==!0&&this.isTouch()){var t=this.text();""!==t?(this.iPhone()||this.iPod()?this.hide():this.show(null),e.stopPropagation()):(this.hide(),this.closeImageMode())}},this),75))},this)),t(document).on("selectionchange",function(e){t(document).trigger("selectionchange."+this._id,[e])}),t(window).bind("keydown."+this._id,t.proxy(function(e){var i=e.which;if(this.imageMode){if(13==i)return this.$element.find(".f-img-editor").parents(".f-img-wrap").before("<br/>"),this.sync(),this.$element.find(".f-img-editor img").click(),!1;if(46==i||8==i)return this.removeImage(this.$element.find(".f-img-editor")),!1}var a=this.getRange();if(a){var n=t(a.startContainer);if(13==i&&n.hasClass("f-img-wrap")){var s=t("<p><br/></p>");return 1==a.startOffset?n.closest(t.Editable.VALID_NODES.join(",")).after(s):0==a.startOffset&&n.closest(t.Editable.VALID_NODES.join(",")).before(s),this.setSelection(s.get(0)),this.sync(),!1}if(8==i){var o=null;if(n.hasClass("f-img-wrap")&&1==a.startOffset)o=n;else{var r=t(a.startContainer.childNodes[a.startOffset]);if(r.hasClass("f-img-wrap"))o=r;else if(r.get(0)&&"BR"==r.get(0).tagName)return r.remove(),!1}if(o)return o.next().get(0)&&"BR"==o.next().get(0).tagName?o.remove():o.replaceWith("<br/>"),!1}}!e.ctrlKey&&this.$popup_editor.is(":visible")&&(this.hide(),this.closeImageMode())},this)),t(window).bind("keydown",function(e){t(window).trigger("keydown."+this._id,[e])}),t(window).bind("keyup."+this._id,t.proxy(function(){this.selectionInEditor()&&""!==this.text()&&this.repositionEditor()},this)),t(window).bind("keyup",function(e){t(window).trigger("keyup."+this._id,[e])})},e.prototype.setTextNearImage=function(t){void 0!==t&&(this.options.textNearImage=t),this.options.textNearImage===!0?this.$element.removeClass("f-tni"):this.$element.addClass("f-tni")},e.prototype.setPlaceholder=function(t){t&&(this.options.placeholder=t),this.$textarea&&this.$textarea.attr("placeholder",this.options.placeholder),this.$element.attr("data-placeholder",this.options.placeholder)},e.prototype.isEmpty=function(){var t=this.$element.text().replace(/(\r\n|\n|\r|\t)/gm,"");return""===t&&0===this.$element.find("img, iframe, input").length&&0===this.$element.find("p > br, div > br").length&&0===this.$element.find("li, h1, h2, h3, h4, h5, h6, blockquote, pre").length},e.prototype.fakeEmpty=function(t){void 0===t&&(t=this.$element);var e=t.text().replace(/(\r\n|\n|\r|\t)/gm,"");return""===e&&1==t.find("p, div").length&&1==t.find("p > br, div > br").length&&0===t.find("img, table, iframe, input").length},e.prototype.setPlaceholderEvents=function(){this.$element.on("focus",t.proxy(function(){""==this.$element.text()&&this.focus(!1)},this)),this.$element.on("keyup keydown focus placeholderCheck",t.proxy(function(){if(this.pasting)return!1;if(this.options.editInPopup)return!1;if(!this.isHTML)if(!this.isEmpty()||this.fakeEmpty()||this.isHTML)!this.$element.find("p").length&&this.options.paragraphy?(this.wrapText(),this.$element.find("p, div").length&&""==this.text()?this.setSelection(this.$element.find("p, div")[0],this.$element.find("p, div").text().length,null,this.$element.find("p, div").text().length):this.$element.removeClass("f-placeholder")):this.fakeEmpty()===!1||this.$element.find(e.VALID_NODES.join(",")).length>1?this.$element.removeClass("f-placeholder"):this.$element.addClass("f-placeholder");else{var i,a=this.selectionInEditor()||this.$element.is(":focus");this.options.paragraphy?(i=t("<p><br/></p>"),this.$element.html(i),a&&this.setSelection(i.get(0)),this.$element.addClass("f-placeholder")):this.$element.addClass("f-placeholder")}},this)),this.$element.trigger("placeholderCheck")},e.prototype.setDimensions=function(t,e,i,a){t&&(this.options.height=t),e&&(this.options.width=e),i&&(this.options.minHeight=i),a&&(this.options.maxHeight=a),"auto"!=this.options.height&&this.$element.css("height",this.options.height),"auto"!=this.options.minHeight&&this.$element.css("minHeight",this.options.minHeight),"auto"!=this.options.maxHeight&&this.$element.css("maxHeight",this.options.maxHeight),"auto"!=this.options.width&&this.$box.css("width",this.options.width)},e.prototype.setDirection=function(t){t&&(this.options.direction=t),"ltr"!=this.options.direction&&"rtl"!=this.options.direction&&(this.options.direction="ltr"),"rtl"==this.options.direction?(this.$element.addClass("f-rtl"),this.$editor.addClass("f-rtl"),this.$popup_editor.addClass("f-rtl"),this.$image_modal&&this.$image_modal.addClass("f-rtl")):(this.$element.removeClass("f-rtl"),this.$editor.removeClass("f-rtl"),this.$popup_editor.removeClass("f-rtl"),this.$image_modal&&this.$image_modal.removeClass("f-rtl"))},e.prototype.setZIndex=function(t){t&&(this.options.zIndex=t),this.$editor.css("z-index",this.options.zIndex),this.$popup_editor.css("z-index",this.options.zIndex+1),this.$overlay&&this.$overlay.css("z-index",this.options.zIndex+2),this.$image_modal&&this.$image_modal.css("z-index",this.options.zIndex+3)},e.prototype.setTheme=function(t){t&&(this.options.theme=t),null!=this.options.theme&&(this.$editor.addClass(this.options.theme+"-theme"),this.$popup_editor.addClass(this.options.theme+"-theme"),this.$box&&this.$box.addClass(this.options.theme+"-theme"),this.$image_modal&&this.$image_modal.addClass(this.options.theme+"-theme"))},e.prototype.setBorderColor=function(t){t&&(this.options.borderColor=t);var i=e.hexToRGB(this.options.borderColor);null!==i&&(this.$editor.css("border-color",this.options.borderColor),this.$editor.attr("data-border-color",this.options.borderColor),this.$image_modal&&this.$image_modal.find(".f-modal-wrapper").css("border-color",this.options.borderColor),this.options.inlineMode||this.$element.css("border-color",this.options.borderColor))
},e.prototype.setSpellcheck=function(t){void 0!==t&&(this.options.spellcheck=t),this.$element.attr("spellcheck",this.options.spellcheck)},e.prototype.customizeText=function(e){if(e){var i=this.$editor.find("[title]").add(this.$popup_editor.find("[title]"));this.$image_modal&&(i=i.add(this.$image_modal.find("[title]"))),i.each(t.proxy(function(i,a){for(var n in e)t(a).attr("title").toLowerCase()==n.toLowerCase()&&t(a).attr("title",e[n])},this)),i=this.$editor.find('[data-text="true"]').add(this.$popup_editor.find('[data-text="true"]')),this.$image_modal&&(i=i.add(this.$image_modal.find('[data-text="true"]'))),i.each(t.proxy(function(i,a){for(var n in e)t(a).text().toLowerCase()==n.toLowerCase()&&t(a).text(e[n])},this))}},e.prototype.setLanguage=function(e){void 0!==e&&(this.options.language=e),t.Editable.LANGS[this.options.language]&&(this.customizeText(t.Editable.LANGS[this.options.language].translation),t.Editable.LANGS[this.options.language].direction&&this.setDirection(t.Editable.LANGS[this.options.language].direction),t.Editable.LANGS[this.options.language].translation[this.options.placeholder]&&this.setPlaceholder(t.Editable.LANGS[this.options.language].translation[this.options.placeholder]))},e.prototype.setCustomText=function(t){t&&(this.options.customText=t),this.options.customText&&this.customizeText(this.options.customText)},e.prototype.execHTML=function(){this.html()},e.prototype.initHTMLArea=function(){this.$html_area=t('<textarea wrap="hard">').keydown(function(e){var i=e.keyCode||e.which;if(9==i){e.preventDefault();var a=t(this).get(0).selectionStart,n=t(this).get(0).selectionEnd;t(this).val(t(this).val().substring(0,a)+"	"+t(this).val().substring(n)),t(this).get(0).selectionStart=t(this).get(0).selectionEnd=a+1}})},e.prototype.command_dispatcher={align:function(t){var e=this.buildDropdownAlign(t),i=this.buildDropdownButton(t,e,"fr-selector");this.$bttn_wrapper.append(i)},formatBlock:function(t){var e=this.buildDropdownFormatBlock(t),i=this.buildDropdownButton(t,e);this.$bttn_wrapper.append(i)},createLink:function(t){var e=this.buildDefaultButton(t);this.$bttn_wrapper.append(e)},insertImage:function(t){var e=this.buildDefaultButton(t);this.$bttn_wrapper.append(e)},undo:function(t){var e=this.buildDefaultButton(t);this.$bttn_wrapper.append(e)},redo:function(t){var e=this.buildDefaultButton(t);this.$bttn_wrapper.append(e)},html:function(e){var i=this.buildDefaultButton(e);this.$bttn_wrapper.append(i),this.options.inlineMode&&this.$box.append(t(i).clone(!0).addClass("html-switch").attr("title","Hide HTML").click(t.proxy(this.execHTML,this))),this.initHTMLArea()}},e.prototype.setButtons=function(t){t&&(this.options.buttons=t),this.$editor.append('<div class="bttn-wrapper" id="bttn-wrapper-'+this._id+'">'),this.$bttn_wrapper=this.$editor.find("#bttn-wrapper-"+this._id),this.isTouch()&&this.$bttn_wrapper.addClass("touch");for(var i,a,n=0;n<this.options.buttons.length;n++){var s=this.options.buttons[n];if("sep"!=s){var o=e.commands[s];if(void 0!==o){o.cmd=s;var r=this.command_dispatcher[o.cmd];r?r.apply(this,[o]):(o.seed?(i=this.buildDefaultDropdown(o),a=this.buildDropdownButton(o,i)):a=this.buildDefaultButton(o),this.$bttn_wrapper.append(a))}else{if(o=this.options.customButtons[s],void 0===o){if(o=this.options.customDropdowns[s],void 0===o)continue;a=this.buildCustomDropdown(o),this.$bttn_wrapper.append(a);continue}a=this.buildCustomButton(o),this.$bttn_wrapper.append(a)}}else this.$bttn_wrapper.append(this.options.inlineMode?'<div class="f-clear"></div><hr/>':'<span class="f-sep"></span>')}this.$bttn_wrapper.find('button[data-cmd="undo"], button[data-cmd="redo"]').prop("disabled",!0),this.buildCreateLink(),this.buildInsertImage(),this.options.mediaManager&&this.buildMediaManager(),this.bindButtonEvents()},e.prototype.buildDefaultButton=function(t){var e='<button type="button" class="fr-bttn" title="'+t.title+'" data-cmd="'+t.cmd+'">';return e+=void 0==this.options.icons[t.cmd]?this.addButtonIcon(t):this.prepareIcon(this.options.icons[t.cmd],t.title),e+="</button>"},e.prototype.prepareIcon=function(t,e){switch(t.type){case"font":return this.addButtonIcon({icon:t.value});case"img":return this.addButtonIcon({icon_img:t.value,title:e});case"txt":return this.addButtonIcon({icon_txt:t.value})}},e.prototype.addButtonIcon=function(t){return t.icon?'<i class="'+t.icon+'"></i>':t.icon_alt?'<i class="for-text">'+t.icon_alt+"</i>":t.icon_img?'<img src="'+t.icon_img+'" alt="'+t.title+'"/>':t.icon_txt?"<i>"+t.icon_txt+"</i>":t.title},e.prototype.buildCustomButton=function(e){var i=t('<button type="button" class="fr-bttn" title="'+e.title+'">'+this.prepareIcon(e.icon,e.title)+"</button>");return i.on("click touchend",t.proxy(function(t){t.stopPropagation(),t.preventDefault(),e.callback(this)},this)),i},e.prototype.callDropdown=function(e,i,a){e.on("click touch",t.proxy(function(){i.options[a].call(this)},this))},e.prototype.buildCustomDropdown=function(e){var i='<div class="fr-bttn fr-dropdown">';i+='<button type="button" class="fr-trigger" title="'+e.title+'">'+this.prepareIcon(e.icon,e.title)+"</button>";var a=t('<ul class="fr-dropdown-menu"></ul>');for(var n in e.options){var s=t('<a href="#">'+n+"</a>"),o=t("<li>").append(s);this.callDropdown(s,e,n),a.append(o)}return t(i).append(a)},e.prototype.buildDropdownButton=function(t,e,i){i=i||"";var a='<div class="fr-bttn fr-dropdown '+i+'" data-name="'+t.cmd+'">',n='<button type="button" class="fr-trigger" title="'+t.title+'">'+this.addButtonIcon(t)+"</button>";return a+=n,a+=e,a+="</div>"},e.prototype.buildDropdownAlign=function(t){for(var e='<ul class="fr-dropdown-menu f-align">',i=0;i<t.seed.length;i++){var a=t.seed[i];e+='<li data-cmd="'+a.cmd+'" title="'+a.title+'"><a href="#"><i class="'+a.icon+'"></i></a></li>'}return e+="</ul>"},e.prototype.buildDropdownFormatBlock=function(e){for(var i='<ul class="fr-dropdown-menu">',a=0;a<e.seed.length;a++){var n=e.seed[a];if(-1!=t.inArray(n.value,this.options.blockTags)){var s='<li data-cmd="'+e.cmd+'" data-val="'+n.value+'">';s+='<a href="#" data-text="true" class="format-'+n.value+'" title="'+n.title+'">'+n.title+"</a></li>",i+=s}}return i+="</ul>"},e.prototype.buildDefaultDropdown=function(t){for(var e='<ul class="fr-dropdown-menu">',i=0;i<t.seed.length;i++){var a=t.seed[i],n='<li data-cmd="'+(a.cmd||t.cmd)+'" data-val="'+a.value+'" data-param="'+(a.param||t.param)+'">';n+='<a href="#" data-text="true" class="'+a.value+'" title="'+a.title+'">'+a.title+"</a></li>",e+=n}return e+="</ul>"},e.prototype.createEditPopupHTML=function(){var t='<div class="froala-popup froala-text-popup">';return t+='<h4><span data-text="true">Edit text</span><i title="Cancel" class="fa fa-times" id="f-text-close-'+this._id+'"></i></h4></h4>',t+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu" id="f-ti-'+this._id+'">',t+='<button data-text="true" type="button" class="f-ok" id="f-edit-popup-ok-'+this._id+'">OK</button>',t+="</div>",t+="</div>"},e.prototype.buildEditPopup=function(){this.$edit_popup_wrapper=t(this.createEditPopupHTML()),this.$popup_editor.append(this.$edit_popup_wrapper),this.$edit_popup_wrapper.find("#f-ti-"+this._id).on("mouseup keydown",function(t){t.stopPropagation()}),this.$edit_popup_wrapper.on("click","#f-edit-popup-ok-"+this._id,t.proxy(function(){this.$element.text(this.$edit_popup_wrapper.find("#f-ti-"+this._id).val()),this.sync(),this.hide()},this)),this.$edit_popup_wrapper.on("click","i#f-text-close-"+this._id,t.proxy(function(){this.hide()},this))},e.prototype.createCORSRequest=function(t,e){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(t,e,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(t,e)):i=null,i},e.prototype.getSelectionLinks=function(){var t,e,i,a,n=[];if(window.getSelection){var s=window.getSelection();if(s.getRangeAt&&s.rangeCount){a=document.createRange();for(var o=0;o<s.rangeCount;++o)if(t=s.getRangeAt(o),e=t.commonAncestorContainer,1!=e.nodeType&&(e=e.parentNode),"a"==e.nodeName.toLowerCase())n.push(e);else{i=e.getElementsByTagName("a");for(var r=0;r<i.length;++r)a.selectNodeContents(i[r]),a.compareBoundaryPoints(t.END_TO_START,t)<1&&a.compareBoundaryPoints(t.START_TO_END,t)>-1&&n.push(i[r])}a.detach()}}else if(document.selection&&"Control"!=document.selection.type)if(t=document.selection.createRange(),e=t.parentElement(),"a"==e.nodeName.toLowerCase())n.push(e);else{i=e.getElementsByTagName("a"),a=document.body.createTextRange();for(var l=0;l<i.length;++l)a.moveToElementText(i[l]),a.compareEndPoints("StartToEnd",t)>-1&&a.compareEndPoints("EndToStart",t)<1&&n.push(i[l])}return n},e.prototype.isEnabled=function(e){return t.inArray(e,this.options.buttons)>=0},e.prototype.bindButtonEvents=function(){this.bindDropdownEvents(),this.bindCommandEvents()},e.prototype.canTouch=function(e){var i=e.currentTarget;return"touchend"==e.type&&t(i).data("touched",!0),"mouseup"==e.type&&1!=e.which?!1:"mouseup"==e.type&&t(i).data("touched")?!1:!0},e.prototype.bindDropdownEvents=function(){var e=this;this.$bttn_wrapper.on("mouseup touchend",".fr-dropdown .fr-trigger",function(i){return i.stopPropagation(),i.preventDefault(),e.canTouch(i)?("touchend"==i.type&&e.android()&&(e.saveSelectionByMarkers(),setTimeout(function(){e.restoreSelectionByMarkers()},10)),e.options.inlineMode===!1&&e.hide(),t(this).toggleClass("active").trigger("blur"),void e.$bttn_wrapper.find(".fr-dropdown").not(t(this).parent()).find(".fr-trigger").removeClass("active")):!1}),t(window).on("mouseup selectionchange",t.proxy(function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active")},this)),this.$element.on("mouseup","img, a",t.proxy(function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active")},this)),this.$bttn_wrapper.find(".fr-selector button.fr-bttn").bind("select",function(){t(this).parents(".fr-selector").find(" > button > i").attr("class",t(this).find("i").attr("class"))}).on("click touch",function(){t(this).parents("ul").find("button").removeClass("active"),t(this).parents(".fr-selector").removeClass("active").trigger("mouseout"),t(this).trigger("select")}),this.$bttn_wrapper.on("click","li[data-cmd] > a",function(t){t.preventDefault()})},e.prototype.bindCommandEvents=function(){var e=this;this.$bttn_wrapper.on("mouseup touchend touchmove","button[data-cmd], li[data-cmd], span[data-cmd]",t.proxy(function(i){var a=i.currentTarget;if("touchmove"!=i.type){if(i.stopPropagation(),i.preventDefault(),!this.canTouch(i))return!1;if(t(a).data("dragging"))return t(a).removeData("dragging"),!1;var n=t(a).data("cmd"),s=t(a).data("val"),o=t(a).data("param");"touchend"==i.type&&e.android()&&this.saveSelectionByMarkers(),e.exec(n,s,o),e.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"),"touchend"==i.type&&e.android()&&this.restoreSelectionByMarkers()}else t(a).data("dragging",!0)},this))},e.prototype._startInDefault=function(t,e){this.$element.focus(),this.$bttn_wrapper.find('[data-cmd="'+t+'"]').toggleClass("active"),void 0==e?document.execCommand(t,!1,!1):document.execCommand(t,!1,e)},e.prototype._startInFontExec=function(t,e,i){this.$element.focus(),this.insertHTML('<span data-inserted="true" data-font="'+e+'" style="'+t+": "+i+'"></span>',!0);var a=this.$element.find("[data-inserted]");a.removeAttr("data-inserted"),this.setSelection(a.get(0))},e.prototype.removeFormat=function(){document.execCommand("removeFormat",!1,!1),document.execCommand("unlink",!1,!1)},e.prototype.undo=function(){if(this.undoIndex>1){var t=this.getHTML(),e=this.undoStack[--this.undoIndex-1];this.$element.html(e),this.$element.focus(),this.restoreSelectionByMarkers(),this.callback("undo",[this.getHTML(),t]),""!=this.text()?this.repositionEditor():this.hide()}this.refreshUndoRedo(),this.focus()},e.prototype.redo=function(){if(this.undoIndex<this.undoStack.length){var t=this.$element.html(),e=this.undoStack[this.undoIndex++];this.$element.html(e),this.$element.focus(),this.restoreSelectionByMarkers(),this.callback("redo",[this.getHTML(),t]),""!=this.text()?this.repositionEditor():this.hide()}this.refreshUndoRedo(),this.focus()},e.prototype.save=function(){if(this.callback("beforeSave",[],!1)!==!0)return!1;if(this.options.saveURL){var e={};for(var i in this.options.saveParams){var a=this.options.saveParams[i];e[i]="function"==typeof a?a.call(this):a}t.ajax({type:this.options.saveRequestType,url:this.options.saveURL,data:t.extend({body:this.getHTML()},this.options.saveParams)}).done(t.proxy(function(t){this.callback("afterSave",[t])},this)).fail(t.proxy(function(){this.callback("saveError",["Save request failed on the server."])},this))}else this.callback("saveError",["Missing save URL."])},e.prototype.sanitizeURL=function(t){return this.options.enableScript?t:/^https?:\/\//.test(t)?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):encodeURIComponent(t).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/%3A/g,":").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@")},e.prototype.option=function(e,i){if(void 0===e)return this.options;if(e instanceof Object)this.options=t.extend({},this.options,e),this.initOptions(),this.setCustomText(),this.setLanguage();else{if(void 0===i)return this.options[e];switch(this.options[e]=i,e){case"borderColor":this.setBorderColor();break;case"direction":this.setDirection();break;case"height":case"width":case"minHeight":case"maxHeight":this.setDimensions();break;case"spellcheck":this.setSpellcheck();break;case"placeholder":this.setPlaceholder();break;case"customText":this.setCustomText();break;case"language":this.setLanguage();break;case"textNearImage":this.setTextNearImage();break;case"zIndex":this.setZIndex();break;case"theme":this.setTheme()}}};var i=t.fn.editable;t.fn.editable=function(i){for(var a=[],n=0;n<arguments.length;n++)a.push(arguments[n]);if("string"==typeof i){var s=[];return this.each(function(){var e=t(this),n=e.data("fa.editable");if(void 0!==n){var o=n[i].apply(n,a.slice(1));s.push(void 0===o?this:o)}else s.push(void 0)}),s}return this.each(function(){var a=this,n=t(a),s=n.data("fa.editable");s||n.data("fa.editable",s=new e(a,i))})},t.fn.editable.Constructor=e,t.Editable=e,t.fn.editable.noConflict=function(){return t.fn.editable=i,this}}(window.jQuery),$.Editable.commands={bold:{title:"Bold",icon:"fa fa-bold",shortcut:"(Ctrl + B)"},italic:{title:"Italic",icon:"fa fa-italic",shortcut:"(Ctrl + I)"},underline:{cmd:"underline",title:"Underline",icon:"fa fa-underline",shortcut:"(Ctrl + U)"},strikeThrough:{title:"Strikethrough",icon:"fa fa-strikethrough"},formatBlock:{title:"Format Block",icon:"fa fa-paragraph",seed:[{value:"n",title:"Normal"},{value:"p",title:"Paragraph"},{value:"pre",title:"Code"},{value:"blockquote",title:"Quote"},{value:"h1",title:"Heading 1"},{value:"h2",title:"Heading 2"},{value:"h3",title:"Heading 3"},{value:"h4",title:"Heading 4"},{value:"h5",title:"Heading 5"},{value:"h6",title:"Heading 6"}]},align:{title:"Alignment",icon:"fa fa-align-center",seed:[{cmd:"justifyLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"justifyCenter",title:"Align Center",icon:"fa fa-align-center"},{cmd:"justifyRight",title:"Align Right",icon:"fa fa-align-right"},{cmd:"justifyFull",title:"Justify",icon:"fa fa-align-justify"}]},insertOrderedList:{title:"Numbered List",icon:"fa fa-list-ol"},insertUnorderedList:{title:"Bulleted List",icon:"fa fa-list-ul"},outdent:{title:"Indent Less",icon:"fa fa-dedent",activeless:!0,shortcut:"(Ctrl + <)"},indent:{title:"Indent More",icon:"fa fa-indent",activeless:!0,shortcut:"(Ctrl + >)"},selectAll:{title:"Select All",icon:"fa fa-file-text",shortcut:"(Ctrl + A)"},createLink:{title:"Insert Link",icon:"fa fa-link",shortcut:"(Ctrl + K)"},insertImage:{title:"Insert Image",icon:"fa fa-picture-o",activeless:!0,shortcut:"(Ctrl + P)"},undo:{title:"Undo",icon:"fa fa-undo",activeless:!0,shortcut:"(Ctrl+Z)",disabled:function(){return!0}},redo:{title:"Redo",icon:"fa fa-repeat",activeless:!0,shortcut:"(Shift+Ctrl+Z)",disabled:function(){return!0}},html:{title:"Show HTML",icon:"fa fa-code"},save:{title:"Save",icon:"fa fa-floppy-o"},insertHorizontalRule:{title:"Insert Horizontal Line",icon:"fa fa-minus"}},$.Editable.prototype.execCommand={formatBlock:function(t,e){this.formatBlock(e)},createLink:function(){this.insertLink()},insertImage:function(){this.insertImage()},indent:function(){this.indent()},outdent:function(){this.outdent(!0)},justifyLeft:function(t){this.align(t)},justifyRight:function(t){this.align(t)},justifyCenter:function(t){this.align(t)},justifyFull:function(t){this.align(t)},insertOrderedList:function(t){this.formatList(t)},insertUnorderedList:function(t){this.formatList(t)},undo:function(){this.undo()},redo:function(){this.redo()},html:function(){this.html()},save:function(){this.save()},selectAll:function(t,e){this.$element.focus(),this.execDefault(t,e)},insertHorizontalRule:function(t,e){this.execDefault(t,e),this.hide()}},$.Editable.prototype.exec=function(t,e,i){if(!this.selectionInEditor()&&"html"!==t&&"undo"!==t&&"redo"!==t&&"selectAll"!==t&&"save"!=t&&"insertImage"!==t&&"insertVideo"!==t&&"insertTable"!=t)return!1;if(this.selectionInEditor()){if(""===this.text()){if("bold"===t||"italic"===t||"underline"===t||"strikeThrough"==t)return this._startInDefault(t),!1;if("fontSize"==t)return this._startInFontExec("font-size",t,e),!1;if("fontFamily"==t)return this._startInFontExec("font-family",t,e),!1;if("backColor"==t||"foreColor"==t)return this._startInDefault(t,e),!1}if(""===this.text()&&"insertHorizontalRule"!=t&&"fontSize"!==t&&"formatBlock"!==t&&"blockStyle"!==t&&"indent"!==t&&"outdent"!==t&&"justifyLeft"!==t&&"justifyRight"!==t&&"justifyFull"!==t&&"justifyCenter"!==t&&"html"!==t&&"undo"!==t&&"redo"!==t&&"selectAll"!==t&&"save"!==t&&"insertImage"!==t&&"insertVideo"!==t&&"insertOrderedList"!==t&&"insertUnorderedList"!==t&&"insertTable"!=t&&"insertRowAbove"!=t&&"insertRowBelow"!=t&&"deleteRow"!=t&&"insertColumnBefore"!=t&&"insertColumnAfter"!=t&&"deleteColumn"!=t&&"insertHeader"!=t&&"deleteHeader"!=t&&"insertCellBefore"!=t&&"insertCellAfter"!=t&&"deleteCell"!=t&&"mergeCells"!=t&&"splitHorizontal"!=t&&"splitVertical"!=t&&"deleteTable"!=t)return!1}this.execCommand[t]?this.execCommand[t].apply(this,[t,e,i]):this.execDefault(t,e),"undo"!=t&&"redo"!=t&&"selectAll"!=t&&"createLink"!=t&&"insertImage"!=t&&"html"!=t&&"insertVideo"!=t&&this.saveUndoStep(),"createLink"!=t&&"insertImage"!=t&&this.refreshButtons()},$.Editable.prototype.beautify=function(t){return"undefined"!=typeof html_beautify?html_beautify(t):t},$.Editable.prototype.html=function(){var t;this.isHTML?(this.isHTML=!1,t=this.options.enableScript?this.$html_area.val():this.stripScript(this.$html_area.val()),t=this.clean(t,!0,!1),this.$element.html(t).attr("contenteditable",!0),this.$box.removeClass("f-html"),this.$editor.find('.fr-bttn:not([data-cmd="html"]), .fr-trigger').prop("disabled",!1),this.$editor.find('.fr-bttn[data-cmd="html"]').removeClass("active"),this.saveUndoStep(),this.options.pragraphy&&this.wrapText(),this.refreshButtons(),this.callback("htmlHide",[t]),this.focus()):(this.$element.removeClass("f-placeholder"),t=this.options.inlineMode?"\n\n"+this.beautify(this.getHTML()):this.beautify(this.getHTML()),t=t.replace(/\&amp;/g,"&"),this.$html_area.val(t).trigger("resize"),this.options.inlineMode&&this.$box.find(".html-switch").css("top",this.$box.css("padding-top")),this.$html_area.css("height",this.$element.height()+20),this.$element.html(this.$html_area).removeAttr("contenteditable"),this.$box.addClass("f-html"),this.$editor.find('button.fr-bttn:not([data-cmd="html"]), button.fr-trigger').prop("disabled",!0),this.$editor.find('.fr-bttn[data-cmd="html"]').addClass("active"),this.options.inlineMode&&this.hide(),this.isHTML=!0,this.$element.blur(),this.$element.removeAttr("contenteditable"),this.callback("htmlShow",[t]))},$.Editable.prototype.formatBlock=function(t,e,i){if(this.disabledList.indexOf("formatBlock")>=0)return!1;if(this.browser.msie&&$.Editable.getIEversion()<9)return document.execCommand("formatBlock",!1,"<"+t+">"),!1;this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var a=this.getSelectionElements();this.saveSelectionByMarkers();for(var n,s=0;s<a.length;s++){var o=$(a[s]);if(!this.fakeEmpty(o))if(n="n"==t?this.options.paragraphy?$("<div>").html(o.html()):o.html()+"<br/>":$("<"+t+">").html(o.html()),o.get(0)!=this.$element.get(0)&&"LI"!=o.get(0).tagName&&"TD"!=o.get(0).tagName&&"TH"!=o.get(0).tagName){var r=o.prop("attributes");if(n.attr)for(var l=0;l<r.length;l++)"class"!==r[l].name&&n.attr(r[l].name,r[l].value);var d;this.options.blockStyles&&this.options.blockStyles[t],void 0===d&&(d=this.options.defaultBlockStyle);try{if(o.hasClass(e))n.addClass(o.attr("class")).removeClass(e);else{if(void 0===o.attr("class")||void 0===d||!this.options.blockStylesToggle&&"toggle"!=i)n.addClass(o.attr("class"));else for(var p=o.attr("class").split(" "),h=0;h<p.length;h++){var c=p[h];void 0==d[c]&&void 0==i?n.addClass(c):void 0!=d[c]&&"toggle"==i&&n.addClass(c)}"*"!=e&&n.addClass(e)}}catch(u){}o.replaceWith(n)}else o.html(n)}this.unwrapText(),this.restoreSelectionByMarkers(),this.callback("formatBlock"),this.repositionEditor()},$.Editable.prototype.formatList=function(t){if(this.browser.msie&&$.Editable.getIEversion()<9)return document.execCommand(t,!1,!1),!1;this.saveSelectionByMarkers();for(var e,i=this.getSelectionElements(),a=!0,n=!1,s=0;s<i.length;s++)if(e=$(i[s]),e.parents("li").length>0||"LI"==e.get(0).tagName){var o;o="LI"==e.get(0).tagName?e:e.parents("li"),e.parents("ol").length>0?(o.before('<span class="close-ol"></span>'),o.after('<span class="open-ol"></span>')):e.parents("ul").length>0&&(o.before('<span class="close-ul"></span>'),o.after('<span class="open-ul"></span>')),o.replaceWith(o.contents()),n=!0}else a=!1;if(n){var r=this.$element.html();r=r.replace(new RegExp('<span class="close-ul"></span>',"g"),"</ul>"),r=r.replace(new RegExp('<span class="open-ul"></span>',"g"),"<ul>"),r=r.replace(new RegExp('<span class="close-ol"></span>',"g"),"</ol>"),r=r.replace(new RegExp('<span class="open-ol"></span>',"g"),"<ol>"),this.$element.html(r),this.$element.find("ul:empty, ol:empty").remove()}if(this.clearSelection(),a===!1){this.wrapText(),this.restoreSelectionByMarkers(),i=this.getSelectionElements(),this.saveSelectionByMarkers();var l=$("<ol>");"insertUnorderedList"==t&&(l=$("<ul>"));for(var d=0;d<i.length;d++)e=$(i[d]),e.get(0)!=this.$element.get(0)&&(l.append($("<li>").append(e.clone())),d!=i.length-1?e.remove():(e.replaceWith(l),l.find("li")));this.unwrapText()}this.restoreSelectionByMarkers(),this.repositionEditor(),this.callback(t)},$.Editable.prototype.align=function(t){if(this.browser.msie&&$.Editable.getIEversion()<9)return document.execCommand(t,!1,!1),!1;var e=this.getSelectionElements();"justifyLeft"==t?t="left":"justifyRight"==t?t="right":"justifyCenter"==t?t="center":"justifyFull"==t&&(t="justify");for(var i=0;i<e.length;i++)$(e[i]).css("text-align",t);this.repositionEditor(),this.callback("align",[t])},$.Editable.prototype.indent=function(t){if(this.browser.msie&&$.Editable.getIEversion()<9)return t?document.execCommand("outdent",!1,!1):document.execCommand("indent",!1,!1),!1;var e=20;t&&(e=-20),this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var i=this.getSelectionElements();this.saveSelectionByMarkers();for(var a=0;a<i.length;a++){var n=$(i[a]);if(n.parentsUntil(this.$element,"li").length>0&&(n=n.parentsUntil(this.$element,"li")),n.get(0)!=this.$element.get(0)){var s=parseInt(n.css("margin-left").replace(/px/,""),10),o=Math.max(0,s+e);n.css("marginLeft",o),"LI"===n.get(0).tagName&&(o%60===0?0===n.parents("ol").length?n.css("list-style-type","disc"):n.css("list-style-type","decimal"):o%40===0?0===n.parents("ol").length?n.css("list-style-type","square"):n.css("list-style-type","lower-latin"):0===n.parents("ol").length?n.css("list-style-type","circle"):n.css("list-style-type","lower-roman"))}else{var r=$("<div>").html(n.html());n.html(r),r.css("marginLeft",Math.max(0,e))}}this.unwrapText(),this.restoreSelectionByMarkers(),this.repositionEditor(),t||this.callback("indent")},$.Editable.prototype.outdent=function(){this.indent(!0),this.callback("outdent")},$.Editable.prototype.insertLink=function(){this.showInsertLink(),this.options.inlineMode||this.positionPopup("createLink"),this.saveSelection();var t=this.getSelectionLink()||"",e=this.getSelectionLinks();e.length>0?this.$link_wrapper.find('input[type="checkbox"]').prop("checked","_blank"==$(e[0]).attr("target")):this.$link_wrapper.find('input[type="checkbox"]').prop("checked",this.options.alwaysBlank),this.$link_wrapper.find(".f-external-link").attr("href",t||"#"),this.$link_wrapper.find('input[type="text"]').val(t.replace(/\&amp;/g,"&")||"http://")},$.Editable.prototype.insertImage=function(){this.showInsertImage(),this.saveSelection(),this.options.inlineMode||this.positionPopup("insertImage"),this.imageMode=!1,this.$image_wrapper.find('input[type="text"]').val("")},$.Editable.prototype.execDefault=function(t,e){document.execCommand(t,!1,e),"insertOrderedList"==t?this.$bttn_wrapper.find('[data-cmd="insertUnorderedList"]').removeClass("active"):"insertUnorderedList"==t&&this.$bttn_wrapper.find('[data-cmd="insertOrderedList"]').removeClass("active"),this.callback(t)},$.Editable.prototype._events={},$.Editable.prototype.addListener=function(t,e){var i=this._events,a=i[t]=i[t]||[];a.push(e)},$.Editable.prototype.raiseEvent=function(t,e){void 0==e&&(e=[]);var i=this._events[t];if(i)for(var a=0,n=i.length;n>a;a++)i[a].apply(this,e)},$.Editable.prototype.isActive=function(t,e){switch(t){case"fontFamily":return this._isActiveFontFamily(e);case"fontSize":return this._isActiveFontSize(e);case"backColor":return this._isActiveBackColor(e);case"foreColor":return this._isActiveForeColor(e);case"formatBlock":return this._isActiveFormatBlock(e);case"blockStyle":return this._isActiveBlockStyle(e);case"createLink":case"insertImage":return!1;case"justifyLeft":case"justifyRight":case"justifyCenter":case"justifyFull":return this._isActiveAlign(t);case"html":return this._isActiveHTML();case"undo":case"redo":case"save":return!1;default:return this._isActiveDefault(t)}},$.Editable.prototype._isActiveFontFamily=function(t){var e=this.getSelectionElement();return $(e).css("fontFamily").replace(/ /g,"")===t.replace(/ /g,"")?!0:!1},$.Editable.prototype._isActiveFontSize=function(t){var e=this.getSelectionElement();return $(e).css("fontSize")===t?!0:!1},$.Editable.prototype._isActiveBackColor=function(t){for(var e=this.getSelectionElement();$(e).get(0)!=this.$element.get(0);){if($(e).css("background-color")===t)return!0;if("transparent"!=$(e).css("background-color")&&"rgba(0, 0, 0, 0)"!=$(e).css("background-color"))return!1;e=$(e).parent()}return!1},$.Editable.prototype._isActiveForeColor=function(t){return document.queryCommandValue("foreColor")===t?!0:!1},$.Editable.prototype._isActiveFormatBlock=function(t){"CODE"===t.toUpperCase()?t="PRE":"N"===t.toUpperCase()&&(t="DIV");for(var e=$(this.getSelectionElement());e.get(0)!=this.$element.get(0);){if(e.get(0).tagName==t.toUpperCase())return!0;e=e.parent()}return!1},$.Editable.prototype._isActiveBlockStyle=function(t){for(var e=$(this.getSelectionElement());e.get(0)!=this.$element.get(0);){if(e.hasClass(t))return!0;e=e.parent()}return!1},$.Editable.prototype._isActiveAlign=function(t){var e=this.getSelectionElements();return"justifyLeft"==t?t="left":"justifyRight"==t?t="right":"justifyCenter"==t?t="center":"justifyFull"==t&&(t="justify"),t==$(e[0]).css("text-align")?!0:!1},$.Editable.prototype._isActiveHTML=function(){return this.isHTML?!0:!1},$.Editable.prototype._isActiveDefault=function(t){try{if(document.queryCommandState(t)===!0)return!0}catch(e){}return!1},$.Editable.prototype.refresh_disabled=["createLink","insertImage","undo","redo","save"],$.Editable.prototype.refresh_dispatcher={fontSize:function(t){this.refreshFontSize(t)},fontFamily:function(t){this.refreshFontFamily(t)},formatBlock:function(t){this.refreshFormatBlock(t)},justifyLeft:function(t){this.refreshAlign(t)},justifyRight:function(t){this.refreshAlign(t)},justifyCenter:function(t){this.refreshAlign(t)},justifyFull:function(t){this.refreshAlign(t)},html:function(t){this.isActive("html")?$(t).addClass("active"):$(t).removeClass("active")}},$.Editable.prototype.registerRefreshEvent=function(t,e){this.refresh_dispatcher[t]=e},$.Editable.prototype.refreshButtons=function(){if(!(this.selectionInEditor()&&!this.isHTML||this.browser.msie&&$.Editable.getIEversion()<9))return!1;this.$bttn_wrapper.find('[data-cmd="formatBlock"]').each($.proxy(function(t,e){this.refreshFormatBlock(e)},this));for(var t=0;t<this.options.buttons.length;t++){var e=this.options.buttons[t];void 0!=$.Editable.commands[e]&&(void 0!=$.Editable.commands[e].disabled&&$.Editable.commands[e].disabled.call(this)===!0?this.$editor.find('[data-name="'+e+'"]').attr("data-disabled",!0):this.$editor.find('[data-name="'+e+'"]').removeAttr("data-disabled"))}this.refreshUndoRedo(),this.raiseEvent("refresh"),this.$bttn_wrapper.find("[data-cmd]").not('[data-cmd="formatBlock"]').each($.proxy(function(t,e){var i=$(e).data("cmd");this.refresh_dispatcher[i]?this.refresh_dispatcher[i].apply(this,[e]):this.refreshDefault(e)},this))},$.Editable.prototype.refreshFormatBlock=function(t){this.disabledList.indexOf("formatBlock")>=0&&$(t).parents(".fr-dropdown").attr("data-disabled",!0),$(t).removeClass("active"),this.isActive($(t).data("cmd"),$(t).data("val"))&&$(t).addClass("active")},$.Editable.prototype.refreshUndoRedo=function(){if(this.isEnabled("undo")||this.isEnabled("redo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="undo"], [data-cmd="redo"]').prop("disabled",!1),(0===this.undoStack.length||this.undoIndex<=1||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="undo"]').prop("disabled",!0),(this.undoIndex==this.undoStack.length||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="redo"]').prop("disabled",!0)}},$.Editable.prototype.refreshDefault=function(t){$(t).removeClass("active"),this.isActive($(t).data("cmd"))&&$(t).addClass("active")},$.Editable.prototype.refreshAlign=function(t){var e=$(t).data("cmd");this.isActive(e)&&($(t).parents("ul").find("li").removeClass("active"),$(t).addClass("active"),$(t).parents(".fr-dropdown").find(".fr-trigger i").attr("class",$(t).find("i").attr("class")))},$.Editable.prototype.refreshForeColor=function(t){$(t).removeClass("active"),this.isActive("foreColor",t.style.backgroundColor)&&$(t).addClass("active")},$.Editable.prototype.refreshBackColor=function(t){$(t).removeClass("active"),this.isActive("backColor",t.style.backgroundColor)&&$(t).addClass("active")},$.Editable.prototype.refreshFontSize=function(t){$(t).removeClass("active"),this.isActive("fontSize",$(t).data("val"))&&$(t).addClass("active")},$.Editable.prototype.refreshFontFamily=function(t){$(t).removeClass("active"),this.isActive("fontFamily",$(t).data("val"))&&$(t).addClass("active")},$.Editable.prototype.text=function(){var t="";return window.getSelection?t=window.getSelection():document.getSelection?t=document.getSelection():document.selection&&(t=document.selection.createRange().text),t.toString()},$.Editable.prototype.selectionInEditor=function(){var t=this.getSelectionParent(),e=!1;return t==this.$element.get(0)&&(e=!0),e===!1&&$(t).parents().each($.proxy(function(t,i){i==this.$element.get(0)&&(e=!0)},this)),e},$.Editable.prototype.getSelection=function(){var t="";return t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection.createRange()},$.Editable.prototype.getRange=function(){var t=this.getRanges();return t.length>0?t[0]:null},$.Editable.prototype.getRanges=function(){var t=this.getSelection();if(t.getRangeAt&&t.rangeCount){for(var e=[],i=0;i<t.rangeCount;i++)e.push(t.getRangeAt(i));
return e}return document.createRange?[document.createRange()]:[]},$.Editable.prototype.clearSelection=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},$.Editable.prototype.getSelectionElement=function(){var t=this.getSelection();if(t.rangeCount){var e=t.getRangeAt(0).startContainer;1!=e.nodeType&&(e=e.parentNode),$(e).children().length>0&&$($(e).children()[0]).text()==this.text()&&(e=$(e).children()[0]);for(var i=e;"BODY"!=i.tagName;){if(i==this.$element.get(0))return e;i=$(i).parent()[0]}}return this.$element.get(0)},$.Editable.prototype.getSelectionParent=function(){var t,e=null;return window.getSelection?(t=window.getSelection(),t.rangeCount&&(e=t.getRangeAt(0).commonAncestorContainer,1!=e.nodeType&&(e=e.parentNode))):(t=document.selection)&&"Control"!=t.type&&(e=t.createRange().parentElement()),null!=e&&($.inArray(this.$element.get(0),$(e).parents())>=0||e==this.$element.get(0))?e:null},$.Editable.prototype.nodeInRange=function(t,e){var i;if(t.intersectsNode)return t.intersectsNode(e);i=e.ownerDocument.createRange();try{i.selectNode(e)}catch(a){i.selectNodeContents(e)}return-1==t.compareBoundaryPoints(Range.END_TO_START,i)&&1==t.compareBoundaryPoints(Range.START_TO_END,i)},$.Editable.prototype.getElementFromNode=function(t){for(1!=t.nodeType&&(t=t.parentNode);null!==t&&$.Editable.VALID_NODES.indexOf(t.tagName)<0;)t=t.parentNode;return null!=t&&"LI"==t.tagName&&$(t).find($.Editable.VALID_NODES.join()).length>0?null:$.makeArray($(t).parents()).indexOf(this.$element.get(0))>=0?t:null},$.Editable.prototype.nextNode=function(t){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null},$.Editable.prototype.getRangeSelectedNodes=function(t){var e=t.startContainer,i=t.endContainer;if(e==i)return[e];for(var a=[];e&&e!=i;)a.push(e=this.nextNode(e));for(e=t.startContainer;e&&e!=t.commonAncestorContainer;)a.unshift(e),e=e.parentNode;return a},$.Editable.prototype.getSelectedNodes=function(){if(window.getSelection){var t=window.getSelection();if(!t.isCollapsed)return this.getRangeSelectedNodes(t.getRangeAt(0));if(this.selectionInEditor()){var e=t.getRangeAt(0).startContainer;return 3==e.nodeType?[e.parentNode]:[e]}}return[]},$.Editable.prototype.getSelectionElements=function(){var t=this.getSelectedNodes(),e=[];return $.each(t,$.proxy(function(t,i){if(null!==i){var a=this.getElementFromNode(i);e.indexOf(a)<0&&a!=this.$element.get(0)&&null!==a&&e.push(a)}},this)),0===e.length&&e.push(this.$element.get(0)),e},$.Editable.prototype.getSelectionCells=function(){var t=[];if(this.browser.webkit)for(var e=this.getSelectionElements(),i=0;i<e.length;i++)"TD"==e[i].tagName&&t.push(e[i]);else for(var a=this.getRanges(),i=0;i<a.length;i++){var n=a[i];if("TD"==n.startContainer.tagName||"TH"==n.startContainer.tagName)t.push(n.startContainer);else{var s=n.startContainer.childNodes,o=n.startOffset;if(s.length>o&&o>=0){var r=s[o];("TD"==r.tagName||"TH"==r.tagName)&&t.push(r)}}}return t},$.Editable.prototype.getSelectionLink=function(){var t,e=null;return window.getSelection?(t=window.getSelection(),e=1!==t.anchorNode.nodeType?t.anchorNode.parentNode.parentNode.href:t.anchorNode.parentNode.href):(t=document.selection)&&"Control"!=t.type&&(e=t.createRange().parentElement().href),void 0===e?null:e},$.Editable.prototype.saveSelection=function(){if(!this.selectionDisabled){var t,e,i,a=this.getSelection();if(a.getRangeAt&&a.rangeCount){for(i=[],t=0,e=a.rangeCount;e>t;t+=1)i.push(a.getRangeAt(t));this.savedRanges=i}else this.savedRanges=null}},$.Editable.prototype.restoreSelection=function(){if(!this.selectionDisabled){var t,e,i=this.getSelection();if(this.savedRanges)for(i.removeAllRanges(),t=0,e=this.savedRanges.length;e>t;t+=1)i.addRange(this.savedRanges[t])}},$.Editable.prototype.saveSelectionByMarkers=function(){if(!this.selectionDisabled){var t=this.getRanges();this.removeMarkers();for(var e=0;e<t.length;e++)this.placeMarker(t[e],!0,e),this.placeMarker(t[e],!1,e)}},$.Editable.prototype.restoreSelectionByMarkers=function(){if(!this.selectionDisabled){var t=this.$element.find('.f-marker[data-type="true"]');if(t.length>0){var e=this.getSelection();this.$element.focus(),this.clearSelection()}for(var i=0;i<t.length;i++){var a=$(t[i]).data("id"),n=t[i],s=this.$element.find('.f-marker[data-type="false"][data-id="'+a+'"]');if(s.length>0){s=s[0];var o=document.createRange();o.setStartAfter(n),o.setEndBefore(s),e.addRange(o)}}t.length>0&&(this.editableDisabled||this.isHTML||this.options.editInPopup||this.$element.attr("contenteditable",!0),this.removeMarkers())}},$.Editable.prototype.setSelection=function(t,e,i,a){var n=this.getSelection();if(n){this.clearSelection();try{i||(i=t),void 0===e&&(e=0),void 0==a&&(a=e);var s=this.getRange();s.setStart(t,e),s.setEnd(i,a),n.addRange(s)}catch(o){}}},$.Editable.prototype.placeMarker=function(t,e,i){try{var a=t.cloneRange();a.collapse(e),a.insertNode($('<span class="f-marker" data-type="'+e+'" data-id="'+i+'">',document)[0]),a.detach()}catch(n){}},$.Editable.prototype.removeMarkers=function(){this.$element.find(".f-marker").remove()},$.Editable.prototype.getSelectionTextInfo=function(t){var e,i,a=!1,n=!1;if(window.getSelection){var s=window.getSelection();s.rangeCount&&(e=s.getRangeAt(0),i=e.cloneRange(),i.selectNodeContents(t),i.setEnd(e.startContainer,e.startOffset),a=""===i.toString(),i.selectNodeContents(t),i.setStart(e.endContainer,e.endOffset),n=""===i.toString())}else document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange(),i=e.duplicate(),i.moveToElementText(t),i.setEndPoint("EndToStart",e),a=""===i.text,i.moveToElementText(t),i.setEndPoint("StartToEnd",e),n=""===i.text);return{atStart:a,atEnd:n}},$.Editable.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},$.Editable.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,a){return e+e+i+i+a+a});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},$.Editable.hexToRGBString=function(t){var e=this.hexToRGB(t);return"rgb("+e.r+", "+e.g+", "+e.b+")"},$.Editable.getIEversion=function(){var t,e,i=-1;return"Microsoft Internet Explorer"==navigator.appName?(t=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(t=navigator.userAgent,e=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))),i},$.Editable.browser=function(){var t={};if($.Editable.getIEversion()>0)t.msie=!0;else{var e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],a={browser:i[1]||"",version:i[2]||"0"};i[1]&&(t[a.browser]=!0),parseInt(a.version,10)<9&&t.msie&&(t.oldMsie=!0),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0)}return t},$.Editable.prototype.show=function(t){if(void 0!==t){if(this.options.inlineMode)if(null!==t&&"touchend"!==t.type){var e=t.pageX,i=t.pageY;e<this.$element.offset().left&&(e=this.$element.offset().left),e>this.$element.offset().left+this.$element.width()&&(e=this.$element.offset().left+this.$element.width()),i<this.$element.offset.top&&(i=this.$element.offset().top),i>this.$element.offset().top+this.$element.height()&&(i=this.$element.offset().top+this.$element.height()),20>e&&(e=20),0>i&&(i=0),this.showByCoordinates(e,i),$(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),0==this.options.buttons.length&&this.$editor.hide()}else $(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),this.repositionEditor();this.hidePopups(),this.options.editInPopup||this.showEditPopupWrapper(),this.$bttn_wrapper.show(),this.refreshButtons(),this.imageMode=!1}},$.Editable.prototype.hideDropdowns=function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"),this.$bttn_wrapper.find(".fr-dropdown .fr-trigger")},$.Editable.prototype.hide=function(t){void 0===t&&(t=!0),t?this.hideOtherEditors():(this.closeImageMode(),this.imageMode=!1),this.$popup_editor.hide(),this.hidePopups(!1),this.hideDropdowns(),this.link=!1},$.Editable.prototype.hideOtherEditors=function(){for(var t=1;t<=$.Editable.count;t++)t!=this._id&&$(window).trigger("hide."+t)},$.Editable.prototype.hideBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.hide()},$.Editable.prototype.showBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.show()},$.Editable.prototype.showEditPopupWrapper=function(){this.$edit_popup_wrapper&&(this.$edit_popup_wrapper.show(),setTimeout($.proxy(function(){this.$edit_popup_wrapper.find("input").val(this.$element.text()).focus().select()},this),1))},$.Editable.prototype.hideEditPopupWrapper=function(){this.$edit_popup_wrapper&&this.$edit_popup_wrapper.hide()},$.Editable.prototype.hidePopups=function(t){void 0==t&&(t=!0),t&&this.hideBttnWrapper(),this.raiseEvent("hidePopups")},$.Editable.prototype.showEditPopup=function(){this.hidePopups(),this.showEditPopupWrapper()},$.Editable.prototype.getBoundingRect=function(){var t;if(this.isLink){t={};var e=this.$element;t.left=e.offset().left-$(window).scrollLeft(),t.top=e.offset().top-$(window).scrollTop(),t.width=e.outerWidth(),t.height=parseInt(e.css("padding-top").replace("px",""))+e.height(),t.right=1,t.bottom=1,t.ok=!0}else t=this.getRange().getBoundingClientRect();return t},$.Editable.prototype.repositionEditor=function(t){var e,i,a;(this.options.inlineMode||t)&&(e=this.getBoundingRect(),this.showBttnWrapper(),e.ok||e.left>=0&&e.top>=0&&e.right>0&&e.bottom>0?(i=e.left+e.width/2,a=e.top+e.height,this.iPad()||(i+=$(window).scrollLeft(),a+=$(window).scrollTop()),this.showByCoordinates(i,a)):this.options.alwaysVisible?this.hide():(document.execCommand("selectAll",!1,!1),e=this.getBoundingRect(),i=e.left,a=e.top+e.height,this.iPad()||(i+=$(window).scrollLeft(),a+=$(window).scrollTop()),this.showByCoordinates(i,a-20),this.getRange().collapse(!1)),0==this.options.buttons.length&&this.hide())},$.Editable.prototype.showByCoordinates=function(t,e){t-=20,e+=15;var i=Math.max(this.$popup_editor.width(),250);t+i>=$(window).width()-50&&t+40-i>0?(this.$popup_editor.addClass("right-side"),t=$(window).width()-(t+40),this.$popup_editor.css("top",e),this.$popup_editor.css("right",t),this.$popup_editor.css("left","auto")):t+i<$(window).width()-50?(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",e),this.$popup_editor.css("left",t),this.$popup_editor.css("right","auto")):(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",e),this.$popup_editor.css("left",Math.max($(window).width()-i,10)/2),this.$popup_editor.css("right","auto")),this.$popup_editor.show()},$.Editable.prototype.positionPopup=function(t){if($(this.$editor.find('button.fr-bttn[data-cmd="'+t+'"]')).length){var e=this.$editor.find('button.fr-bttn[data-cmd="'+t+'"]'),i=e.width(),a=e.height()-15,n=e.offset().left+i/2,s=e.offset().top+a;this.showByCoordinates(n,s)}},$.Editable.image_commands={floatImageLeft:{title:"Float Left",icon:{type:"font",value:"fa fa-align-left"}},floatImageNone:{title:"Float None",icon:{type:"font",value:"fa fa-align-justify"}},floatImageRight:{title:"Float Right",icon:{type:"font",value:"fa fa-align-right"}},linkImage:{title:"Insert Link",icon:{type:"font",value:"fa fa-link"}},replaceImage:{title:"Replace Image",icon:{type:"font",value:"fa fa-exchange"}},removeImage:{title:"Remove Image",icon:{type:"font",value:"fa fa-trash-o"}}},$.Editable.prototype.hideImageEditorPopup=function(){this.$image_editor&&this.$image_editor.hide()},$.Editable.prototype.showImageEditorPopup=function(){this.$image_editor&&this.$image_editor.show(),this.options.imageMove||this.$element.attr("contenteditable",!1)},$.Editable.prototype.showImageWrapper=function(){this.$image_wrapper&&this.$image_wrapper.show()},$.Editable.prototype.hideImageWrapper=function(t){this.$image_wrapper&&(this.$element.attr("data-resize")||t||(this.closeImageMode(),this.imageMode=!1),this.$image_wrapper.hide())},$.Editable.prototype.showInsertImage=function(){this.hidePopups(),this.showImageWrapper()},$.Editable.prototype.showImageEditor=function(){this.hidePopups(),this.showImageEditorPopup()},$.Editable.prototype.insertImageHTML=function(){var t='<div class="froala-popup froala-image-popup" style="display: block;"><h4><span data-text="true">Insert image</span><i title="Cancel" class="fa fa-times" id="f-image-close-'+this._id+'"></i></h4>';return t+='<div id="f-image-list-'+this._id+'">',this.options.imageUpload&&(t+='<div class="f-popup-line drop-upload">',t+='<div class="f-upload" id="f-upload-div-'+this._id+'"><strong data-text="true">Drop Image</strong><br>(<span data-text="true">or click</span>)<form target="frame-'+this._id+'" enctype="multipart/form-data" encoding="multipart/form-data" action="'+this.options.imageUploadURL+'" method="post" id="f-upload-form-'+this._id+'"><input id="f-file-upload-'+this._id+'" type="file" name="'+this.options.imageUploadParam+'" accept="image/*"></form></div>',this.browser.msie&&$.Editable.getIEversion()<=9&&(t+='<iframe id="frame-'+this._id+'" name="frame-'+this._id+'" src="javascript:false;" style="width:0; height:0; border:0px solid #FFF; position: fixed; z-index: -1;" data-loaded="true"></iframe>'),t+="</div>"),this.options.imageLink&&(t+='<div class="f-popup-line"><label><span data-text="true">Enter URL</span>: </label><input id="f-image-url-'+this._id+'" type="text" placeholder="http://example.com"><button class="f-browse" id="f-browser-'+this._id+'"><i class="fa fa-search"></i></button><button data-text="true" class="f-ok" id="f-image-ok-'+this._id+'">OK</button></div>'),t+="</div>",t+='<p class="f-progress" id="f-progress-'+this._id+'"><span></span></p>',t+="</div>"},$.Editable.prototype.iFrameLoad=function(){var t=this.$image_wrapper.find("iframe#frame-"+this._id);if(!t.data("loaded"))return t.data("loaded",!0),!1;try{var e=this.$image_wrapper.find("#f-upload-form-"+this._id);if(this.$image_wrapper.find("#f-file-upload-"+this._id),this.options.imageUploadToS3){var i=e.attr("action"),a=e.find('input[name="key"]').val(),n=i+a;this.writeImage(n),this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,n,a)}else{var s=t.contents().text();this.parseImageResponse(s)}}catch(o){this.throwImageError(7)}},$.Editable.prototype.buildInsertImage=function(){this.$image_wrapper=$(this.insertImageHTML()),this.$popup_editor.append(this.$image_wrapper);var t=this;if(this.addListener("hidePopups",$.proxy(function(){this.hideImageWrapper(!0)}),this),this.$progress_bar=this.$image_wrapper.find("p#f-progress-"+this._id),this.options.imageUpload){if(this.browser.msie&&$.Editable.getIEversion()<=9){var e=this.$image_wrapper.find("iframe").get(0);e.attachEvent?e.attachEvent("onload",function(){t.iFrameLoad()}):e.onload=function(){t.iFrameLoad()}}this.$image_wrapper.on("change",'input[type="file"]',function(){if(void 0!==this.files)t.uploadFile(this.files);else{var e=$(this).parents("form");e.find('input[type="hidden"]').remove();var i;for(i in t.options.imageUploadParams)e.prepend('<input type="hidden" name="'+i+'" value="'+t.options.imageUploadParams[i]+'" />');if(void 0!==t.options.imageUploadToS3){for(i in t.options.imageUploadToS3.params)e.prepend('<input type="hidden" name="'+i+'" value="'+t.options.imageUploadToS3.params[i]+'" />');e.prepend('<input type="hidden" name="success_action_status" value="201" />'),e.prepend('<input type="hidden" name="X-Requested-With" value="xhr" />'),e.prepend('<input type="hidden" name="Content-Type" value="" />'),e.prepend('<input type="hidden" name="key" value="'+t.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+$(this).val().match(/[^\/\\]+$/)+'" />')}else e.prepend('<input type="hidden" name="XHR_CORS_TRARGETORIGIN" value="'+window.location.href+'" />');t.$image_wrapper.find("#f-image-list-"+t._id).hide(),t.$progress_bar.show(),t.$progress_bar.find("span").css("width","100%").text("Please wait!"),t.showInsertImage(),e.submit()}}),this.buildDragUpload()}this.$image_wrapper.on("mouseup keydown","#f-image-url-"+this._id,$.proxy(function(t){t.stopPropagation()},this)),this.$image_wrapper.on("click","#f-image-ok-"+this._id,$.proxy(function(){this.writeImage(this.$image_wrapper.find("#f-image-url-"+this._id).val(),!0)},this)),this.$image_wrapper.on("click","#f-image-close-"+this._id,$.proxy(function(){this.$bttn_wrapper.show(),this.hideImageWrapper(!0),this.options.inlineMode&&0==this.options.buttons.length&&(this.imageMode?this.showImageEditor():this.hide()),this.imageMode||this.restoreSelection(),this.options.inlineMode||this.imageMode?this.imageMode&&this.showImageEditor():this.hide()},this)),this.$image_wrapper.on("click",function(t){t.stopPropagation()}),this.$image_wrapper.on("click","*",function(t){t.stopPropagation()})},$.Editable.prototype.deleteImage=function(t){if(this.options.imageDeleteURL){var e=this.options.imageDeleteParams;e.info=t.data("info"),$.post(this.options.imageDeleteURL,e,$.proxy(function(e){t.parent().parent().hasClass("f-image-list")?t.parent().remove():t.parent().removeClass("f-img-deleting"),this.callback("imageDeleteSuccess",[e],!1)},this)).fail($.proxy(function(){t.parent().removeClass("f-img-deleting"),this.callback("imageDeleteError",["Error during image delete."],!1)},this))}else t.parent().removeClass("f-img-deleting"),this.callback("imageDeleteError",["Missing imageDeleteURL option."],!1)},$.Editable.prototype.imageHandle=function(){var t=this,e=$("<span>").addClass("f-img-handle").on({movestart:function(e){t.hide(),t.$element.addClass("f-non-selectable").attr("contenteditable",!1),t.$element.attr("data-resize",!0),$(this).attr("data-start-x",e.startX),$(this).attr("data-start-y",e.startY)},move:function(e){var i=$(this),a=e.pageX-parseInt(i.attr("data-start-x"),10);i.attr("data-start-x",e.pageX),i.attr("data-start-y",e.pageY);var n=i.prevAll("img"),s=n.width();i.hasClass("f-h-ne")||i.hasClass("f-h-se")?n.attr("width",s+a):n.attr("width",s-a),t.callback("imageResize",[],!1)},moveend:function(){$(this).removeAttr("data-start-x"),$(this).removeAttr("data-start-y"),t.$element.removeClass("f-non-selectable"),t.isImage||t.$element.attr("contenteditable",!0),t.callback("imageResizeEnd"),$(this).trigger("mouseup")}});return e},$.Editable.prototype.disableImageResize=function(){if(this.browser.mozilla)try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(t){}},$.Editable.prototype.isResizing=function(){return this.$element.attr("data-resize")},$.Editable.prototype.initImageResizer=function(){this.disableImageResize();var t=this;document.addEventListener&&document.addEventListener("drop",$.proxy(function(){setTimeout($.proxy(function(){t.closeImageMode(),t.hide(),this.sync(),this.clearSelection()},this),10)},this)),this.$element.on("mousedown","img",function(){t.isResizing()||(t.imageHTML=t.getHTML(),(!t.options.imageMove||t.browser.msie)&&t.$element.attr("contenteditable",!1))}),this.$element.on("mouseup","img",function(){t.isResizing()||t.options.imageMove||t.isImage||t.isHTML||t.$element.attr("contenteditable",!0)}),this.$element.on("click touchend","img",function(e){if(!t.isResizing()){e.preventDefault(),e.stopPropagation(),t.$element.blur(),t.$image_editor.find("button").removeClass("active");var i=$(this).css("float");t.$image_editor.find('button[data-cmd="floatImage'+i.charAt(0).toUpperCase()+i.slice(1)+'"]').addClass("active"),t.$image_editor.find('.f-image-alt input[type="text"]').val($(this).attr("alt")||$(this).attr("title")),t.showImageEditor(),$(this).parent().hasClass("f-img-editor")&&"SPAN"==$(this).parent().get(0).tagName||($(this).wrap('<span class="f-img-editor" style="float: '+$(this).css("float")+"; margin-left:"+$(this).css("margin-left")+" ; margin-right:"+$(this).css("margin-right")+"; margin-bottom: "+$(this).css("margin-bottom")+"; margin-top: "+$(this).css("margin-bottom")+';"></span>'),$(this).css("margin-left","auto"),$(this).css("margin-right","auto"),$(this).css("margin-bottom","auto"),$(this).css("margin-top","auto"),0!==$(this).parents(".f-img-wrap").length||t.isImage||$(this).parent().wrap('<span class="f-img-wrap"></span>'));var a=t.imageHandle();$(this).parent().find(".f-img-handle").remove(),t.options.imageResize&&($(this).parent().append(a.clone(!0).addClass("f-h-ne")),$(this).parent().append(a.clone(!0).addClass("f-h-se")),$(this).parent().append(a.clone(!0).addClass("f-h-sw")),$(this).parent().append(a.clone(!0).addClass("f-h-nw"))),t.clearSelection(),t.showByCoordinates($(this).offset().left+$(this).width()/2,$(this).offset().top+$(this).height()),t.imageMode=!0,t.$bttn_wrapper.find(".fr-bttn").removeClass("active")}})},$.Editable.prototype.initImagePopup=function(){this.$image_editor=$('<div class="froala-popup froala-image-editor-popup">');for(var t=$('<div class="f-popup-line">').appendTo(this.$image_editor),e=0;e<this.options.imageButtons.length;e++){var i=this.options.imageButtons[e];if(void 0!==$.Editable.image_commands[i]){var a=$.Editable.image_commands[i],n='<button class="fr-bttn" data-cmd="'+i+'" title="'+a.title+'">';n+=void 0!==this.options.icons[i]?this.prepareIcon(this.options.icons[i],a.title):this.prepareIcon(a.icon,a.title),n+="</button>",t.append(n)}}this.addListener("hidePopups",this.hideImageEditorPopup);var s=($('<div class="f-popup-line f-image-alt">').append('<label><span data-text="true">Title</span>: </label>').append($('<input type="text">').on("mouseup keydown",function(t){t.stopPropagation()})).append('<button class="f-ok" data-text="true" data-cmd="setImageAlt" title="OK">OK</button>').appendTo(this.$image_editor),this);this.$image_editor.find("button").click(function(t){t.stopPropagation(),s[$(this).attr("data-cmd")](s.$element.find("span.f-img-editor"))}),this.$popup_editor.append(this.$image_editor)},$.Editable.prototype.floatImageLeft=function(t){this.options.inlineMode?t.css("margin-left","3px"):t.css("margin-left","auto"),t.css("margin-right",this.options.imageMargin),t.css("margin-bottom",this.options.imageMargin),t.css("margin-top",this.options.imageMargin),t.css("float","left"),t.find("img").css("float","left"),this.isImage&&this.$element.css("float","left"),this.saveUndoStep(),this.callback("floatImageLeft"),t.find("img").click()},$.Editable.prototype.floatImageNone=function(t){t.css("margin-left","auto"),t.css("margin-right","auto"),t.css("margin-bottom",this.options.imageMargin),t.css("margin-top",this.options.imageMargin),t.css("float","none"),t.find("img").css("float","none"),this.isImage||(t.parent().get(0)==this.$element.get(0)?t.wrap('<div style="text-align: center;"></div>'):t.parents(".f-img-wrap:first").css("text-align","center")),this.isImage&&this.$element.css("float","none"),this.saveUndoStep(),this.callback("floatImageNone"),t.find("img").click()},$.Editable.prototype.floatImageRight=function(t){this.options.inlineMode?t.css("margin-right","3px"):t.css("margin-right","auto"),t.css("margin-left",this.options.imageMargin),t.css("margin-bottom",this.options.imageMargin),t.css("margin-top",this.options.imageMargin),t.css("float","right"),t.find("img").css("float","right"),this.isImage&&this.$element.css("float","right"),this.saveUndoStep(),this.callback("floatImageRight"),t.find("img").click()},$.Editable.prototype.linkImage=function(t){this.showInsertLink(),this.imageMode=!0,"A"==t.parent().get(0).tagName?(this.$link_wrapper.find('input[type="text"]').val(t.parent().attr("href")),this.$link_wrapper.find(".f-external-link").attr("href",t.parent().attr("href")),"_blank"==t.parent().attr("target")?this.$link_wrapper.find('input[type="checkbox"]').prop("checked",!0):this.$link_wrapper.find('input[type="checkbox"]').prop("checked",!1)):(this.$link_wrapper.find('input[type="text"]').val("http://"),this.$link_wrapper.find(".f-external-link").attr("href","#"),this.$link_wrapper.find('input[type="checkbox"]').prop("checked",this.options.alwaysBlank))},$.Editable.prototype.replaceImage=function(t){this.showInsertImage(),this.imageMode=!0,this.$image_wrapper.find('input[type="text"]').val(t.find("img").attr("src")),this.showByCoordinates(this.$popup_editor.offset().left+20,this.$popup_editor.offset().top-15)},$.Editable.prototype.removeImage=function(t){var e=t.find("img").get(0),i="Are you sure? Image will be deleted.";$.Editable.LANGS[this.options.language]&&(i=$.Editable.LANGS[this.options.language].translation[i]),confirm(i)?this.callback("beforeRemoveImage",[$(e)],!1)===!0&&($(e).attr("src"),t.parents(".f-img-wrap").length?t.parents(".f-img-wrap").remove():t.remove(),this.refreshImageList(!0),this.hide(),this.saveUndoStep(),this.callback("afterRemoveImage",[$(e)]),this.focus()):t.find("img").click()},$.Editable.prototype.setImageAlt=function(t){t.find("img").attr("alt",this.$image_editor.find('.f-image-alt input[type="text"]').val()),t.find("img").attr("title",this.$image_editor.find('.f-image-alt input[type="text"]').val()),this.saveUndoStep(),this.hide(),this.closeImageMode(),this.callback("setImageAlt")},$.Editable.prototype.addImageWrapper=function(){this.isImage||this.$element.find("img").each(function(t,e){var i=$(e);0===i.parents(".f-img-wrap").length&&(i.parents("a").length>0?$(i.parents("a")[0]).wrap('<span class="f-img-wrap"></span>'):i.wrap('<span class="f-img-wrap"></span>'))})},$.Editable.prototype.buildDragUpload=function(){var t=this;t.$image_wrapper.on("dragover","#f-upload-div-"+this._id,function(){return $(this).addClass("f-hover"),!1}),t.$image_wrapper.on("dragend","#f-upload-div-"+this._id,function(){return $(this).removeClass("f-hover"),!1}),t.$image_wrapper.on("drop","#f-upload-div-"+this._id,function(e){$(this).removeClass("f-hover"),e.preventDefault(),e.stopPropagation(),t.uploadFile(e.originalEvent.dataTransfer.files)})},$.Editable.prototype.hideImageLoader=function(){this.$progress_bar.hide(),this.$progress_bar.find("span").css("width","0%").text(""),this.$image_wrapper.find("#f-image-list-"+this._id).show()},$.Editable.prototype.writeImage=function(t,e){e&&(t=this.sanitizeURL(t));var i=new Image;return i.onerror=$.proxy(function(){this.hideImageLoader(),this.throwImageError(1)},this),this.imageMode?(i.onload=$.proxy(function(){this.$element.find(".f-img-editor > img").attr("src",t),this.hide(),this.hideImageLoader(),this.$image_editor.show(),this.saveUndoStep(),this.callback("replaceImage",[t])},this),i.src=t,!1):(i.onload=$.proxy(function(){this.$element.focus(),this.restoreSelection(),this.callback("imageLoaded",[t],!1);var e='<img alt="Image title" src="'+t+'" width="'+this.options.defaultImageWidth+'" style="min-width: 16px; min-height: 16px; margin-bottom: '+this.options.imageMargin+"px; margin-left: auto; margin-right: auto; margin-top: "+this.options.imageMargin+'px">',i=this.getSelectionElements()[0],a=this.getRange(),n=!this.browser.msie&&$.Editable.getIEversion()>8?$(a.startContainer):null;n&&n.hasClass("f-img-wrap")?(1==a.startOffset?(n.after('<span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span>'),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()):0==a.startOffset&&(n.before('<span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span>'),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()),this.insertHTML(e)):this.getSelectionTextInfo(i).atStart&&i!=this.$element.get(0)&&"TD"!=i.tagName&&"TH"!=i.tagName&&"LI"!=i.tagName?$(i).before("<p>"+e+"</p>"):this.insertHTML(e),this.$element.find("img").each(function(t,e){e.oncontrolselect=function(){return!1}}),this.hide(),this.hideImageLoader(),this.saveUndoStep(),this.callback("insertImage",[t])},this),void(i.src=t))},$.Editable.prototype.throwImageErrorWithMessage=function(t){this.options.imageErrorCallback&&$.isFunction(this.options.imageErrorCallback)&&this.options.imageErrorCallback({message:t,code:0}),this.hideImageLoader()},$.Editable.prototype.throwImageError=function(t){var e="Unknown image upload error.";1==t?e="Bad link.":2==t?e="No link in upload response.":3==t?e="Error during file upload.":4==t?e="Parsing response failed.":5==t?e="Image too large.":6==t?e="Invalid image type.":7==t&&(e="Image can be uploaded only to same domain in IE 8 and IE 9."),this.options.imageErrorCallback&&$.isFunction(this.options.imageErrorCallback)&&this.options.imageErrorCallback({code:t,message:e}),this.hideImageLoader()},$.Editable.prototype.uploadFile=function(t){if(this.callback("beforeFileUpload",[t],!1)!==!0)return!1;if(void 0!==t&&t.length>0){var e;if(this.drag_support.formdata&&(e=this.drag_support.formdata?new FormData:null),e){var i;for(i in this.options.imageUploadParams)e.append(i,this.options.imageUploadParams[i]);if(void 0!==this.options.imageUploadToS3){for(i in this.options.imageUploadToS3.params)e.append(i,this.options.imageUploadToS3.params[i]);e.append("success_action_status","201"),e.append("X-Requested-With","xhr"),e.append("Content-Type",t[0].type),e.append("key",this.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+t[0].name)}if(e.append(this.options.imageUploadParam,t[0]),t[0].size>this.options.maxImageSize)return this.throwImageError(5),!1;if(this.options.allowedImageTypes.indexOf(t[0].type.replace(/image\//g,""))<0)return this.throwImageError(6),!1}if(e){var a;this.options.crossDomain?a=this.createCORSRequest("POST",this.options.imageUploadURL):(a=new XMLHttpRequest,a.open("POST",this.options.imageUploadURL)),a.onload=$.proxy(function(){this.$progress_bar.find("span").css("width","100%").text("Please wait!");try{200==a.status?this.parseImageResponse(a.responseText):201==a.status?this.parseImageResponseXML(a.responseXML):this.throwImageError(3)}catch(t){this.throwImageError(4)}},this),a.onerror=$.proxy(function(){this.throwImageError(3)},this),a.upload.onprogress=$.proxy(function(t){if(t.lengthComputable){var e=t.loaded/t.total*100|0;this.$progress_bar.find("span").css("width",e+"%")}},this),a.send(e),this.$image_wrapper.find("#f-image-list-"+this._id).hide(),this.$progress_bar.show(),this.showInsertImage()}}},$.Editable.prototype.parseImageResponse=function(t){try{var e=$.parseJSON(t);e.link?this.writeImage(e.link):e.error?this.throwImageErrorWithMessage(e.error):this.throwImageError(2)}catch(i){this.throwImageError(4)}},$.Editable.prototype.parseImageResponseXML=function(t){try{var e=$(t).find("Location").text(),i=$(t).find("Key").text();this.options.imageUploadToS3.callback.call(this,e,i),e?this.writeImage(e):this.throwImageError(2)}catch(a){this.throwImageError(4)}},$.Editable.prototype.setImageUploadURL=function(t){t&&(this.options.imageUploadURL=t),this.options.imageUploadToS3&&(this.options.imageUploadURL="https://"+this.options.imageUploadToS3.bucket+"."+this.options.imageUploadToS3.region+".amazonaws.com/")},$.Editable.prototype.closeImageMode=function(){this.$element.find("span.f-img-editor > img").each(function(t,e){$(e).css("margin-left",$(e).parent().css("margin-left")),$(e).css("margin-right",$(e).parent().css("margin-right")),$(e).css("margin-bottom",$(e).parent().css("margin-bottom")),$(e).css("margin-top",$(e).parent().css("margin-top")),$(e).siblings("span.f-img-handle").remove().end().unwrap()}),this.$element.find("span.f-img-editor").length&&(this.$element.find("span.f-img-editor").remove(),this.$element.parents("span.f-img-editor").remove()),this.$element.removeClass("f-non-selectable"),this.editableDisabled||this.isHTML||this.$element.attr("contenteditable",!0),this.$image_editor&&this.$image_editor.hide()},$.Editable.prototype.refreshImageList=function(t){if(!this.isLink&&!this.options.editInPopup){this.addImageWrapper();var e=[],i=this;
if(this.$element.find("img").each(function(t,a){var n=$(a);if(e.push(n.attr("src")),"right"==n.css("float")){var s=n.parent();s.hasClass("f-img-editor")?(s.css("margin-left",i.options.imageMargin).css("margin-bottom",i.options.imageMargin).css("margin-top",i.options.imageMargin).css("margin-right","3px"),n.css("margin","auto")):n.css("margin-left",i.options.imageMargin).css("margin-bottom",i.options.imageMargin).css("margin-top",i.options.imageMargin).css("margin-right","3px")}else if("left"==n.css("float")){var s=n.parent();s.hasClass("f-img-editor")?(s.css("margin-right",i.options.imageMargin).css("margin-bottom",i.options.imageMargin).css("margin-top",i.options.imageMargin).css("margin-left","3px"),n.css("margin","auto")):n.css("margin-right",i.options.imageMargin).css("margin-bottom",i.options.imageMargin).css("margin-top",i.options.imageMargin).css("margin-left","3px")}}),void 0===t)for(var a=0;a<this.imageList.length;a++)e.indexOf(this.imageList[a])<0&&this.callback("afterRemoveImage",[this.imageList[a]],!1);this.imageList=e}},$.Editable.prototype.showLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.show(),this.$link_wrapper.trigger("hideLinkList"),setTimeout($.proxy(function(){this.$link_wrapper.find('input[type="text"]').focus().select()},this),0),this.link=!0)},$.Editable.prototype.hideLinkWrapper=function(){this.$link_wrapper&&this.$link_wrapper.hide()},$.Editable.prototype.showInsertLink=function(){this.hidePopups(),this.showLinkWrapper()},$.Editable.prototype.initLink=function(){var t=this,e=function(t){t.stopPropagation(),t.preventDefault()},i=function(e){e.stopPropagation(),e.preventDefault(),t.link=!0,t.clearSelection(),t.removeMarkers(),t.selectionDisabled||($(this).before('<span class="f-marker" data-type="true" data-id="0"></span>'),$(this).after('<span class="f-marker" data-type="false" data-id="0"></span>')),t.restoreSelectionByMarkers(),t.exec("createLink");var i=$(this).attr("href")||"";t.$link_wrapper.find("input.f-lt").val($(this).text()),t.isLink?("#"==i&&(i=""),t.$link_wrapper.find("input.f-lu").val(i.replace(/\&amp;/g,"&")),t.$link_wrapper.find(".f-external-link").attr("href",i||"#")):(t.$link_wrapper.find("input.f-lu").val(i.replace(/\&amp;/g,"&")),t.$link_wrapper.find(".f-external-link").attr("href",i)),t.$link_wrapper.find('input[type="checkbox"]').prop("checked","_blank"==$(this).attr("target")),t.showByCoordinates($(this).offset().left+$(this).width()/2,$(this).offset().top+$(this).height()),t.$link_wrapper.find("input.f-lu").focus(),t.closeImageMode(),t.showInsertLink()};this.isLink?this.iOS()?(this.$element.on("click",e),this.$element.on("touchend",i)):this.$element.on("click",i):this.iOS()?(this.$element.on("click","a",e),this.$element.on("touchend","a",i)):this.$element.on("click","a",i)},$.Editable.prototype.writeLink=function(t,e,i,a){this.options.noFollow&&(a=!0),this.options.alwaysBlank&&(i=!0);var n="",s="";if(a===!0&&(n='rel="nofollow"'),i===!0&&(s='target="_blank"'),t=this.sanitizeURL(t),this.imageMode)""!==t?("A"!=this.$element.find(".f-img-editor").parent().get(0).tagName?this.$element.find(".f-img-editor").wrap('<a class="f-link" href="'+t+'" '+s+" "+n+"></a>"):(i===!0?this.$element.find(".f-img-editor").parent().attr("target","_blank"):this.$element.find(".f-img-editor").parent().removeAttr("target"),a===!0?this.$element.find(".f-img-editor").parent().attr("rel","nofollow"):this.$element.find(".f-img-editor").parent().removeAttr("rel"),this.$element.find(".f-img-editor").parent().attr("href",t)),this.callback("insertImageLink",[t])):("A"==this.$element.find(".f-img-editor").parent().get(0).tagName&&$(this.$element.find(".f-img-editor").get(0)).unwrap(),this.callback("removeImageLink")),this.saveUndoStep(),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1;else{if(this.isLink?""==e&&(e=this.$element.text()):(this.restoreSelection(),document.execCommand("unlink",!1,t),this.saveSelectionByMarkers(),this.$element.find("span.f-link").each(function(t,e){$(e).replaceWith($(e).html())}),this.restoreSelectionByMarkers()),""!==t){var o;this.isLink?(this.$element.text(e),o=[this.$element.attr("href",t).get(0)]):(document.execCommand("createLink",!1,t),o=this.getSelectionLinks());for(var r=0;r<o.length;r++)i===!0?$(o[r]).attr("target","_blank"):$(o[r]).removeAttr("target"),a===!0?$(o[r]).attr("rel","nofollow"):$(o[r]).removeAttr("rel"),$(o[r]).addClass("f-link");this.$element.find("a:empty").remove(),this.callback("insertLink",[t])}else this.$element.find("a:empty").remove(),this.callback("removeLink");this.saveUndoStep(),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1}},$.Editable.prototype.createLinkHTML=function(){var t='<div class="froala-popup froala-link-popup">';t+='<h4><span data-text="true">Insert link</span><a target="_blank" title="Open Link" class="f-external-link" href="#"><i class="fa fa-external-link"></i></a><i title="Cancel" class="fa fa-times" id="f-link-close-'+this._id+'"></i></h4>',this.isLink&&this.options.linkText&&(t+='<div class="f-popup-line"><input type="text" placeholder="Text" class="f-lt" id="f-lt-'+this._id+'"></div>');var e="";if(this.options.linkList.length&&(e="f-bi"),t+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu '+e+'" id="f-lu-'+this._id+'">',this.options.linkList.length){t+='<button class="f-browse-links" id="f-browse-links-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',t+='<ul id="f-link-list-'+this._id+'">';for(var i=0;i<this.options.linkList.length;i++){var a=this.options.linkList[i];t+='<li class="f-choose-link" data-nofollow="'+a.nofollow+'" data-blank="'+a.blank+'" data-body="'+a.body+'" data-title="'+a.title+'" data-href="'+a.href+'">'+a.body+"</li>"}t+="</ul>"}return t+="</div>",t+='<div class="f-popup-line"><input type="checkbox" id="f-checkbox-'+this._id+'"> <label data-text="true" for="f-checkbox-'+this._id+'">Open in new tab</label><button data-text="true" type="button" class="f-ok" id="f-ok-'+this._id+'">OK</button>',this.options.unlinkButton&&(t+='<button type="button" data-text="true" class="f-ok f-unlink" id="f-unlink-'+this._id+'">UNLINK</button>'),t+="</div></div>"},$.Editable.prototype.buildCreateLink=function(){this.$link_wrapper=$(this.createLinkHTML()),this.$popup_editor.append(this.$link_wrapper);var t=this;this.addListener("hidePopups",this.hideLinkWrapper),this.isLink&&this.options.linkText&&this.$link_wrapper.on("mouseup keydown","input#f-lt-"+this._id,$.proxy(function(t){t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList")},this)),this.$link_wrapper.on("mouseup keydown","input#f-lu-"+this._id,$.proxy(function(t){t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList")},this)),this.$link_wrapper.on("click","input#f-checkbox-"+this._id,function(t){t.stopPropagation()}),this.$link_wrapper.on("touchend","button#f-ok-"+this._id,function(t){t.stopPropagation()}).on("click","button#f-ok-"+this._id,$.proxy(function(){var t,e=this.$link_wrapper.find("input#f-lt-"+this._id),i=this.$link_wrapper.find("input#f-lu-"+this._id),a=this.$link_wrapper.find("input#f-checkbox-"+this._id);t=e?e.val():"";var n=i.val();this.isLink&&""==n&&(n="#"),this.writeLink(n,t,a.prop("checked"))},this)),this.$link_wrapper.on("click touch","button#f-unlink-"+this._id,$.proxy(function(){this.link=!0;var t=this.$link_wrapper.find("input#f-checkbox-"+this._id);this.writeLink("","",t.prop("checked"))},this)),this.options.linkList.length&&(this.$link_wrapper.on("click touch","li.f-choose-link",function(){var e=(t.$link_wrapper.find("ul#f-link-list-"+t._id),t.$link_wrapper.find("button#f-browse-links-"+t._id)),i=t.$link_wrapper.find("input#f-lt-"+t._id),a=t.$link_wrapper.find("input#f-lu-"+t._id),n=t.$link_wrapper.find("input#f-checkbox-"+t._id);i&&i.val($(this).data("body")),a.val($(this).data("href")),n.prop("checked",$(this).data("blank")),e.click()}).on("mouseup","li.f-choose-link",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","button#f-browse-links-"+this._id,function(e){e.stopPropagation();var i=t.$link_wrapper.find("ul#f-link-list-"+t._id);$(this).find("i").toggleClass("fa-chevron-down"),$(this).find("i").toggleClass("fa-chevron-up"),i.toggle()}).on("mouseup","button#f-browse-links-"+this._id,function(t){t.stopPropagation()}),this.$link_wrapper.bind("hideLinkList",function(){var e=t.$link_wrapper.find("ul#f-link-list-"+t._id),i=t.$link_wrapper.find("button#f-browse-links-"+t._id);e&&e.is(":visible")&&i.click()})),this.$link_wrapper.on("click","i#f-link-close-"+this._id,$.proxy(function(){this.$bttn_wrapper.show(),this.hideLinkWrapper(),this.options.inlineMode&&!this.imageMode&&0==this.options.buttons.length&&this.hide(),this.imageMode||this.restoreSelection(),!this.options.inlineMode&&!this.imageMode||this.isLink?this.hide():this.imageMode&&this.showImageEditor()},this))},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){function i(t){function e(){a?(i(),F(e),n=!0,a=!1):n=!1}var i=t,a=!1,n=!1;this.kick=function(){a=!0,n||e()},this.end=function(t){var e=i;t&&(n?(i=a?function(){e(),t()}:t,a=!0):t())}}function a(){return!0}function n(){return!1}function s(t){t.preventDefault()}function o(t){N[t.target.tagName.toLowerCase()]||t.preventDefault()}function r(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function l(t,e){var i,a;if(t.identifiedTouch)return t.identifiedTouch(e);for(i=-1,a=t.length;++i<a;)if(t[i].identifier===e)return t[i]}function d(t,e){var i=l(t.changedTouches,e.identifier);return!i||i.pageX===e.pageX&&i.pageY===e.pageY?void 0:i}function p(t){var e;r(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},R(document,O.move,h,e),R(document,O.cancel,c,e))}function h(t){var e=t.data;b(t,e,t,u)}function c(){u()}function u(){P(document,O.move,h),P(document,O.cancel,c)}function f(t){var e,i;N[t.target.tagName.toLowerCase()]||(e=t.changedTouches[0],i={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},R(document,U.move+"."+e.identifier,m,i),R(document,U.cancel+"."+e.identifier,g,i))}function m(t){var e=t.data,i=d(t,e);i&&b(t,e,i,v)}function g(t){var e=t.data,i=l(t.changedTouches,e.identifier);i&&v(e.identifier)}function v(t){P(document,"."+t,m),P(document,"."+t,g)}function b(t,e,i,a){var n=i.pageX-e.startX,s=i.pageY-e.startY;V*V>n*n+s*s||w(t,e,i,n,s,a)}function y(){return this._handled=a,!1}function $(t){try{t._handled()}catch(e){return!1}}function w(t,e,i,a,n,s){var o,r;e.target,o=t.targetTouches,r=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=a,e.distY=n,e.deltaX=a,e.deltaY=n,e.pageX=i.pageX,e.pageY=i.pageY,e.velocityX=a/r,e.velocityY=n/r,e.targetTouches=o,e.finger=o?o.length:1,e._handled=y,e._preventTouchmoveDefault=function(){t.preventDefault()},B(e.target,e),s(e.identifier)}function x(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function k(t){var e=t.data.event,i=t.data.timer;S(),_(e,i,function(){setTimeout(function(){P(e.target,"click",n)},0)})}function S(){P(document,O.move,x),P(document,O.end,k)}function T(t){var e=t.data.event,i=t.data.timer,a=d(t,e);a&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=a,t.data.timeStamp=t.timeStamp,i.kick())}function I(t){var e=t.data.event,i=t.data.timer,a=l(t.changedTouches,e.identifier);a&&(C(e),_(e,i))}function C(t){P(document,"."+t.identifier,T),P(document,"."+t.identifier,I)}function A(t,e,i){var a=i-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/a,t.velocityY=.3*t.velocityY+.7*t.deltaY/a,t.pageX=e.pageX,t.pageY=e.pageY}function _(t,e,i){e.end(function(){return t.type="moveend",B(t.target,t),i&&i()})}function E(){return R(this,"movestart.move",$),!0}function D(){return P(this,"dragstart drag",s),P(this,"mousedown touchstart",o),P(this,"movestart",$),!0}function L(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(R(this,"dragstart."+t.guid+" drag."+t.guid,s,e,t.selector),R(this,"mousedown."+t.guid,o,e,t.selector))}function M(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(P(this,"dragstart."+t.guid+" drag."+t.guid),P(this,"mousedown."+t.guid))}var V=6,R=t.event.add,P=t.event.remove,B=function(e,i,a){t.event.trigger(i,a,e)},F=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(function(){t()},25)}}(),N={textarea:!0,input:!0,select:!0,button:!0},O={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},U={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:E,teardown:D,add:L,remove:M,_default:function(t){function a(){A(s,o.touch,o.timeStamp),B(t.target,s)}var s,o;t._handled()&&(s={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},o={event:s,timer:new i(a),touch:e,timeStamp:e},t.identifier===e?(R(t.target,"click",n),R(document,O.move,x,o),R(document,O.end,k,o)):(t._preventTouchmoveDefault(),R(document,U.move+"."+t.identifier,T,o),R(document,U.end+"."+t.identifier,I,o)))}},t.event.special.move={setup:function(){R(this,"movestart.move",t.noop)},teardown:function(){P(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){R(this,"movestart.moveend",t.noop)},teardown:function(){P(this,"movestart.moveend",t.noop)}},R(document,"mousedown.move",p),R(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(t){for(var e=["changedTouches","targetTouches"],i=e.length;i--;)-1===t.event.props.indexOf(e[i])&&t.event.props.push(e[i])}(t)}),window.WYSIWYGModernizr=function(t,e,i){function a(t){u.cssText=t}function n(t,e){return typeof t===e}var s,o,r,l="2.7.1",d={},p=e.documentElement,h="modernizr",c=e.createElement(h),u=c.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={},g=[],v=g.slice,b=function(t,i,a,n){var s,o,r,l,d=e.createElement("div"),c=e.body,u=c||e.createElement("body");if(parseInt(a,10))for(;a--;)r=e.createElement("div"),r.id=n?n[a]:h+(a+1),d.appendChild(r);return s=["&#173;",'<style id="s',h,'">',t,"</style>"].join(""),d.id=h,(c?d:u).innerHTML+=s,u.appendChild(d),c||(u.style.background="",u.style.overflow="hidden",l=p.style.overflow,p.style.overflow="hidden",p.appendChild(u)),o=i(d,t),c?d.parentNode.removeChild(d):(u.parentNode.removeChild(u),p.style.overflow=l),!!o},y=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e).matches;var a;return b("@media "+e+" { #"+h+" { position: absolute; } }",function(e){a="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),a},$={}.hasOwnProperty;r=n($,"undefined")||n($.call,"undefined")?function(t,e){return e in t&&n(t.constructor.prototype[e],"undefined")}:function(t,e){return $.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=v.call(arguments,1),a=function(){if(this instanceof a){var n=function(){};n.prototype=e.prototype;var s=new n,o=e.apply(s,i.concat(v.call(arguments)));return Object(o)===o?o:s}return e.apply(t,i.concat(v.call(arguments)))};return a}),m.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:b(["@media (",f.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i};for(var w in m)r(m,w)&&(o=w.toLowerCase(),d[o]=m[w](),g.push((d[o]?"":"no-")+o));return d.addTest=function(t,e){if("object"==typeof t)for(var a in t)r(t,a)&&d.addTest(a,t[a]);else{if(t=t.toLowerCase(),d[t]!==i)return d;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(p.className+=" "+(e?"":"no-")+t),d[t]=e}return d},a(""),c=s=null,d._version=l,d._prefixes=f,d.mq=y,d.testStyles=b,d}(this,this.document),function(t){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|pad|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed.bs.alert").remove()}var a=t(this),n=a.attr("data-target");n||(n=a.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var s=t(n);e&&e.preventDefault(),s.length||(s=a.hasClass("alert")?a:a.parent()),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var a=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var a=t(this),n=a.data("bs.alert");n||a.data("bs.alert",n=new i(this)),"string"==typeof e&&n[e].call(a)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=a,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),+function(t){"use strict";var e=function(i,a){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,a),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var i="disabled",a=this.$element,n=a.is("input")?"val":"html",s=a.data();e+="Text",s.resetText||a.data("resetText",a[n]()),a[n](s[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,a.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,a.removeClass(i).removeAttr(i))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var a=t(this),n=a.data("bs.button"),s="object"==typeof i&&i;n||a.data("bs.button",n=new e(this,s)),"toggle"==i?n.toggle():i&&n.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,a=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):a==e?this.pause().cycle():this.slide(e>a?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var a=this.$element.find(".item.active"),n=i||a[e](),s=this.interval,o="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[r]()}if(n.hasClass("active"))return this.sliding=!1;var d=t.Event("slide.bs.carousel",{relatedTarget:n[0],direction:o});return this.$element.trigger(d),d.isDefaultPrevented()?void 0:(this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,a.addClass(o),n.addClass(o),a.one(t.support.transition.end,function(){n.removeClass([e,o].join(" ")).addClass("active"),a.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),s&&this.cycle(),this)};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var a=t(this),n=a.data("bs.carousel"),s=t.extend({},e.DEFAULTS,a.data(),"object"==typeof i&&i),o="string"==typeof i?i:s.slide;n||a.data("bs.carousel",n=new e(this,s)),"number"==typeof i?n.to(i):o?n[o]():s.interval&&n.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,a=t(this),n=t(a.attr("data-target")||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=t.extend({},n.data(),a.data()),o=a.attr("data-slide-to");o&&(s.interval=!1),n.carousel(s),(o=a.attr("data-slide-to"))&&n.data("bs.carousel").to(o),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";function e(e){t(a).remove(),t(n).each(function(){var a=i(t(this)),n={relatedTarget:this};a.hasClass("open")&&(a.trigger(e=t.Event("hide.bs.dropdown",n)),e.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",n))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var a=i&&t(i);return a&&a.length?a:e.parent()}var a=".dropdown-backdrop",n="[data-toggle=dropdown]",s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(a){var n=t(this);if(!n.is(".disabled, :disabled")){var s=i(n),o=s.hasClass("open");if(e(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var r={relatedTarget:this};if(s.trigger(a=t.Event("show.bs.dropdown",r)),a.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown",r),n.focus()}return!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var a=t(this);if(e.preventDefault(),e.stopPropagation(),!a.is(".disabled, :disabled")){var s=i(a),o=s.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&s.find(n).focus(),a.click();var r=" li:not(.divider):visible a",l=s.find("[role=menu]"+r+", [role=listbox]"+r);if(l.length){var d=l.index(l.filter(":focus"));38==e.keyCode&&d>0&&d--,40==e.keyCode&&d<l.length-1&&d++,~d||(d=0),l.eq(d).focus()}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),a=i.data("bs.dropdown");a||i.data("bs.dropdown",a=new s(this)),"string"==typeof e&&a[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,s.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu], [role=listbox]",s.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,a=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var a=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),a&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});a?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(n)}).emulateTransitionEnd(300):i.$element.focus().trigger(n)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,a){return this.each(function(){var n=t(this),s=n.data("bs.modal"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);s||n.data("bs.modal",s=new e(this,o)),"string"==typeof i?s[i](a):o.show&&s.show(a)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),a=i.attr("href"),n=t(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),s=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(a)&&a},n.data(),i.data());i.is("a")&&e.preventDefault(),n.modal(s,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,a){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(a);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var o=n[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var r="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,a){i[t]!=a&&(e[t]=a)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()
},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this,a=this.tip();this.setContent(),this.options.animation&&a.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,o=s.test(n);o&&(n=n.replace(s,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var r=this.getPosition(),l=a[0].offsetWidth,d=a[0].offsetHeight;if(o){var p=this.$element.parent(),h=n,c=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:p.outerWidth(),f="body"==this.options.container?window.innerHeight:p.outerHeight(),m="body"==this.options.container?0:p.offset().left;n="bottom"==n&&r.top+r.height+d-c>f?"top":"top"==n&&r.top-c-d<0?"bottom":"right"==n&&r.right+l>u?"left":"left"==n&&r.left-l<m?"right":n,a.removeClass(h).addClass(n)}var g=this.getCalculatedOffset(n,r,l,d);this.applyPlacement(g,n),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};t.support.transition&&this.$tip.hasClass("fade")?a.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,i){var a,n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),l=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(l)&&(l=0),e.top=e.top+r,e.left=e.left+l,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var d=n[0].offsetWidth,p=n[0].offsetHeight;if("top"==i&&p!=o&&(a=!0,e.top=e.top+o-p),/bottom|top/.test(i)){var h=0;e.left<0&&(h=-2*e.left,e.left=0,n.offset(e),d=n[0].offsetWidth,p=n[0].offsetHeight),this.replaceArrow(h-s+d,d,"left")}else this.replaceArrow(p-o,p,"top");a&&n.offset(e)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&a.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,a=this.tip(),n=t.Event("hide.bs."+this.type);return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?a.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,a){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-a,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-a/2,left:e.left-i}:{top:e.top+e.height/2-a/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var a=t(this),n=a.data("bs.tooltip"),s="object"==typeof i&&i;(n||"destroy"!=i)&&(n||a.data("bs.tooltip",n=new e(this,s)),"string"==typeof i&&n[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var a=t(this),n=a.data("bs.popover"),s="object"==typeof i&&i;(n||"destroy"!=i)&&(n||a.data("bs.popover",n=new e(this,s)),"string"==typeof i&&n[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),a=e.data("target");if(a||(a=e.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:n});if(e.trigger(s),!s.isDefaultPrevented()){var o=t(a);this.activate(e.parent("li"),i),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:n})})}}},e.prototype.activate=function(e,i,a){function n(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),a&&a()}var s=i.find("> .active"),o=a&&t.support.transition&&s.hasClass("fade");o?s.one(t.support.transition.end,n).emulateTransitionEnd(150):n(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var a=t(this),n=a.data("bs.tab");n||a.data("bs.tab",n=new e(this)),"string"==typeof i&&n[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(i,a){this.options=t.extend({},e.DEFAULTS,a),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),a=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,o=s.top,r=s.bottom;"top"==this.affixed&&(n.top+=a),"object"!=typeof s&&(r=o=s),"function"==typeof o&&(o=s.top(this.$element)),"function"==typeof r&&(r=s.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=n.top?!1:null!=r&&n.top+this.$element.height()>=i-r?"bottom":null!=o&&o>=a?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var d="affix"+(l?"-"+l:""),p=t.Event(d+".bs.affix");this.$element.trigger(p),p.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(d).trigger(t.Event(d.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:i-r-this.$element.height()}))}}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var a=t(this),n=a.data("bs.affix"),s="object"==typeof i&&i;n||a.data("bs.affix",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),+function(t){"use strict";var e=function(i,a){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var a=i.data("bs.collapse");if(a&&a.transitioning)return;i.collapse("hide"),a||i.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var o=t.camelCase(["scroll",n].join("-"));this.$element.one(t.support.transition.end,t.proxy(s,this)).emulateTransitionEnd(350)[n](this.$element[0][o])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350):a.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var a=t(this),n=a.data("bs.collapse"),s=t.extend({},e.DEFAULTS,a.data(),"object"==typeof i&&i);!n&&s.toggle&&"show"==i&&(i=!i),n||a.data("bs.collapse",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,a=t(this),n=a.attr("data-target")||e.preventDefault()||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(n),o=s.data("bs.collapse"),r=o?"toggle":a.data(),l=a.attr("data-parent"),d=l&&t(l);o&&o.transitioning||(d&&d.find('[data-toggle=collapse][data-parent="'+l+'"]').not(a).addClass("collapsed"),a[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(r)})}(jQuery),+function(t){"use strict";function e(i,a){var n,s=t.proxy(this.process,this);this.$element=t(t(i).is("body")?window:i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=t.extend({},e.DEFAULTS,a),this.selector=(this.options.target||(n=t(i).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);{var i=this;this.$body.find(this.selector).map(function(){var a=t(this),n=a.data("target")||a.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})}},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,a=i-this.$scrollElement.height(),n=this.offsets,s=this.targets,o=this.activeTarget;if(e>=a)return o!=(t=s.last()[0])&&this.activate(t);if(o&&e<=n[0])return o!=(t=s[0])&&this.activate(t);for(t=n.length;t--;)o!=s[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',a=t(i).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var a=t(this),n=a.data("bs.scrollspy"),s="object"==typeof i&&i;n||a.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,a=this;t(this).one(t.support.transition.end,function(){i=!0});var n=function(){i||t(a).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e()})}(jQuery),function(t){"use strict";var e={i18n:{ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",step:60,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,mask:!1,validateOnBlur:!0,allowBlank:!1,yearStart:1950,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var i=e||0,a=this.length;a>i;i++)if(this[i]===t)return i;return-1}),t.fn.xdsoftScroller=function(e){return this.each(function(){var i=t(this);if(!t(this).hasClass("xdsoft_scroller_box")){var a=function(t){var e={x:0,y:0};if("touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"touchcancel"==t.type){var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];e.x=i.pageX,e.y=i.pageY}else("mousedown"==t.type||"mouseup"==t.type||"mousemove"==t.type||"mouseover"==t.type||"mouseout"==t.type||"mouseenter"==t.type||"mouseleave"==t.type)&&(e.x=t.pageX,e.y=t.pageY);return e},n=0,s=i.children().eq(0),o=i[0].clientHeight,r=s[0].offsetHeight,l=t('<div class="xdsoft_scrollbar"></div>'),d=t('<div class="xdsoft_scroller"></div>'),p=100,h=!1;l.append(d),i.addClass("xdsoft_scroller_box").append(l),d.on("mousedown.xdsoft_scroller",function(a){o||i.trigger("resize_scroll.xdsoft_scroller",[e]);var s=a.pageY,r=parseInt(d.css("margin-top")),h=l[0].offsetHeight;t(document.body).addClass("xdsoft_noselect"),t([document.body,window]).on("mouseup.xdsoft_scroller",function c(){t([document.body,window]).off("mouseup.xdsoft_scroller",c).off("mousemove.xdsoft_scroller",n).removeClass("xdsoft_noselect")}),t(document.body).on("mousemove.xdsoft_scroller",n=function(t){var e=t.pageY-s+r;0>e&&(e=0),e+d[0].offsetHeight>h&&(e=h-d[0].offsetHeight),i.trigger("scroll_element.xdsoft_scroller",[p?e/p:0])})}),i.on("scroll_element.xdsoft_scroller",function(t,e){o||i.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:0>e||isNaN(e)?0:e,d.css("margin-top",p*e),s.css("marginTop",-parseInt((r-o)*e))}).on("resize_scroll.xdsoft_scroller",function(t,e,a){o=i[0].clientHeight,r=s[0].offsetHeight;var n=o/r,h=n*l[0].offsetHeight;n>1?d.hide():(d.show(),d.css("height",parseInt(h>10?h:10)),p=l[0].offsetHeight-d[0].offsetHeight,a!==!0&&i.trigger("scroll_element.xdsoft_scroller",[e?e:Math.abs(parseInt(s.css("marginTop")))/(r-o)]))}),i.mousewheel&&i.mousewheel(function(t,e){var a=Math.abs(parseInt(s.css("marginTop")));return i.trigger("scroll_element.xdsoft_scroller",[(a-20*e)/(r-o)]),t.stopPropagation(),!1}),i.on("touchstart",function(t){h=a(t)}),i.on("touchmove",function(t){if(h){var e=a(t),n=Math.abs(parseInt(s.css("marginTop")));i.trigger("scroll_element.xdsoft_scroller",[(n-(e.y-h.y))/(r-o)]),t.stopPropagation(),t.preventDefault()}}),i.on("touchend touchcancel",function(){h=!1})}i.trigger("resize_scroll.xdsoft_scroller",[e])})},t.fn.datetimepicker=function(i){var a=48,n=57,s=96,o=105,r=17,l=46,d=13,p=27,h=8,c=37,u=38,f=39,m=40,g=9,v=116,b=65,y=67,$=86,w=90,x=89,k=!1,S=t.isPlainObject(i)||!i?t.extend(!0,{},e,i):t.extend({},e),T=function(e){var i=t("<div "+(S.id?'id="'+S.id+'"':"")+" "+(S.style?'style="'+S.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+S.className+'"></div>'),T=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),I=t('<div class="xdsoft_datepicker active"></div>'),C=t('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),A=t('<div class="xdsoft_calendar"></div>'),_=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),E=_.find(".xdsoft_time_box").eq(0),D=t('<div class="xdsoft_time_variant"></div>'),L=t('<div class="xdsoft_scrollbar"></div>'),M=(t('<div class="xdsoft_scroller"></div>'),t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>')),V=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');C.find(".xdsoft_month span").after(M),C.find(".xdsoft_year span").after(V),C.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(e){C.find(".xdsoft_select").hide();var i=t(this).find(".xdsoft_select").eq(0),a=0,n=0;P.currentTime&&(a=P.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i.show();for(var s=i.find("div.xdsoft_option"),o=0;o<s.length&&s.eq(o).data("value")!=a;o++)n+=s[0].offsetHeight;return i.xdsoftScroller(n/(i.children()[0].offsetHeight-i[0].clientHeight)),e.stopPropagation(),!1}),C.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(t){t.stopPropagation(),t.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){P&&P.currentTime&&P.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),i.trigger("xchange.xdsoft"),S.onChangeMonth&&S.onChangeMonth.call&&S.onChangeMonth.call(i,P.currentTime,i.data("input"))}),i.setOptions=function(T){S=t.extend(!0,{},S,T),!S.open&&!S.opened||S.inline||e.trigger("open.xdsoft"),S.inline&&(i.addClass("xdsoft_inline"),e.after(i).hide(),i.trigger("afterOpen.xdsoft")),S.inverseButton&&(S.next="xdsoft_prev",S.prev="xdsoft_next"),S.datepicker?I.addClass("active"):I.removeClass("active"),S.timepicker?_.addClass("active"):_.removeClass("active"),S.value&&(e&&e.val&&e.val(S.value),P.setCurrentTime(S.value)),S.dayOfWeekStart=isNaN(S.dayOfWeekStart)||parseInt(S.dayOfWeekStart)<0||parseInt(S.dayOfWeekStart)>6?0:parseInt(S.dayOfWeekStart),S.timepickerScrollbar||L.hide();var A,E=[];if(S.minDate&&(E=/^-(.*)$/.exec(S.minDate))&&(E=Date.parseDate(E[1],S.formatDate))&&(A=E.getTime()+-1*E.getTimezoneOffset()*6e4,S.minDate=new Date(P.now().getTime()-A).dateFormat(S.formatDate)),S.maxDate&&(E=/^\+(.*)$/.exec(S.maxDate))&&(E=Date.parseDate(E[1],S.formatDate))&&(A=E.getTime()+-1*E.getTimezoneOffset()*6e4,S.maxDate=new Date(P.now().getTime()+A).dateFormat(S.formatDate)),C.find(".xdsoft_today_button").css("visibility",S.todayButton?"visible":"hidden"),S.mask){var D=function(t){try{if(document.selection&&document.selection.createRange){var e=document.selection.createRange();return e.getBookmark().charCodeAt(2)-2}if(t.setSelectionRange)return t.selectionStart}catch(i){return 0}},M=function(t,e){var t="string"==typeof t||t instanceof String?document.getElementById(t):t;if(!t)return!1;if(t.createTextRange){var i=t.createTextRange();return i.collapse(!0),i.moveEnd(e),i.moveStart(e),i.select(),!0}return t.setSelectionRange?(t.setSelectionRange(e,e),!0):!1},V=function(t,e){var i=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(i).test(e)};switch(e.off("keydown.xdsoft"),!0){case S.mask===!0:S.mask=S.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case"string"==t.type(S.mask):V(S.mask,e.val())||e.val(S.mask.replace(/[0-9]/g,"_")),e.on("keydown.xdsoft",function(i){var T=this.value,I=i.which;switch(!0){case I>=a&&n>=I||I>=s&&o>=I||I==h||I==l:var C=D(this),A=I!=h&&I!=l?String.fromCharCode(I>=s&&o>=I?I-a:I):"_";for(I!=h&&I!=l||!C||(C--,A="_");/[^0-9_]/.test(S.mask.substr(C,1))&&C<S.mask.length&&C>0;)C+=I==h||I==l?-1:1;if(T=T.substr(0,C)+A+T.substr(C+1),""==t.trim(T))T=S.mask.replace(/[0-9]/g,"_");else if(C==S.mask.length)break;for(C+=I==h||I==l?0:1;/[^0-9_]/.test(S.mask.substr(C,1))&&C<S.mask.length&&C>0;)C+=I==h||I==l?-1:1;V(S.mask,T)?(this.value=T,M(this,C)):""==t.trim(T)?this.value=S.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft");break;case!!~[b,y,$,w,x].indexOf(I)&&k:case!!~[p,u,m,c,f,v,r,g,d].indexOf(I):return!0}return i.preventDefault(),!1})}}S.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",function(){S.allowBlank&&!t.trim(t(this).val()).length?(t(this).val(null),i.data("xdsoft_datetime").empty()):Date.parseDate(t(this).val(),S.format)?i.data("xdsoft_datetime").setCurrentTime(t(this).val()):(t(this).val(P.now().dateFormat(S.format)),i.data("xdsoft_datetime").setCurrentTime(t(this).val())),i.trigger("changedatetime.xdsoft")}),S.dayOfWeekStartPrev=0==S.dayOfWeekStart?6:S.dayOfWeekStart-1,i.trigger("xchange.xdsoft")},i.data("options",S).on("mousedown.xdsoft",function(t){return t.stopPropagation(),t.preventDefault(),V.hide(),M.hide(),!1});var R=_.find(".xdsoft_time_box");R.append(D),R.xdsoftScroller(),i.on("afterOpen.xdsoft",function(){R.xdsoftScroller()}),i.append(I).append(_),S.withoutCopyright!==!0&&i.append(T),I.append(C).append(A),t("body").append(i);var P=new function(){var t=this;t.now=function(){var t=new Date;return S.yearOffset&&t.setFullYear(t.getFullYear()+S.yearOffset),t},t.currentTime=this.now(),t.isValidDate=function(t){return"[object Date]"!==Object.prototype.toString.call(t)?!1:!isNaN(t.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strtodatetime(e):t.isValidDate(e)?e:t.now(),i.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){var e=t.currentTime.getMonth()+1;return 12==e&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),e=0),t.currentTime.setDate(Math.min(Date.daysInMonth[e],t.currentTime.getDate())),t.currentTime.setMonth(e),S.onChangeMonth&&S.onChangeMonth.call&&S.onChangeMonth.call(i,P.currentTime,i.data("input")),i.trigger("xchange.xdsoft"),e},t.prevMonth=function(){var e=t.currentTime.getMonth()-1;return-1==e&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),e=11),t.currentTime.setDate(Math.min(Date.daysInMonth[e],t.currentTime.getDate())),t.currentTime.setMonth(e),S.onChangeMonth&&S.onChangeMonth.call&&S.onChangeMonth.call(i,P.currentTime,i.data("input")),i.trigger("xchange.xdsoft"),e},t.strtodatetime=function(e){var i=e?Date.parseDate(e,S.format):t.now();return t.isValidDate(i)||(i=t.now()),i},t.strtodate=function(e){var i=e?Date.parseDate(e,S.formatDate):t.now();return t.isValidDate(i)||(i=t.now()),i},t.strtotime=function(e){var i=e?Date.parseDate(e,S.formatTime):t.now();return t.isValidDate(i)||(i=t.now()),i},t.str=function(){return t.currentTime.dateFormat(S.format)}};C.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){i.data("changed",!0),P.setCurrentTime(0),i.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){e.val(P.str()),i.trigger("close.xdsoft")}),C.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=t(this),i=0,a=!1;!function n(t){P.currentTime.getMonth();e.hasClass(S.next)?P.nextMonth():e.hasClass(S.prev)&&P.prevMonth(),!a&&(i=setTimeout(n,t?t:100))}(500),t([document.body,window]).on("mouseup.xdsoft",function s(){clearTimeout(i),a=!0,t([document.body,window]).off("mouseup.xdsoft",s)})}),_.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=t(this),i=0,a=!1,n=110;!function s(t){var o=E[0].clientHeight,r=D[0].offsetHeight,l=Math.abs(parseInt(D.css("marginTop")));e.hasClass(S.next)&&r-o-S.timeHeightInTimePicker>=l?D.css("marginTop","-"+(l+S.timeHeightInTimePicker)+"px"):e.hasClass(S.prev)&&l-S.timeHeightInTimePicker>=0&&D.css("marginTop","-"+(l-S.timeHeightInTimePicker)+"px"),E.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(D.css("marginTop"))/(r-o))]),n=n>10?10:n-10,!a&&(i=setTimeout(s,t?t:n))}(500),t([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(i),a=!0,t([document.body,window]).off("mouseup.xdsoft",o)})}),i.on("xchange.xdsoft",function(e){for(var a="",n=new Date(P.currentTime.getFullYear(),P.currentTime.getMonth(),1,12,0,0),s=0,o=P.now();n.getDay()!=S.dayOfWeekStart;)n.setDate(n.getDate()-1);a+="<table><thead><tr>";for(var r=0;7>r;r++)a+="<th>"+S.i18n[S.lang].dayOfWeek[r+S.dayOfWeekStart>6?0:r+S.dayOfWeekStart]+"</th>";a+="</tr></thead>",a+="<tbody><tr>";var l=!1,d=!1;S.maxDate!==!1&&(l=P.strtodate(S.maxDate),l=new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59,999)),S.minDate!==!1&&(d=P.strtodate(S.minDate),d=new Date(d.getFullYear(),d.getMonth(),d.getDate()));for(var p,h,c,u=[];s<P.currentTime.getDaysInMonth()||n.getDay()!=S.dayOfWeekStart||P.currentTime.getMonth()==n.getMonth();)u=[],s++,p=n.getDate(),h=n.getFullYear(),c=n.getMonth(),u.push("xdsoft_date"),(l!==!1&&n>l||d!==!1&&d>n)&&u.push("xdsoft_disabled"),P.currentTime.getMonth()!=c&&u.push("xdsoft_other_month"),(S.defaultSelect||i.data("changed"))&&P.currentTime.dateFormat("d.m.Y")==n.dateFormat("d.m.Y")&&u.push("xdsoft_current"),o.dateFormat("d.m.Y")==n.dateFormat("d.m.Y")&&u.push("xdsoft_today"),(0==n.getDay()||6==n.getDay()||~S.weekends.indexOf(n.dateFormat("d.m.Y")))&&u.push("xdsoft_weekend"),a+='<td data-date="'+p+'" data-month="'+c+'" data-year="'+h+'" class="xdsoft_date xdsoft_day_of_week'+n.getDay()+" "+u.join(" ")+'"><div>'+p+"</div></td>",n.getDay()==S.dayOfWeekStartPrev&&(a+="</tr>"),n.setDate(p+1);a+="</tbody></table>",A.html(a),C.find(".xdsoft_label span").eq(0).text(S.i18n[S.lang].months[P.currentTime.getMonth()]),C.find(".xdsoft_label span").eq(1).text(P.currentTime.getFullYear());var f="",m="",c="",g=function(t,e){var a=P.now();a.setHours(t),t=parseInt(a.getHours()),a.setMinutes(e),e=parseInt(a.getMinutes()),u=[],(S.maxTime!==!1&&P.strtotime(S.maxTime).getTime()<a.getTime()||S.minTime!==!1&&P.strtotime(S.minTime).getTime()>a.getTime())&&u.push("xdsoft_disabled"),(S.initTime||S.defaultSelect||i.data("changed"))&&parseInt(P.currentTime.getHours())==parseInt(t)&&(S.step>59||Math[S.roundTime](P.currentTime.getMinutes()/S.step)*S.step==parseInt(e))&&(S.defaultSelect||i.data("changed")?u.push("xdsoft_current"):S.initTime&&u.push("xdsoft_init_time")),parseInt(o.getHours())==parseInt(t)&&parseInt(o.getMinutes())==parseInt(e)&&u.push("xdsoft_today"),f+='<div class="xdsoft_time '+u.join(" ")+'" data-hour="'+t+'" data-minute="'+e+'">'+a.dateFormat(S.formatTime)+"</div>"
};if(S.allowTimes&&t.isArray(S.allowTimes)&&S.allowTimes.length)for(var s=0;s<S.allowTimes.length;s++)m=P.strtotime(S.allowTimes[s]).getHours(),c=P.strtotime(S.allowTimes[s]).getMinutes(),g(m,c);else for(var s=0,r=0;s<(S.hours12?12:24);s++)for(r=0;60>r;r+=S.step)m=(10>s?"0":"")+s,c=(10>r?"0":"")+r,g(m,c);D.html(f);var v="",s=0;for(s=parseInt(S.yearStart,10)+S.yearOffset;s<=parseInt(S.yearEnd,10)+S.yearOffset;s++)v+='<div class="xdsoft_option '+(P.currentTime.getFullYear()==s?"xdsoft_current":"")+'" data-value="'+s+'">'+s+"</div>";for(V.children().eq(0).html(v),s=0,v="";11>=s;s++)v+='<div class="xdsoft_option '+(P.currentTime.getMonth()==s?"xdsoft_current":"")+'" data-value="'+s+'">'+S.i18n[S.lang].months[s]+"</div>";M.children().eq(0).html(v),t(this).trigger("generate.xdsoft"),e.stopPropagation()}).on("afterOpen.xdsoft",function(){if(S.timepicker){var t;if(D.find(".xdsoft_current").length?t=".xdsoft_current":D.find(".xdsoft_init_time").length&&(t=".xdsoft_init_time"),t){var e=E[0].clientHeight,i=D[0].offsetHeight,a=D.find(t).index()*S.timeHeightInTimePicker+1;a>i-e&&(a=i-e),D.css("marginTop","-"+parseInt(a)+"px"),E.trigger("scroll_element.xdsoft_scroller",[parseInt(a)/(i-e)])}}});var B=0;A.on("click.xdsoft","td",function(){B++;var a=t(this),n=P.currentTime;return a.hasClass("xdsoft_disabled")?!1:(n.setFullYear(a.data("year")),n.setMonth(a.data("month")),n.setDate(a.data("date")),i.trigger("select.xdsoft",[n]),e.val(P.str()),(B>1||S.closeOnDateSelect===!0||0===S.closeOnDateSelect&&!S.timepicker)&&!S.inline&&i.trigger("close.xdsoft"),S.onSelectDate&&S.onSelectDate.call&&S.onSelectDate.call(i,P.currentTime,i.data("input")),i.data("changed",!0),i.trigger("xchange.xdsoft"),i.trigger("changedatetime.xdsoft"),void setTimeout(function(){B=0},200))}),D.on("click.xdsoft","div",function(){var e=t(this),a=P.currentTime;return e.hasClass("xdsoft_disabled")?!1:(a.setHours(e.data("hour")),a.setMinutes(e.data("minute")),i.trigger("select.xdsoft",[a]),i.data("input").val(P.str()),!S.inline&&i.trigger("close.xdsoft"),S.onSelectTime&&S.onSelectTime.call&&S.onSelectTime.call(i,P.currentTime,i.data("input")),i.data("changed",!0),i.trigger("xchange.xdsoft"),void i.trigger("changedatetime.xdsoft"))}),i.mousewheel&&I.mousewheel(function(t,e){return S.scrollMonth?(0>e?P.nextMonth():P.prevMonth(),!1):!0}),i.mousewheel&&E.unmousewheel().mousewheel(function(t,e){if(!S.scrollTime)return!0;var i=E[0].clientHeight,a=D[0].offsetHeight,n=Math.abs(parseInt(D.css("marginTop"))),s=!0;return 0>e&&a-i-S.timeHeightInTimePicker>=n?(D.css("marginTop","-"+(n+S.timeHeightInTimePicker)+"px"),s=!1):e>0&&n-S.timeHeightInTimePicker>=0&&(D.css("marginTop","-"+(n-S.timeHeightInTimePicker)+"px"),s=!1),E.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(D.css("marginTop"))/(a-i))]),t.stopPropagation(),s}),i.on("changedatetime.xdsoft",function(){if(S.onChangeDateTime&&S.onChangeDateTime.call){var t=i.data("input");S.onChangeDateTime.call(i,P.currentTime,t),t.trigger("change")}}).on("generate.xdsoft",function(){S.onGenerate&&S.onGenerate.call&&S.onGenerate.call(i,P.currentTime,i.data("input"))});var F=0;e.mousewheel&&e.mousewheel(function(t,a,n,s){return S.scrollInput?!S.datepicker&&S.timepicker?(F=D.find(".xdsoft_current").length?D.find(".xdsoft_current").eq(0).index():0,F+a>=0&&F+a<D.children().length&&(F+=a),D.children().eq(F).length&&D.children().eq(F).trigger("mousedown"),!1):S.datepicker&&!S.timepicker?(I.trigger(t,[a,n,s]),e.val&&e.val(P.str()),i.trigger("changedatetime.xdsoft"),!1):void 0:!0});var N=function(){var e=i.data("input").offset(),a=e.top+i.data("input")[0].offsetHeight-1,n=e.left;a+i[0].offsetHeight>t(window).height()+t(window).scrollTop()&&(a=e.top-i[0].offsetHeight+1),0>a&&(a=0),n+i[0].offsetWidth>t(window).width()&&(n=e.left-i[0].offsetWidth+i.data("input")[0].offsetWidth),i.css({left:n,top:a})};i.on("open.xdsoft",function(){var e=!0;S.onShow&&S.onShow.call&&(e=S.onShow.call(i,P.currentTime,i.data("input"))),e!==!1&&(i.show(),i.trigger("afterOpen.xdsoft"),N(),t(window).off("resize.xdsoft",N).on("resize.xdsoft",N),S.closeOnWithoutClick&&t([document.body,window]).on("mousedown.xdsoft",function a(){i.trigger("close.xdsoft"),t([document.body,window]).off("mousedown.xdsoft",a)}))}).on("close.xdsoft",function(t){var e=!0;S.onClose&&S.onClose.call&&(e=S.onClose.call(i,P.currentTime,i.data("input"))),e===!1||S.opened||S.inline||i.hide(),t.stopPropagation()}).data("input",e);var O=0;i.data("xdsoft_datetime",P),i.setOptions(S);var U=S.value?S.value:e&&e.val&&e.val()?e.val():"";U&&P.isValidDate(U=Date.parseDate(U,S.format))?i.data("changed",!0):U="",P.setCurrentTime(U?U:0),i.trigger("afterOpen.xdsoft"),e.data("xdsoft_datetimepicker",i).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(clearTimeout(O),O=setTimeout(function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(P.setCurrentTime(e&&e.val&&e.val()?e.val():0),i.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){var a=(this.value,e.which);switch(!0){case!!~[d].indexOf(a):var n=t("input:visible,textarea:visible");return i.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1;case!!~[g].indexOf(a):return i.trigger("close.xdsoft"),!0}})},I=function(e){var i=e.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),e.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),t(window).off("resize.xdsoft"),t([window,document.body]).off("mousedown.xdsoft"),e.unmousewheel&&e.unmousewheel())};return t(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(t){t.keyCode==r&&(k=!0)}).on("keyup.xdsoftctrl",function(t){t.keyCode==r&&(k=!1)}),this.each(function(){var e;if(e=t(this).data("xdsoft_datetimepicker")){if("string"===t.type(i))switch(i){case"show":t(this).select().focus(),e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"destroy":I(t(this));break;case"reset":this.value=this.defaultValue,this.value&&e.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,S.format))||e.data("changed",!1),e.data("xdsoft_datetime").setCurrentTime(this.value)}else e.setOptions(i);return 0}"string"!==t.type(i)&&T(t(this))})}}(jQuery),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(t){null==Date.formatFunctions[t]&&Date.createNewFormat(t);var e=Date.formatFunctions[t];return this[e]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(t){switch(t){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(t)+"' + "}},Date.parseDate=function(t,e){null==Date.parseFunctions[e]&&Date.createParser(e);var i=Date.parseFunctions[e];return Date[i](t)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(t,e){switch(t){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:0,c:null,s:"(?:\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+e+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+e+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+e+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+e+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+e+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(t)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var t=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var e=0;e<this.getMonth();++e)t+=Date.daysInMonth[e];return t+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var t=this.getDayOfYear()+(4-this.getDay()),e=new Date(this.getFullYear(),0,1),i=7-e.getDay()+4;return document.write(i),String.leftPad((t-i)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0==(3&t)&&(t%100||t%400==0&&t)},Date.prototype.getFirstDayOfMonth=function(){var t=(this.getDay()-(this.getDate()-1))%7;return 0>t?t+7:t},Date.prototype.getLastDayOfMonth=function(){var t=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>t?t+7:t},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(t){return t.replace(/('|\\)/g,"\\$1")},String.leftPad=function(t,e,i){var a=new String(t);for(null==i&&(i=" ");a.length<e;)a=i+a;return a},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var n,s=e||window.event,o=[].slice.call(arguments,1),r=0,l=0,d=0,p=0,h=0;return e=t.event.fix(s),e.type="mousewheel",s.wheelDelta&&(r=s.wheelDelta),s.detail&&(r=-1*s.detail),s.deltaY&&(d=-1*s.deltaY,r=d),s.deltaX&&(l=s.deltaX,r=-1*l),void 0!==s.wheelDeltaY&&(d=s.wheelDeltaY),void 0!==s.wheelDeltaX&&(l=-1*s.wheelDeltaX),p=Math.abs(r),(!i||i>p)&&(i=p),h=Math.max(Math.abs(d),Math.abs(l)),(!a||a>h)&&(a=h),n=r>0?"floor":"ceil",r=Math[n](r/i),l=Math[n](l/a),d=Math[n](d/a),o.unshift(e,r,l,d),(t.event.dispatch||t.event.handle).apply(this,o)}var i,a,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var o=n.length;o;)t.event.fixHooks[n[--o]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=s.length;t;)this.addEventListener(s[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=s.length;t;)this.removeEventListener(s[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),!function(t){var e=function(e,i){this.$form=t(e),this.options=t.extend({},t.fn.bootstrapValidator.DEFAULT_OPTIONS,i),this.$invalidFields=t([]),this.$submitButton=null,this.STATUS_NOT_VALIDATED="NOT_VALIDATED",this.STATUS_VALIDATING="VALIDATING",this.STATUS_INVALID="INVALID",this.STATUS_VALID="VALID";var a=function(){for(var t=3,e=document.createElement("div"),i=e.all||[];e.innerHTML="<!--[if gt IE "+ ++t+"]><br><![endif]-->",i[0];);return t>4?t:!t}(),n=document.createElement("div");this._changeEvent=9!==a&&"oninput"in n?"input":"keyup",this._submitIfValid=null,this._cacheFields={},this._init()};e.prototype={constructor:e,_init:function(){var e=this,i={excluded:this.$form.attr("data-bv-excluded"),trigger:this.$form.attr("data-bv-trigger"),message:this.$form.attr("data-bv-message"),container:this.$form.attr("data-bv-container"),group:this.$form.attr("data-bv-group"),submitButtons:this.$form.attr("data-bv-submitbuttons"),threshold:this.$form.attr("data-bv-threshold"),live:this.$form.attr("data-bv-live"),onSuccess:this.$form.attr("data-bv-onsuccess"),onError:this.$form.attr("data-bv-onerror"),fields:{},feedbackIcons:{valid:this.$form.attr("data-bv-feedbackicons-valid"),invalid:this.$form.attr("data-bv-feedbackicons-invalid"),validating:this.$form.attr("data-bv-feedbackicons-validating")}};this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bv",function(t){t.preventDefault(),e.validate()}).on("click.bv",this.options.submitButtons,function(){e.$submitButton=t(this),e._submitIfValid=!0}).find("[name], [data-bv-field]").each(function(){var a=t(this),n=a.attr("name")||a.attr("data-bv-field"),s=e._parseOptions(a);s&&(a.attr("data-bv-field",n),i.fields[n]=t.extend({},s,i.fields[n]))}),this.options=t.extend(!0,this.options,i);for(var a in this.options.fields)this._initField(a);this.$form.trigger(t.Event("init.form.bv"),{bv:this,options:this.options}),this.options.onSuccess&&this.$form.on("success.form.bv",function(i){t.fn.bootstrapValidator.helpers.call(e.options.onSuccess,[i])}),this.options.onError&&this.$form.on("error.form.bv",function(i){t.fn.bootstrapValidator.helpers.call(e.options.onError,[i])})},_parseOptions:function(e){var i,a,n,s,o,r,l,d=e.attr("name")||e.attr("data-bv-field"),p={};for(a in t.fn.bootstrapValidator.validators)if(i=t.fn.bootstrapValidator.validators[a],n=e.attr("data-bv-"+a.toLowerCase())+"",l="function"==typeof i.enableByHtml5?i.enableByHtml5(e):null,l&&"false"!==n||l!==!0&&(""===n||"true"===n)){i.html5Attributes=t.extend({},{message:"message",onerror:"onError",onsuccess:"onSuccess"},i.html5Attributes),p[a]=t.extend({},l===!0?{}:l,p[a]);for(r in i.html5Attributes)s=i.html5Attributes[r],o=e.attr("data-bv-"+a.toLowerCase()+"-"+r),o&&("true"===o?o=!0:"false"===o&&(o=!1),p[a][s]=o)}var h={excluded:e.attr("data-bv-excluded"),feedbackIcons:e.attr("data-bv-feedbackicons"),trigger:e.attr("data-bv-trigger"),message:e.attr("data-bv-message"),container:e.attr("data-bv-container"),group:e.attr("data-bv-group"),selector:e.attr("data-bv-selector"),threshold:e.attr("data-bv-threshold"),onStatus:e.attr("data-bv-onstatus"),onSuccess:e.attr("data-bv-onsuccess"),onError:e.attr("data-bv-onerror"),validators:p},c=t.isEmptyObject(h),u=t.isEmptyObject(p);return!u||!c&&this.options.fields&&this.options.fields[d]?(h.validators=p,h):null},_initField:function(e){var i=t([]);switch(typeof e){case"object":i=e,e=e.attr("data-bv-field");break;case"string":i=this.getFieldElements(e),i.attr("data-bv-field",e)}if(null!==this.options.fields[e]&&null!==this.options.fields[e].validators){if(0===i.length)return void delete this.options.fields[e];var a;for(a in this.options.fields[e].validators)t.fn.bootstrapValidator.validators[a]||delete this.options.fields[e].validators[a];null===this.options.fields[e].enabled&&(this.options.fields[e].enabled=!0);for(var n=this,s=i.length,o=i.attr("type"),r=1===s||"radio"===o||"checkbox"===o,l="radio"===o||"checkbox"===o||"file"===o||"SELECT"===i.eq(0).get(0).tagName?"change":this._changeEvent,d=(this.options.fields[e].trigger||this.options.trigger||l).split(" "),p=t.map(d,function(t){return t+".update.bv"}).join(" "),h=0;s>h;h++){var c=i.eq(h),u=this.options.fields[e].group||this.options.group,f=c.parents(u),m=this.options.fields[e].container||this.options.container,g=m&&"tooltip"!==m&&"popover"!==m?t(m):this._getMessageContainer(c,u);m&&"tooltip"!==m&&"popover"!==m&&g.addClass("has-error"),g.find('.help-block[data-bv-validator][data-bv-for="'+e+'"]').remove(),f.find('i[data-bv-icon-for="'+e+'"]').remove(),c.off(p).on(p,function(){n.updateStatus(t(this),n.STATUS_NOT_VALIDATED)}),c.data("bv.messages",g);for(a in this.options.fields[e].validators)c.data("bv.result."+a,this.STATUS_NOT_VALIDATED),r&&h!==s-1||t("<small/>").css("display","none").addClass("help-block").attr("data-bv-validator",a).attr("data-bv-for",e).attr("data-bv-result",this.STATUS_NOT_VALIDATED).html(this._getMessage(e,a)).appendTo(g),this.options.fields[e].validators[a].onSuccess&&c.on("success.validator.bv",function(i,s){t.fn.bootstrapValidator.helpers.call(n.options.fields[e].validators[a].onSuccess,[i,s])}),this.options.fields[e].validators[a].onError&&c.on("error.validator.bv",function(i,s){t.fn.bootstrapValidator.helpers.call(n.options.fields[e].validators[a].onError,[i,s])});if(this.options.fields[e].feedbackIcons!==!1&&"false"!==this.options.fields[e].feedbackIcons&&this.options.feedbackIcons&&this.options.feedbackIcons.validating&&this.options.feedbackIcons.invalid&&this.options.feedbackIcons.valid&&(!r||h===s-1)){f.removeClass("has-success").removeClass("has-error").addClass("has-feedback");var v=t("<i/>").css("display","none").addClass("form-control-feedback").attr("data-bv-icon-for",e).insertAfter("checkbox"===o||"radio"===o?c.parent():c);0===f.find("label").length&&v.css("top",0),0!==f.find(".input-group").length&&v.css({top:0,"z-index":100}).insertAfter(f.find(".input-group").eq(0))}}switch(this.options.fields[e].onSuccess&&i.on("success.field.bv",function(i,a){t.fn.bootstrapValidator.helpers.call(n.options.fields[e].onSuccess,[i,a])}),this.options.fields[e].onError&&i.on("error.field.bv",function(i,a){t.fn.bootstrapValidator.helpers.call(n.options.fields[e].onError,[i,a])}),this.options.fields[e].onStatus&&i.on("status.field.bv",function(i,a){t.fn.bootstrapValidator.helpers.call(n.options.fields[e].onStatus,[i,a])}),p=t.map(d,function(t){return t+".live.bv"}).join(" "),this.options.live){case"submitted":break;case"disabled":i.off(p);break;case"enabled":default:i.off(p).on(p,function(){n._exceedThreshold(t(this))&&n.validateField(t(this))})}i.trigger(t.Event("init.field.bv"),{bv:this,field:e,element:i})}},_getMessage:function(e,i){if(!(this.options.fields[e]&&t.fn.bootstrapValidator.validators[i]&&this.options.fields[e].validators&&this.options.fields[e].validators[i]))return"";var a=this.options.fields[e].validators[i];switch(!0){case!!a.message:return a.message;case!!this.options.fields[e].message:return this.options.fields[e].message;case!!t.fn.bootstrapValidator.i18n[i]:return t.fn.bootstrapValidator.i18n[i]["default"];default:return this.options.message}},_getMessageContainer:function(t,e){var i=t.parent();if(i.is(e))return i;var a=i.attr("class");if(!a)return this._getMessageContainer(i,e);a=a.split(" ");for(var n=a.length,s=0;n>s;s++)if(/^col-(xs|sm|md|lg)-\d+$/.test(a[s])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(a[s]))return i;return this._getMessageContainer(i,e)},_submit:function(){var e=this.isValid(),i=e?"success.form.bv":"error.form.bv",a=t.Event(i);this.$form.trigger(a),this.$submitButton&&(e?this._onSuccess(a):this._onError(a))},_isExcluded:function(e){var i=e.attr("data-bv-excluded"),a=e.attr("data-bv-field")||e.attr("name");switch(!0){case!!a&&this.options.fields&&this.options.fields[a]&&("true"===this.options.fields[a].excluded||this.options.fields[a].excluded===!0):case"true"===i:case""===i:return!0;case!!a&&this.options.fields&&this.options.fields[a]&&("false"===this.options.fields[a].excluded||this.options.fields[a].excluded===!1):case"false"===i:return!1;default:if(this.options.excluded){"string"==typeof this.options.excluded&&(this.options.excluded=t.map(this.options.excluded.split(","),function(e){return t.trim(e)}));for(var n=this.options.excluded.length,s=0;n>s;s++)if("string"==typeof this.options.excluded[s]&&e.is(this.options.excluded[s])||"function"==typeof this.options.excluded[s]&&this.options.excluded[s].call(this,e,this)===!0)return!0}return!1}},_exceedThreshold:function(e){var i=e.attr("data-bv-field"),a=this.options.fields[i].threshold||this.options.threshold;if(!a)return!0;var n=-1!==t.inArray(e.attr("type"),["button","checkbox","file","hidden","image","radio","reset","submit"]);return n||e.val().length>=a},_onError:function(e){if(!e.isDefaultPrevented()){if("submitted"===this.options.live){this.options.live="enabled";var i=this;for(var a in this.options.fields)!function(e){var n=i.getFieldElements(e);if(n.length){var s=t(n[0]).attr("type"),o="radio"===s||"checkbox"===s||"file"===s||"SELECT"===t(n[0]).get(0).tagName?"change":i._changeEvent,r=i.options.fields[a].trigger||i.options.trigger||o,l=t.map(r.split(" "),function(t){return t+".live.bv"}).join(" ");n.off(l).on(l,function(){i._exceedThreshold(t(this))&&i.validateField(t(this))})}}(a)}var n=this.$invalidFields.eq(0);if(n){var s,o=n.parents(".tab-pane");o&&(s=o.attr("id"))&&t('a[href="#'+s+'"][data-toggle="tab"]').tab("show"),n.focus()}}},_onSuccess:function(t){t.isDefaultPrevented()||this.disableSubmitButtons(!0).defaultSubmit()},_onFieldValidated:function(e,i){var a=e.attr("data-bv-field"),n=this.options.fields[a].validators,s={},o=0,r={bv:this,field:a,element:e,validator:i};if(i)switch(e.data("bv.result."+i)){case this.STATUS_INVALID:e.trigger(t.Event("error.validator.bv"),r);break;case this.STATUS_VALID:e.trigger(t.Event("success.validator.bv"),r)}s[this.STATUS_NOT_VALIDATED]=0,s[this.STATUS_VALIDATING]=0,s[this.STATUS_INVALID]=0,s[this.STATUS_VALID]=0;for(var l in n)if(n[l].enabled!==!1){o++;var d=e.data("bv.result."+l);d&&s[d]++}s[this.STATUS_VALID]===o?(this.$invalidFields=this.$invalidFields.not(e),e.trigger(t.Event("success.field.bv"),r)):0===s[this.STATUS_NOT_VALIDATED]&&0===s[this.STATUS_VALIDATING]&&s[this.STATUS_INVALID]>0&&(this.$invalidFields=this.$invalidFields.add(e),e.trigger(t.Event("error.field.bv"),r))},getFieldElements:function(e){return this._cacheFields[e]||(this._cacheFields[e]=this.options.fields[e]&&this.options.fields[e].selector?t(this.options.fields[e].selector):this.$form.find('[name="'+e+'"]')),this._cacheFields[e]},disableSubmitButtons:function(t){return t?"disabled"!==this.options.live&&this.$form.find(this.options.submitButtons).attr("disabled","disabled"):this.$form.find(this.options.submitButtons).removeAttr("disabled"),this},validate:function(){if(!this.options.fields)return this;this.disableSubmitButtons(!0);for(var t in this.options.fields)this.validateField(t);return this._submit(),this},validateField:function(e){var i=t([]);switch(typeof e){case"object":i=e,e=e.attr("data-bv-field");break;case"string":i=this.getFieldElements(e)}if(this.options.fields[e]&&this.options.fields[e].enabled===!1)return this;for(var a,n,s=this,o=i.attr("type"),r="radio"===o||"checkbox"===o?1:i.length,l="radio"===o||"checkbox"===o,d=this.options.fields[e].validators,p=0;r>p;p++){var h=i.eq(p);if(!this._isExcluded(h))for(a in d){h.data("bv.dfs."+a)&&h.data("bv.dfs."+a).reject();var c=h.data("bv.result."+a);c!==this.STATUS_VALID&&c!==this.STATUS_INVALID&&d[a].enabled!==!1?(h.data("bv.result."+a,this.STATUS_VALIDATING),n=t.fn.bootstrapValidator.validators[a].validate(this,h,d[a]),"object"==typeof n&&n.resolve?(this.updateStatus(l?e:h,this.STATUS_VALIDATING,a),h.data("bv.dfs."+a,n),n.done(function(t,e,i,a){t.removeData("bv.dfs."+e),a&&s.updateMessage(t,e,a),s.updateStatus(l?t.attr("data-bv-field"):t,i?s.STATUS_VALID:s.STATUS_INVALID,e),i&&s._submitIfValid===!0&&s._submit()})):"object"==typeof n&&void 0!==n.valid&&void 0!==n.message?(this.updateMessage(l?e:h,a,n.message),this.updateStatus(l?e:h,n.valid?this.STATUS_VALID:this.STATUS_INVALID,a)):"boolean"==typeof n&&this.updateStatus(l?e:h,n?this.STATUS_VALID:this.STATUS_INVALID,a)):this._onFieldValidated(h,a)}}return this},updateMessage:function(e,i,a){var n=t([]);switch(typeof e){case"object":n=e,e=e.attr("data-bv-field");break;case"string":n=this.getFieldElements(e)}n.each(function(){t(this).data("bv.messages").find('.help-block[data-bv-validator="'+i+'"][data-bv-for="'+e+'"]').html(a)})},updateStatus:function(e,i,a){var n=t([]);switch(typeof e){case"object":n=e,e=e.attr("data-bv-field");break;case"string":n=this.getFieldElements(e)}i===this.STATUS_NOT_VALIDATED&&(this._submitIfValid=!1);for(var s=this,o=n.attr("type"),r=this.options.fields[e].group||this.options.group,l="radio"===o||"checkbox"===o?1:n.length,d=0;l>d;d++){var p=n.eq(d);if(!this._isExcluded(p)){var h=p.parents(r),c=p.data("bv.messages"),u=c.find('.help-block[data-bv-validator][data-bv-for="'+e+'"]'),f=a?u.filter('[data-bv-validator="'+a+'"]'):u,m=h.find('.form-control-feedback[data-bv-icon-for="'+e+'"]'),g=this.options.fields[e].container||this.options.container,v=null;if(a)p.data("bv.result."+a,i);else for(var b in this.options.fields[e].validators)p.data("bv.result."+b,i);f.attr("data-bv-result",i);var y,$,w=p.parents(".tab-pane");switch(w&&(y=w.attr("id"))&&($=t('a[href="#'+y+'"][data-toggle="tab"]').parent()),i){case this.STATUS_VALIDATING:v=null,this.disableSubmitButtons(!0),h.removeClass("has-success").removeClass("has-error"),m&&m.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show(),$&&$.removeClass("bv-tab-success").removeClass("bv-tab-error");break;case this.STATUS_INVALID:v=!1,this.disableSubmitButtons(!0),h.removeClass("has-success").addClass("has-error"),m&&m.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show(),$&&$.removeClass("bv-tab-success").addClass("bv-tab-error");break;case this.STATUS_VALID:v=0===u.filter('[data-bv-result="'+this.STATUS_NOT_VALIDATED+'"]').length?u.filter('[data-bv-result="'+this.STATUS_VALID+'"]').length===u.length:null,null!==v&&(this.disableSubmitButtons(this.$submitButton?!this.isValid():!v),m&&m.removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).removeClass(this.options.feedbackIcons.valid).addClass(v?this.options.feedbackIcons.valid:this.options.feedbackIcons.invalid).show()),h.removeClass("has-error has-success").addClass(this.isValidContainer(h)?"has-success":"has-error"),$&&$.removeClass("bv-tab-success").removeClass("bv-tab-error").addClass(this.isValidContainer(w)?"bv-tab-success":"bv-tab-error");break;case this.STATUS_NOT_VALIDATED:default:v=null,this.disableSubmitButtons(!1),h.removeClass("has-success").removeClass("has-error"),m&&m.removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide(),$&&$.removeClass("bv-tab-success").removeClass("bv-tab-error")}switch(!0){case m&&"tooltip"===g:v===!1?m.css("cursor","pointer").tooltip("destroy").tooltip({html:!0,placement:"top",title:u.filter('[data-bv-result="'+s.STATUS_INVALID+'"]').eq(0).html()}):m.css("cursor","").tooltip("destroy");break;case m&&"popover"===g:v===!1?m.css("cursor","pointer").popover("destroy").popover({content:u.filter('[data-bv-result="'+s.STATUS_INVALID+'"]').eq(0).html(),html:!0,placement:"top",trigger:"hover click"}):m.css("cursor","").popover("destroy");break;default:i===this.STATUS_INVALID?f.show():f.hide()}p.trigger(t.Event("status.field.bv"),{bv:this,field:e,element:p,status:i}),this._onFieldValidated(p,a)}}return this},isValid:function(){for(var t in this.options.fields)if(!this.isValidField(t))return!1;return!0},isValidField:function(e){var i=t([]);switch(typeof e){case"object":i=e,e=e.attr("data-bv-field");break;case"string":i=this.getFieldElements(e)}if(0===i.length||null===this.options.fields[e]||this.options.fields[e].enabled===!1)return!0;for(var a,n,s,o=i.attr("type"),r="radio"===o||"checkbox"===o?1:i.length,l=0;r>l;l++)if(a=i.eq(l),!this._isExcluded(a))for(n in this.options.fields[e].validators)if(this.options.fields[e].validators[n].enabled!==!1&&(s=a.data("bv.result."+n),s!==this.STATUS_VALID))return!1;return!0},isValidContainer:function(e){var i=this,a={},n="string"==typeof e?t(e):e;if(0===n.length)return!0;n.find("[data-bv-field]").each(function(){var e=t(this),n=e.attr("data-bv-field");i._isExcluded(e)||a[n]||(a[n]=e)});for(var s in a){var o=a[s];if(0!==o.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for="'+s+'"]').filter(function(){var e=t(this).attr("data-bv-validator"),a=t(this).attr("data-bv-for");
return i.options.fields[a].validators[e].enabled!==!1&&o.data("bv.result."+e)&&o.data("bv.result."+e)!==i.STATUS_VALID}).length)return!1}return!0},defaultSubmit:function(){this.$submitButton&&t("<input/>").attr("type","hidden").attr("data-bv-submit-hidden","").attr("name",this.$submitButton.attr("name")).val(this.$submitButton.val()).appendTo(this.$form),this.$form.off("submit.bv").submit()},getInvalidFields:function(){return this.$invalidFields},getSubmitButton:function(){return this.$submitButton},getMessages:function(e,i){var a=this,n=[],s=t([]);switch(!0){case e&&"object"==typeof e:s=e;break;case e&&"string"==typeof e:var o=this.getFieldElements(e);if(o.length>0){var r=o.attr("type");s="radio"===r||"checkbox"===r?o.eq(0):o}break;default:s=this.$invalidFields}var l=i?'[data-bv-validator="'+i+'"]':"";return s.each(function(){n=n.concat(t(this).data("bv.messages").find('.help-block[data-bv-for="'+t(this).attr("data-bv-field")+'"][data-bv-result="'+a.STATUS_INVALID+'"]'+l).map(function(){var e=t(this).attr("data-bv-validator"),i=t(this).attr("data-bv-for");return a.options.fields[i].validators[e].enabled===!1?"":t(this).html()}).get())}),n},getOptions:function(t,e,i){if(!t)return this.options;if("object"==typeof t&&(t=t.attr("data-bv-field")),!this.options.fields[t])return null;var a=this.options.fields[t];return e?a.validators&&a.validators[e]?i?a.validators[e][i]:a.validators[e]:null:a},updateOption:function(t,e,i,a){return"object"==typeof t&&(t=t.attr("data-bv-field")),this.options.fields[t]&&this.options.fields[t].validators[e]&&(this.options.fields[t].validators[e][i]=a,this.updateStatus(t,this.STATUS_NOT_VALIDATED,e)),this},addField:function(e,i){var a=t([]);switch(typeof e){case"object":a=e,e=e.attr("data-bv-field")||e.attr("name");break;case"string":delete this._cacheFields[e],a=this.getFieldElements(e)}a.attr("data-bv-field",e);for(var n=a.attr("type"),s="radio"===n||"checkbox"===n?1:a.length,o=0;s>o;o++){var r=a.eq(o),l=this._parseOptions(r);l=null===l?i:t.extend(!0,i,l),this.options.fields[e]=t.extend(!0,this.options.fields[e],l),this._cacheFields[e]=this._cacheFields[e]?this._cacheFields[e].add(r):r,this._initField("checkbox"===n||"radio"===n?e:r)}return this.disableSubmitButtons(!1),this.$form.trigger(t.Event("added.field.bv"),{field:e,element:a,options:this.options.fields[e]}),this},removeField:function(e){var i=t([]);switch(typeof e){case"object":i=e,e=e.attr("data-bv-field")||e.attr("name"),i.attr("data-bv-field",e);break;case"string":i=this.getFieldElements(e)}if(0===i.length)return this;for(var a=i.attr("type"),n="radio"===a||"checkbox"===a?1:i.length,s=0;n>s;s++){var o=i.eq(s);this.$invalidFields=this.$invalidFields.not(o),this._cacheFields[e]=this._cacheFields[e].not(o)}return this._cacheFields[e]&&0!==this._cacheFields[e].length||delete this.options.fields[e],("checkbox"===a||"radio"===a)&&this._initField(e),this.disableSubmitButtons(!1),this.$form.trigger(t.Event("removed.field.bv"),{field:e,element:i}),this},resetField:function(e,i){var a=t([]);switch(typeof e){case"object":a=e,e=e.attr("data-bv-field");break;case"string":a=this.getFieldElements(e)}var n=a.length;if(this.options.fields[e])for(var s=0;n>s;s++)for(var o in this.options.fields[e].validators)a.eq(s).removeData("bv.dfs."+o);if(this.updateStatus(e,this.STATUS_NOT_VALIDATED),i){var r=a.attr("type");"radio"===r||"checkbox"===r?a.removeAttr("checked").removeAttr("selected"):a.val("")}return this},resetForm:function(e){for(var i in this.options.fields)this.resetField(i,e);return this.$invalidFields=t([]),this.$submitButton=null,this.disableSubmitButtons(!1),this},revalidateField:function(t){return this.updateStatus(t,this.STATUS_NOT_VALIDATED).validateField(t),this},enableFieldValidators:function(t,e,i){var a=this.options.fields[t].validators;if(i&&a&&a[i]&&a[i].enabled!==e)this.options.fields[t].validators[i].enabled=e,this.updateStatus(t,this.STATUS_NOT_VALIDATED,i);else if(!i&&this.options.fields[t].enabled!==e){this.options.fields[t].enabled=e;for(var n in a)this.enableFieldValidators(t,e,n)}return this},getDynamicOption:function(e,i){var a="string"==typeof e?this.getFieldElements(e):e,n=a.val();if("function"==typeof i)return t.fn.bootstrapValidator.helpers.call(i,[n,this,a]);if("string"==typeof i){var s=this.getFieldElements(i);return s.length?s.val():t.fn.bootstrapValidator.helpers.call(i,[n,this,a])}return null},destroy:function(){var t,e,i,a,n,s,o;for(t in this.options.fields){e=this.getFieldElements(t),s=this.options.fields[t].container||this.options.container,o=this.options.fields[t].group||this.options.group;for(var r=0;r<e.length;r++){if(i=e.eq(r),i.data("bv.messages").find('.help-block[data-bv-validator][data-bv-for="'+t+'"]').remove().end().end().removeData("bv.messages").parents(o).removeClass("has-feedback has-error has-success").end().off(".bv").removeAttr("data-bv-field"),n=i.parents(o).find('i[data-bv-icon-for="'+t+'"]'))switch(s){case"tooltip":n.tooltip("destroy").remove();break;case"popover":n.popover("destroy").remove();break;default:n.remove()}for(a in this.options.fields[t].validators)i.data("bv.dfs."+a)&&i.data("bv.dfs."+a).reject(),i.removeData("bv.result."+a).removeData("bv.dfs."+a)}}this.disableSubmitButtons(!1),this.$form.removeClass(this.options.elementClass).off(".bv").removeData("bootstrapValidator").find("[data-bv-submit-hidden]").remove()}},t.fn.bootstrapValidator=function(i){var a=arguments;return this.each(function(){var n=t(this),s=n.data("bootstrapValidator"),o="object"==typeof i&&i;s||(s=new e(this,o),n.data("bootstrapValidator",s)),"string"==typeof i&&s[i].apply(s,Array.prototype.slice.call(a,1))})},t.fn.bootstrapValidator.DEFAULT_OPTIONS={elementClass:"bv-form",message:"This value is not valid",group:".form-group",container:null,threshold:null,excluded:[":disabled",":hidden",":not(:visible)"],feedbackIcons:{valid:null,invalid:null,validating:null},submitButtons:'[type="submit"]',live:"enabled",fields:null},t.fn.bootstrapValidator.validators={},t.fn.bootstrapValidator.i18n={},t.fn.bootstrapValidator.Constructor=e,t.fn.bootstrapValidator.helpers={call:function(t,e){if("function"==typeof t)return t.apply(this,e);if("string"==typeof t){"()"===t.substring(t.length-2)&&(t=t.substring(0,t.length-2));for(var i=t.split("."),a=i.pop(),n=window,s=0;s<i.length;s++)n=n[i[s]];return n[a].apply(this,e)}},format:function(e,i){t.isArray(i)||(i=[i]);for(var a in i)e=e.replace("%s",i[a]);return e},date:function(t,e,i,a){if(isNaN(t)||isNaN(e)||isNaN(i))return!1;if(i=parseInt(i,10),e=parseInt(e,10),t=parseInt(t,10),1e3>t||t>9999||0>=e||e>12)return!1;var n=[31,28,31,30,31,30,31,31,30,31,30,31];if((t%400===0||t%100!==0&&t%4===0)&&(n[1]=29),0>=i||i>n[e-1])return!1;if(a===!0){var s=new Date,o=s.getFullYear(),r=s.getMonth(),l=s.getDate();return o>t||t===o&&r>e-1||t===o&&e-1===r&&l>i}return!0},luhn:function(t){for(var e=t.length,i=0,a=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],n=0;e--;)n+=a[i][parseInt(t.charAt(e),10)],i^=1;return n%10===0&&n>0},mod11And10:function(t){for(var e=5,i=t.length,a=0;i>a;a++)e=(2*(e||10)%11+parseInt(t.charAt(a),10))%10;return 1===e},mod37And36:function(t,e){e=e||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var i=e.length,a=t.length,n=Math.floor(i/2),s=0;a>s;s++)n=(2*(n||i)%(i+1)+e.indexOf(t.charAt(s)))%i;return 1===n}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.base64=t.extend(t.fn.bootstrapValidator.i18n.base64||{},{"default":"Please enter a valid base 64 encoded"}),t.fn.bootstrapValidator.validators.base64={validate:function(t,e){var i=e.val();return""===i?!0:/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(i)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.between=t.extend(t.fn.bootstrapValidator.i18n.between||{},{"default":"Please enter a value between %s and %s",notInclusive:"Please enter a value between %s and %s strictly"}),t.fn.bootstrapValidator.validators.between={html5Attributes:{message:"message",min:"min",max:"max",inclusive:"inclusive"},enableByHtml5:function(t){return"range"===t.attr("type")?{min:t.attr("min"),max:t.attr("max")}:!1},validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=t.isNumeric(a.min)?a.min:e.getDynamicOption(i,a.min),o=t.isNumeric(a.max)?a.max:e.getDynamicOption(i,a.max);return n=parseFloat(n),a.inclusive===!0||void 0===a.inclusive?{valid:n>=s&&o>=n,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.between["default"],[s,o])}:{valid:n>s&&o>n,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.between.notInclusive,[s,o])}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.callback=t.extend(t.fn.bootstrapValidator.i18n.callback||{},{"default":"Please enter a valid value"}),t.fn.bootstrapValidator.validators.callback={html5Attributes:{message:"message",callback:"callback"},validate:function(e,i,a){var n=i.val();if(a.callback){var s=new t.Deferred,o=t.fn.bootstrapValidator.helpers.call(a.callback,[n,e,i]);return s.resolve(i,"callback","boolean"==typeof o?o:o.valid,"object"==typeof o&&o.message?o.message:null),s}return!0}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.choice=t.extend(t.fn.bootstrapValidator.i18n.choice||{},{"default":"Please enter a valid value",less:"Please choose %s options at minimum",more:"Please choose %s options at maximum",between:"Please choose %s - %s options"}),t.fn.bootstrapValidator.validators.choice={html5Attributes:{message:"message",min:"min",max:"max"},validate:function(e,i,a){var n=i.is("select")?e.getFieldElements(i.attr("data-bv-field")).find("option").filter(":selected").length:e.getFieldElements(i.attr("data-bv-field")).filter(":checked").length,s=a.min?t.isNumeric(a.min)?a.min:e.getDynamicOption(i,a.min):null,o=a.max?t.isNumeric(a.max)?a.max:e.getDynamicOption(i,a.max):null,r=!0,l=a.message||t.fn.bootstrapValidator.i18n.choice["default"];switch((s&&n<parseInt(s,10)||o&&n>parseInt(o,10))&&(r=!1),!0){case!!s&&!!o:l=t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.choice.between,[parseInt(s,10),parseInt(o,10)]);break;case!!s:l=t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.choice.less,parseInt(s,10));break;case!!o:l=t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.choice.more,parseInt(o,10))}return{valid:r,message:l}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.creditCard=t.extend(t.fn.bootstrapValidator.i18n.creditCard||{},{"default":"Please enter a valid credit card number"}),t.fn.bootstrapValidator.validators.creditCard={validate:function(e,i){var a=i.val();if(""===a)return!0;if(/[^0-9-\s]+/.test(a))return!1;if(a=a.replace(/\D/g,""),!t.fn.bootstrapValidator.helpers.luhn(a))return!1;var n,s,o={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]}};for(n in o)for(s in o[n].prefix)if(a.substr(0,o[n].prefix[s].length)===o[n].prefix[s]&&-1!==t.inArray(a.length,o[n].length))return!0;return!1}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.cusip=t.extend(t.fn.bootstrapValidator.i18n.cusip||{},{"default":"Please enter a valid CUSIP number"}),t.fn.bootstrapValidator.validators.cusip={validate:function(e,i){var a=i.val();if(""===a)return!0;if(a=a.toUpperCase(),!/^[0-9A-Z]{9}$/.test(a))return!1;for(var n=t.map(a.split(""),function(t){var e=t.charCodeAt(0);return e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)?e-"A".charCodeAt(0)+10:t}),s=n.length,o=0,r=0;s-1>r;r++){var l=parseInt(n[r],10);r%2!==0&&(l*=2),l>9&&(l-=9),o+=l}return o=(10-o%10)%10,o===n[s-1]}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.cvv=t.extend(t.fn.bootstrapValidator.i18n.cvv||{},{"default":"Please enter a valid CVV number"}),t.fn.bootstrapValidator.validators.cvv={html5Attributes:{message:"message",ccfield:"creditCardField"},validate:function(e,i,a){var n=i.val();if(""===n)return!0;if(!/^[0-9]{3,4}$/.test(n))return!1;if(!a.creditCardField)return!0;var s=e.getFieldElements(a.creditCardField).val();if(""===s)return!0;s=s.replace(/\D/g,"");var o,r,l={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]}},d=null;for(o in l)for(r in l[o].prefix)if(s.substr(0,l[o].prefix[r].length)===l[o].prefix[r]&&-1!==t.inArray(s.length,l[o].length)){d=o;break}return null===d?!1:"AMERICAN_EXPRESS"===d?4===n.length:3===n.length}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.date=t.extend(t.fn.bootstrapValidator.i18n.date||{},{"default":"Please enter a valid date"}),t.fn.bootstrapValidator.validators.date={html5Attributes:{message:"message",format:"format",separator:"separator"},validate:function(e,i,a){var n=i.val();if(""===n)return!0;a.format=a.format||"MM/DD/YYYY";var s=a.format.split(" "),o=s[0],r=s.length>1?s[1]:null,l=s.length>2?s[2]:null,d=n.split(" "),p=d[0],h=d.length>1?d[1]:null;if(s.length!==d.length)return!1;var c=a.separator;if(c||(c=-1!==p.indexOf("/")?"/":-1!==p.indexOf("-")?"-":null),null===c||-1===p.indexOf(c))return!1;if(p=p.split(c),o=o.split(c),p.length!==o.length)return!1;var u=p[t.inArray("YYYY",o)],f=p[t.inArray("MM",o)],m=p[t.inArray("DD",o)];if(!u||!f||!m)return!1;var g=null,v=null,b=null;if(r){if(r=r.split(":"),h=h.split(":"),r.length!==h.length)return!1;if(v=h.length>0?h[0]:null,g=h.length>1?h[1]:null,b=h.length>2?h[2]:null,b&&(b=parseInt(b,10),isNaN(b)||0>b||b>60))return!1;if(v&&(v=parseInt(v,10),isNaN(v)||0>v||v>=24||l&&v>12))return!1;if(g&&(g=parseInt(g,10),isNaN(g)||0>g||g>59))return!1}return t.fn.bootstrapValidator.helpers.date(u,f,m)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.different=t.extend(t.fn.bootstrapValidator.i18n.different||{},{"default":"Please enter a different value"}),t.fn.bootstrapValidator.validators.different={html5Attributes:{message:"message",field:"field"},validate:function(t,e,i){var a=e.val();if(""===a)return!0;var n=t.getFieldElements(i.field);return null===n?!0:a!==n.val()?(t.updateStatus(i.field,t.STATUS_VALID,"different"),!0):!1}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.digits=t.extend(t.fn.bootstrapValidator.i18n.digits||{},{"default":"Please enter only digits"}),t.fn.bootstrapValidator.validators.digits={validate:function(t,e){var i=e.val();return""===i?!0:/^\d+$/.test(i)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.ean=t.extend(t.fn.bootstrapValidator.i18n.ean||{},{"default":"Please enter a valid EAN number"}),t.fn.bootstrapValidator.validators.ean={validate:function(t,e){var i=e.val();if(""===i)return!0;if(!/^(\d{8}|\d{12}|\d{13})$/.test(i))return!1;for(var a=i.length,n=0,s=8===a?[3,1]:[1,3],o=0;a-1>o;o++)n+=parseInt(i.charAt(o),10)*s[o%2];return n=(10-n%10)%10,n+""===i.charAt(a-1)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.emailAddress=t.extend(t.fn.bootstrapValidator.i18n.emailAddress||{},{"default":"Please enter a valid email address"}),t.fn.bootstrapValidator.validators.emailAddress={enableByHtml5:function(t){return"email"===t.attr("type")},validate:function(t,e){var i=e.val();if(""===i)return!0;var a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(i)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.file=t.extend(t.fn.bootstrapValidator.i18n.file||{},{"default":"Please choose a valid file"}),t.fn.bootstrapValidator.validators.file={html5Attributes:{extension:"extension",maxsize:"maxSize",message:"message",type:"type"},validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s,o=a.extension?a.extension.toLowerCase().split(","):null,r=a.type?a.type.toLowerCase().split(","):null,l=window.File&&window.FileList&&window.FileReader;if(l)for(var d=i.get(0).files,p=d.length,h=0;p>h;h++){if(a.maxSize&&d[h].size>parseInt(a.maxSize,10))return!1;if(s=d[h].name.substr(d[h].name.lastIndexOf(".")+1),o&&-1===t.inArray(s.toLowerCase(),o))return!1;if(r&&-1===t.inArray(d[h].type.toLowerCase(),r))return!1}else if(s=n.substr(n.lastIndexOf(".")+1),o&&-1===t.inArray(s.toLowerCase(),o))return!1;return!0}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.greaterThan=t.extend(t.fn.bootstrapValidator.i18n.greaterThan||{},{"default":"Please enter a value greater than or equal to %s",notInclusive:"Please enter a value greater than %s"}),t.fn.bootstrapValidator.validators.greaterThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(t){var e=t.attr("min");return e?{value:e}:!1},validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=t.isNumeric(a.value)?a.value:e.getDynamicOption(i,a.value);return n=parseFloat(n),a.inclusive===!0||void 0===a.inclusive?{valid:n>=s,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.greaterThan["default"],s)}:{valid:n>s,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.greaterThan.notInclusive,s)}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.grid=t.extend(t.fn.bootstrapValidator.i18n.grid||{},{"default":"Please enter a valid GRId number"}),t.fn.bootstrapValidator.validators.grid={validate:function(e,i){var a=i.val();return""===a?!0:(a=a.toUpperCase(),/^[GRID:]*([0-9A-Z]{2})[-\s]*([0-9A-Z]{5})[-\s]*([0-9A-Z]{10})[-\s]*([0-9A-Z]{1})$/g.test(a)?(a=a.replace(/\s/g,"").replace(/-/g,""),"GRID:"===a.substr(0,5)&&(a=a.substr(5)),t.fn.bootstrapValidator.helpers.mod37And36(a)):!1)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.hex=t.extend(t.fn.bootstrapValidator.i18n.hex||{},{"default":"Please enter a valid hexadecimal number"}),t.fn.bootstrapValidator.validators.hex={validate:function(t,e){var i=e.val();return""===i?!0:/^[0-9a-fA-F]+$/.test(i)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.hexColor=t.extend(t.fn.bootstrapValidator.i18n.hexColor||{},{"default":"Please enter a valid hex color"}),t.fn.bootstrapValidator.validators.hexColor={enableByHtml5:function(t){return"color"===t.attr("type")},validate:function(t,e){var i=e.val();return""===i?!0:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.iban=t.extend(t.fn.bootstrapValidator.i18n.iban||{},{"default":"Please enter a valid IBAN number",countryNotSupported:"The country code %s is not supported",country:"Please enter a valid IBAN number in %s",countries:{AD:"Andorra",AE:"United Arab Emirates",AL:"Albania",AO:"Angola",AT:"Austria",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BR:"Brazil",CH:"Switzerland",CI:"Ivory Coast",CM:"Cameroon",CR:"Costa Rica",CV:"Cape Verde",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",DO:"Dominican Republic",DZ:"Algeria",EE:"Estonia",ES:"Spain",FI:"Finland",FO:"Faroe Islands",FR:"France",GB:"United Kingdom",GE:"Georgia",GI:"Gibraltar",GL:"Greenland",GR:"Greece",GT:"Guatemala",HR:"Croatia",HU:"Hungary",IE:"Ireland",IL:"Israel",IR:"Iran",IS:"Iceland",IT:"Italy",JO:"Jordan",KW:"Kuwait",KZ:"Kazakhstan",LB:"Lebanon",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MG:"Madagascar",MK:"Macedonia",ML:"Mali",MR:"Mauritania",MT:"Malta",MU:"Mauritius",MZ:"Mozambique",NL:"Netherlands",NO:"Norway",PK:"Pakistan",PL:"Poland",PS:"Palestinian",PT:"Portugal",QA:"Qatar",RO:"Romania",RS:"Serbia",SA:"Saudi Arabia",SE:"Sweden",SI:"Slovenia",SK:"Slovakia",SM:"San Marino",SN:"Senegal",TN:"Tunisia",TR:"Turkey",VG:"Virgin Islands, British"}}),t.fn.bootstrapValidator.validators.iban={html5Attributes:{message:"message",country:"country"},REGEX:{AD:"AD[0-9]{2}[0-9]{4}[0-9]{4}[A-Z0-9]{12}",AE:"AE[0-9]{2}[0-9]{3}[0-9]{16}",AL:"AL[0-9]{2}[0-9]{8}[A-Z0-9]{16}",AO:"AO[0-9]{2}[0-9]{21}",AT:"AT[0-9]{2}[0-9]{5}[0-9]{11}",AZ:"AZ[0-9]{2}[A-Z]{4}[A-Z0-9]{20}",BA:"BA[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{8}[0-9]{2}",BE:"BE[0-9]{2}[0-9]{3}[0-9]{7}[0-9]{2}",BF:"BF[0-9]{2}[0-9]{23}",BG:"BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}",BH:"BH[0-9]{2}[A-Z]{4}[A-Z0-9]{14}",BI:"BI[0-9]{2}[0-9]{12}",BJ:"BJ[0-9]{2}[A-Z]{1}[0-9]{23}",BR:"BR[0-9]{2}[0-9]{8}[0-9]{5}[0-9]{10}[A-Z][A-Z0-9]",CH:"CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}",CI:"CI[0-9]{2}[A-Z]{1}[0-9]{23}",CM:"CM[0-9]{2}[0-9]{23}",CR:"CR[0-9]{2}[0-9]{3}[0-9]{14}",CV:"CV[0-9]{2}[0-9]{21}",CY:"CY[0-9]{2}[0-9]{3}[0-9]{5}[A-Z0-9]{16}",CZ:"CZ[0-9]{2}[0-9]{20}",DE:"DE[0-9]{2}[0-9]{8}[0-9]{10}",DK:"DK[0-9]{2}[0-9]{14}",DO:"DO[0-9]{2}[A-Z0-9]{4}[0-9]{20}",DZ:"DZ[0-9]{2}[0-9]{20}",EE:"EE[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{11}[0-9]{1}",ES:"ES[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{1}[0-9]{1}[0-9]{10}",FI:"FI[0-9]{2}[0-9]{6}[0-9]{7}[0-9]{1}",FO:"FO[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",FR:"FR[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",GB:"GB[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",GE:"GE[0-9]{2}[A-Z]{2}[0-9]{16}",GI:"GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}",GL:"GL[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",GR:"GR[0-9]{2}[0-9]{3}[0-9]{4}[A-Z0-9]{16}",GT:"GT[0-9]{2}[A-Z0-9]{4}[A-Z0-9]{20}",HR:"HR[0-9]{2}[0-9]{7}[0-9]{10}",HU:"HU[0-9]{2}[0-9]{3}[0-9]{4}[0-9]{1}[0-9]{15}[0-9]{1}",IE:"IE[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",IL:"IL[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{13}",IR:"IR[0-9]{2}[0-9]{22}",IS:"IS[0-9]{2}[0-9]{4}[0-9]{2}[0-9]{6}[0-9]{10}",IT:"IT[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",JO:"JO[0-9]{2}[A-Z]{4}[0-9]{4}[0]{8}[A-Z0-9]{10}",KW:"KW[0-9]{2}[A-Z]{4}[0-9]{22}",KZ:"KZ[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LB:"LB[0-9]{2}[0-9]{4}[A-Z0-9]{20}",LI:"LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}",LT:"LT[0-9]{2}[0-9]{5}[0-9]{11}",LU:"LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LV:"LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}",MC:"MC[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",MD:"MD[0-9]{2}[A-Z0-9]{20}",ME:"ME[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",MG:"MG[0-9]{2}[0-9]{23}",MK:"MK[0-9]{2}[0-9]{3}[A-Z0-9]{10}[0-9]{2}",ML:"ML[0-9]{2}[A-Z]{1}[0-9]{23}",MR:"MR13[0-9]{5}[0-9]{5}[0-9]{11}[0-9]{2}",MT:"MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}",MU:"MU[0-9]{2}[A-Z]{4}[0-9]{2}[0-9]{2}[0-9]{12}[0-9]{3}[A-Z]{3}",MZ:"MZ[0-9]{2}[0-9]{21}",NL:"NL[0-9]{2}[A-Z]{4}[0-9]{10}",NO:"NO[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{1}",PK:"PK[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",PL:"PL[0-9]{2}[0-9]{8}[0-9]{16}",PS:"PS[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",PT:"PT[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{11}[0-9]{2}",QA:"QA[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",RO:"RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",RS:"RS[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",SA:"SA[0-9]{2}[0-9]{2}[A-Z0-9]{18}",SE:"SE[0-9]{2}[0-9]{3}[0-9]{16}[0-9]{1}",SI:"SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}",SK:"SK[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{10}",SM:"SM[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",SN:"SN[0-9]{2}[A-Z]{1}[0-9]{23}",TN:"TN59[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",TR:"TR[0-9]{2}[0-9]{5}[A-Z0-9]{1}[A-Z0-9]{16}",VG:"VG[0-9]{2}[A-Z]{4}[0-9]{16}"},validate:function(e,i,a){var n=i.val();if(""===n)return!0;n=n.replace(/[^a-zA-Z0-9]/g,"").toUpperCase();var s=a.country;if(s?"string"==typeof s&&this.REGEX[s]||(s=e.getDynamicOption(i,s)):s=n.substr(0,2),!this.REGEX[s])return{valid:!1,message:t.fn.bootstrapValidator.helpers.format(t.fn.bootstrapValidator.i18n.iban.countryNotSupported,s)};if(!new RegExp("^"+this.REGEX[s]+"$").test(n))return{valid:!1,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.iban.country,t.fn.bootstrapValidator.i18n.iban.countries[s])};n=n.substr(4)+n.substr(0,4),n=t.map(n.split(""),function(t){var e=t.charCodeAt(0);return e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)?e-"A".charCodeAt(0)+10:t}),n=n.join("");for(var o=parseInt(n.substr(0,1),10),r=n.length,l=1;r>l;++l)o=(10*o+parseInt(n.substr(l,1),10))%97;return{valid:1===o,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.iban.country,t.fn.bootstrapValidator.i18n.iban.countries[s])}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.id=t.extend(t.fn.bootstrapValidator.i18n.id||{},{"default":"Please enter a valid identification number",countryNotSupported:"The country code %s is not supported",country:"Please enter a valid %s identification number",countries:{BA:"Bosnia and Herzegovina",BG:"Bulgarian",BR:"Brazilian",CH:"Swiss",CL:"Chilean",CZ:"Czech",DK:"Danish",EE:"Estonian",ES:"Spanish",FI:"Finnish",HR:"Croatian",IE:"Irish",IS:"Iceland",LT:"Lithuanian",LV:"Latvian",ME:"Montenegro",MK:"Macedonian",NL:"Dutch",RO:"Romanian",RS:"Serbian",SE:"Swedish",SI:"Slovenian",SK:"Slovak",SM:"San Marino",ZA:"South African"}}),t.fn.bootstrapValidator.validators.id={html5Attributes:{message:"message",country:"country"},COUNTRY_CODES:["BA","BG","BR","CH","CL","CZ","DK","EE","ES","FI","HR","IE","IS","LT","LV","ME","MK","NL","RO","RS","SE","SI","SK","SM","ZA"],validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=a.country;if(s?("string"!=typeof s||-1===t.inArray(s.toUpperCase(),this.COUNTRY_CODES))&&(s=e.getDynamicOption(i,s)):s=n.substr(0,2),-1===t.inArray(s,this.COUNTRY_CODES))return{valid:!1,message:t.fn.bootstrapValidator.helpers.format(t.fn.bootstrapValidator.i18n.id.countryNotSupported,s)};var o=["_",s.toLowerCase()].join("");return this[o](n)?!0:{valid:!1,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.id.country,t.fn.bootstrapValidator.i18n.id.countries[s.toUpperCase()])}},_validateJMBG:function(t,e){if(!/^\d{13}$/.test(t))return!1;var i=parseInt(t.substr(0,2),10),a=parseInt(t.substr(2,2),10),n=(parseInt(t.substr(4,3),10),parseInt(t.substr(7,2),10)),s=parseInt(t.substr(12,1),10);if(i>31||a>12)return!1;for(var o=0,r=0;6>r;r++)o+=(7-r)*(parseInt(t.charAt(r),10)+parseInt(t.charAt(r+6),10));if(o=11-o%11,(10===o||11===o)&&(o=0),o!==s)return!1;switch(e.toUpperCase()){case"BA":return n>=10&&19>=n;case"MK":return n>=41&&49>=n;case"ME":return n>=20&&29>=n;case"RS":return n>=70&&99>=n;case"SI":return n>=50&&59>=n;default:return!0}},_ba:function(t){return this._validateJMBG(t,"BA")},_mk:function(t){return this._validateJMBG(t,"MK")},_me:function(t){return this._validateJMBG(t,"ME")},_rs:function(t){return this._validateJMBG(t,"RS")},_si:function(t){return this._validateJMBG(t,"SI")},_bg:function(e){if(!/^\d{10}$/.test(e)&&!/^\d{6}\s\d{3}\s\d{1}$/.test(e))return!1;e=e.replace(/\s/g,"");var i=parseInt(e.substr(0,2),10)+1900,a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10);if(a>40?(i+=100,a-=40):a>20&&(i-=100,a-=20),!t.fn.bootstrapValidator.helpers.date(i,a,n))return!1;for(var s=0,o=[2,4,8,5,10,9,7,3,6],r=0;9>r;r++)s+=parseInt(e.charAt(r),10)*o[r];return s=s%11%10,s+""===e.substr(9,1)},_br:function(t){if(/^1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}$/.test(t))return!1;if(!/^\d{11}$/.test(t)&&!/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(t))return!1;t=t.replace(/\./g,"").replace(/-/g,"");for(var e=0,i=0;9>i;i++)e+=(10-i)*parseInt(t.charAt(i),10);if(e=11-e%11,(10===e||11===e)&&(e=0),e+""!==t.charAt(9))return!1;var a=0;for(i=0;10>i;i++)a+=(11-i)*parseInt(t.charAt(i),10);return a=11-a%11,(10===a||11===a)&&(a=0),a+""===t.charAt(10)},_ch:function(t){if(!/^756[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{2}$/.test(t))return!1;t=t.replace(/\D/g,"").substr(3);for(var e=t.length,i=0,a=8===e?[3,1]:[1,3],n=0;e-1>n;n++)i+=parseInt(t.charAt(n),10)*a[n%2];return i=10-i%10,i+""===t.charAt(e-1)},_cl:function(t){if(!/^\d{7,8}[-]{0,1}[0-9K]$/i.test(t))return!1;for(t=t.replace(/\-/g,"");t.length<9;)t="0"+t;for(var e=0,i=[3,2,7,6,5,4,3,2],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e=11-e%11,11===e?e=0:10===e&&(e="K"),e+""===t.charAt(8).toUpperCase()},_cz:function(e){if(!/^\d{9,10}$/.test(e))return!1;var i=1900+parseInt(e.substr(0,2),10),a=parseInt(e.substr(2,2),10)%50%20,n=parseInt(e.substr(4,2),10);if(9===e.length){if(i>=1980&&(i-=100),i>1953)return!1}else 1954>i&&(i+=100);if(!t.fn.bootstrapValidator.helpers.date(i,a,n))return!1;if(10===e.length){var s=parseInt(e.substr(0,9),10)%11;return 1985>i&&(s%=10),s+""===e.substr(9,1)}return!0},_dk:function(e){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(e))return!1;e=e.replace(/-/g,"");var i=parseInt(e.substr(0,2),10),a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10);switch(!0){case-1!=="5678".indexOf(e.charAt(6))&&n>=58:n+=1800;break;case-1!=="0123".indexOf(e.charAt(6)):case-1!=="49".indexOf(e.charAt(6))&&n>=37:n+=1900;break;default:n+=2e3}return t.fn.bootstrapValidator.helpers.date(n,a,i)},_ee:function(t){return this._lt(t)},_es:function(t){if(!/^[0-9A-Z]{8}[-]{0,1}[0-9A-Z]$/.test(t)&&!/^[XYZ][-]{0,1}[0-9]{7}[-]{0,1}[0-9A-Z]$/.test(t))return!1;t=t.replace(/-/g,"");var e="XYZ".indexOf(t.charAt(0));-1!==e&&(t=e+t.substr(1)+"");var i=parseInt(t.substr(0,8),10);return i="TRWAGMYFPDXBNJZSQVHLCKE"[i%23],i===t.substr(8,1)},_fi:function(e){if(!/^[0-9]{6}[-+A][0-9]{3}[0-9ABCDEFHJKLMNPRSTUVWXY]$/.test(e))return!1;var i=parseInt(e.substr(0,2),10),a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10),s={"+":1800,"-":1900,A:2e3};if(n=s[e.charAt(6)]+n,!t.fn.bootstrapValidator.helpers.date(n,a,i))return!1;var o=parseInt(e.substr(7,3),10);if(2>o)return!1;var r=e.substr(0,6)+e.substr(7,3)+"";return r=parseInt(r,10),"0123456789ABCDEFHJKLMNPRSTUVWXY".charAt(r%31)===e.charAt(10)},_hr:function(e){return/^[0-9]{11}$/.test(e)?t.fn.bootstrapValidator.helpers.mod11And10(e):!1},_ie:function(t){if(!/^\d{7}[A-W][AHWTX]?$/.test(t))return!1;var e=function(t){for(;t.length<7;)t="0"+t;for(var e="WABCDEFGHIJKLMNOPQRSTUV",i=0,a=0;7>a;a++)i+=parseInt(t.charAt(a),10)*(8-a);return i+=9*e.indexOf(t.substr(7)),e[i%23]};return 9!==t.length||"A"!==t.charAt(8)&&"H"!==t.charAt(8)?t.charAt(7)===e(t.substr(0,7)):t.charAt(7)===e(t.substr(0,7)+t.substr(8)+"")},_is:function(e){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(e))return!1;e=e.replace(/-/g,"");var i=parseInt(e.substr(0,2),10),a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10),s=parseInt(e.charAt(9),10);if(n=9===s?1900+n:100*(20+s)+n,!t.fn.bootstrapValidator.helpers.date(n,a,i,!0))return!1;for(var o=0,r=[3,2,7,6,5,4,3,2],l=0;8>l;l++)o+=parseInt(e.charAt(l),10)*r[l];return o=11-o%11,o+""===e.charAt(8)},_lt:function(e){if(!/^[0-9]{11}$/.test(e))return!1;var i=parseInt(e.charAt(0),10),a=parseInt(e.substr(1,2),10),n=parseInt(e.substr(3,2),10),s=parseInt(e.substr(5,2),10),o=i%2===0?17+i/2:17+(i+1)/2;
if(a=100*o+a,!t.fn.bootstrapValidator.helpers.date(a,n,s,!0))return!1;for(var r=0,l=[1,2,3,4,5,6,7,8,9,1],d=0;10>d;d++)r+=parseInt(e.charAt(d),10)*l[d];if(r%=11,10!==r)return r+""===e.charAt(10);for(r=0,l=[3,4,5,6,7,8,9,1,2,3],d=0;10>d;d++)r+=parseInt(e.charAt(d),10)*l[d];return r%=11,10===r&&(r=0),r+""===e.charAt(10)},_lv:function(e){if(!/^[0-9]{6}[-]{0,1}[0-9]{5}$/.test(e))return!1;e=e.replace(/\D/g,"");var i=parseInt(e.substr(0,2),10),a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10);if(n=n+1800+100*parseInt(e.charAt(6),10),!t.fn.bootstrapValidator.helpers.date(n,a,i,!0))return!1;for(var s=0,o=[10,5,8,4,2,1,6,3,7,9],r=0;10>r;r++)s+=parseInt(e.charAt(r),10)*o[r];return s=(s+1)%11%10,s+""===e.charAt(10)},_nl:function(t){for(;t.length<9;)t="0"+t;if(!/^[0-9]{4}[.]{0,1}[0-9]{2}[.]{0,1}[0-9]{3}$/.test(t))return!1;if(t=t.replace(/\./g,""),0===parseInt(t,10))return!1;for(var e=0,i=t.length,a=0;i-1>a;a++)e+=(9-a)*parseInt(t.charAt(a),10);return e%=11,10===e&&(e=0),e+""===t.charAt(i-1)},_ro:function(e){if(!/^[0-9]{13}$/.test(e))return!1;var i=parseInt(e.charAt(0),10);if(0===i||7===i||8===i)return!1;var a=parseInt(e.substr(1,2),10),n=parseInt(e.substr(3,2),10),s=parseInt(e.substr(5,2),10),o={1:1900,2:1900,3:1800,4:1800,5:2e3,6:2e3};if(s>31&&n>12)return!1;if(9!==i&&(a=o[i+""]+a,!t.fn.bootstrapValidator.helpers.date(a,n,s)))return!1;for(var r=0,l=[2,7,9,1,4,6,3,5,8,2,7,9],d=e.length,p=0;d-1>p;p++)r+=parseInt(e.charAt(p),10)*l[p];return r%=11,10===r&&(r=1),r+""===e.charAt(d-1)},_se:function(e){if(!/^[0-9]{10}$/.test(e)&&!/^[0-9]{6}[-|+][0-9]{4}$/.test(e))return!1;e=e.replace(/[^0-9]/g,"");var i=parseInt(e.substr(0,2),10)+1900,a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10);return t.fn.bootstrapValidator.helpers.date(i,a,n)?t.fn.bootstrapValidator.helpers.luhn(e):!1},_sk:function(t){return this._cz(t)},_sm:function(t){return/^\d{5}$/.test(t)},_za:function(e){if(!/^[0-9]{10}[0|1][8|9][0-9]$/.test(e))return!1;var i=parseInt(e.substr(0,2),10),a=(new Date).getFullYear()%100,n=parseInt(e.substr(2,2),10),s=parseInt(e.substr(4,2),10);return i=i>=a?i+1900:i+2e3,t.fn.bootstrapValidator.helpers.date(i,n,s)?t.fn.bootstrapValidator.helpers.luhn(e):!1}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.identical=t.extend(t.fn.bootstrapValidator.i18n.identical||{},{"default":"Please enter the same value"}),t.fn.bootstrapValidator.validators.identical={html5Attributes:{message:"message",field:"field"},validate:function(t,e,i){var a=e.val();if(""===a)return!0;var n=t.getFieldElements(i.field);return null===n?!0:a===n.val()?(t.updateStatus(i.field,t.STATUS_VALID,"identical"),!0):!1}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.imei=t.extend(t.fn.bootstrapValidator.i18n.imei||{},{"default":"Please enter a valid IMEI number"}),t.fn.bootstrapValidator.validators.imei={validate:function(e,i){var a=i.val();if(""===a)return!0;switch(!0){case/^\d{15}$/.test(a):case/^\d{2}-\d{6}-\d{6}-\d{1}$/.test(a):case/^\d{2}\s\d{6}\s\d{6}\s\d{1}$/.test(a):return a=a.replace(/[^0-9]/g,""),t.fn.bootstrapValidator.helpers.luhn(a);case/^\d{14}$/.test(a):case/^\d{16}$/.test(a):case/^\d{2}-\d{6}-\d{6}(|-\d{2})$/.test(a):case/^\d{2}\s\d{6}\s\d{6}(|\s\d{2})$/.test(a):return!0;default:return!1}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.integer=t.extend(t.fn.bootstrapValidator.i18n.integer||{},{"default":"Please enter a valid number"}),t.fn.bootstrapValidator.validators.integer={enableByHtml5:function(t){return"number"===t.attr("type")&&(void 0===t.attr("step")||t.attr("step")%1===0)},validate:function(t,e){var i=e.val();return""===i?!0:/^(?:-?(?:0|[1-9][0-9]*))$/.test(i)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.ip=t.extend(t.fn.bootstrapValidator.i18n.ip||{},{"default":"Please enter a valid IP address",ipv4:"Please enter a valid IPv4 address",ipv6:"Please enter a valid IPv6 address"}),t.fn.bootstrapValidator.validators.ip={html5Attributes:{message:"message",ipv4:"ipv4",ipv6:"ipv6"},validate:function(e,i,a){var n=i.val();return""===n?!0:(a=t.extend({},{ipv4:!0,ipv6:!0},a),a.ipv4?{valid:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(n),message:a.message||t.fn.bootstrapValidator.i18n.ip.ipv4}:a.ipv6?{valid:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(n),message:a.message||t.fn.bootstrapValidator.i18n.ip.ipv6}:!1)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.isbn=t.extend(t.fn.bootstrapValidator.i18n.isbn||{},{"default":"Please enter a valid ISBN number"}),t.fn.bootstrapValidator.validators.isbn={validate:function(t,e){var i=e.val();if(""===i)return!0;var a;switch(!0){case/^\d{9}[\dX]$/.test(i):case 13===i.length&&/^(\d+)-(\d+)-(\d+)-([\dX])$/.test(i):case 13===i.length&&/^(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(i):a="ISBN10";break;case/^(978|979)\d{9}[\dX]$/.test(i):case 17===i.length&&/^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/.test(i):case 17===i.length&&/^(978|979)\s(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(i):a="ISBN13";break;default:return!1}i=i.replace(/[^0-9X]/gi,"");var n,s,o=i.split(""),r=o.length,l=0;switch(a){case"ISBN10":for(l=0,n=0;r-1>n;n++)l+=parseInt(o[n],10)*(10-n);return s=11-l%11,11===s?s=0:10===s&&(s="X"),s+""===o[r-1];case"ISBN13":for(l=0,n=0;r-1>n;n++)l+=n%2===0?parseInt(o[n],10):3*parseInt(o[n],10);return s=10-l%10,10===s&&(s="0"),s+""===o[r-1];default:return!1}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.isin=t.extend(t.fn.bootstrapValidator.i18n.isin||{},{"default":"Please enter a valid ISIN number"}),t.fn.bootstrapValidator.validators.isin={COUNTRY_CODES:"AF|AX|AL|DZ|AS|AD|AO|AI|AQ|AG|AR|AM|AW|AU|AT|AZ|BS|BH|BD|BB|BY|BE|BZ|BJ|BM|BT|BO|BQ|BA|BW|BV|BR|IO|BN|BG|BF|BI|KH|CM|CA|CV|KY|CF|TD|CL|CN|CX|CC|CO|KM|CG|CD|CK|CR|CI|HR|CU|CW|CY|CZ|DK|DJ|DM|DO|EC|EG|SV|GQ|ER|EE|ET|FK|FO|FJ|FI|FR|GF|PF|TF|GA|GM|GE|DE|GH|GI|GR|GL|GD|GP|GU|GT|GG|GN|GW|GY|HT|HM|VA|HN|HK|HU|IS|IN|ID|IR|IQ|IE|IM|IL|IT|JM|JP|JE|JO|KZ|KE|KI|KP|KR|KW|KG|LA|LV|LB|LS|LR|LY|LI|LT|LU|MO|MK|MG|MW|MY|MV|ML|MT|MH|MQ|MR|MU|YT|MX|FM|MD|MC|MN|ME|MS|MA|MZ|MM|NA|NR|NP|NL|NC|NZ|NI|NE|NG|NU|NF|MP|NO|OM|PK|PW|PS|PA|PG|PY|PE|PH|PN|PL|PT|PR|QA|RE|RO|RU|RW|BL|SH|KN|LC|MF|PM|VC|WS|SM|ST|SA|SN|RS|SC|SL|SG|SX|SK|SI|SB|SO|ZA|GS|SS|ES|LK|SD|SR|SJ|SZ|SE|CH|SY|TW|TJ|TZ|TH|TL|TG|TK|TO|TT|TN|TR|TM|TC|TV|UG|UA|AE|GB|US|UM|UY|UZ|VU|VE|VN|VG|VI|WF|EH|YE|ZM|ZW",validate:function(t,e){var i=e.val();if(""===i)return!0;i=i.toUpperCase();var a=new RegExp("^("+this.COUNTRY_CODES+")[0-9A-Z]{10}$");if(!a.test(i))return!1;for(var n="",s=i.length,o=0;s-1>o;o++){var r=i.charCodeAt(o);n+=r>57?(r-55).toString():i.charAt(o)}var l="",d=n.length,p=d%2!==0?0:1;for(o=0;d>o;o++)l+=parseInt(n[o],10)*(o%2===p?2:1)+"";var h=0;for(o=0;o<l.length;o++)h+=parseInt(l.charAt(o),10);return h=(10-h%10)%10,h+""===i.charAt(s-1)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.ismn=t.extend(t.fn.bootstrapValidator.i18n.ismn||{},{"default":"Please enter a valid ISMN number"}),t.fn.bootstrapValidator.validators.ismn={validate:function(t,e){var i=e.val();if(""===i)return!0;var a;switch(!0){case/^M\d{9}$/.test(i):case/^M-\d{4}-\d{4}-\d{1}$/.test(i):case/^M\s\d{4}\s\d{4}\s\d{1}$/.test(i):a="ISMN10";break;case/^9790\d{9}$/.test(i):case/^979-0-\d{4}-\d{4}-\d{1}$/.test(i):case/^979\s0\s\d{4}\s\d{4}\s\d{1}$/.test(i):a="ISMN13";break;default:return!1}"ISMN10"===a&&(i="9790"+i.substr(1)),i=i.replace(/[^0-9]/gi,"");for(var n=i.length,s=0,o=[1,3],r=0;n-1>r;r++)s+=parseInt(i.charAt(r),10)*o[r%2];return s=10-s%10,s+""===i.charAt(n-1)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.issn=t.extend(t.fn.bootstrapValidator.i18n.issn||{},{"default":"Please enter a valid ISSN number"}),t.fn.bootstrapValidator.validators.issn={validate:function(t,e){var i=e.val();if(""===i)return!0;if(!/^\d{4}\-\d{3}[\dX]$/.test(i))return!1;i=i.replace(/[^0-9X]/gi,"");var a=i.split(""),n=a.length,s=0;"X"===a[7]&&(a[7]=10);for(var o=0;n>o;o++)s+=parseInt(a[o],10)*(8-o);return s%11===0}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.lessThan=t.extend(t.fn.bootstrapValidator.i18n.lessThan||{},{"default":"Please enter a value less than or equal to %s",notInclusive:"Please enter a value less than %s"}),t.fn.bootstrapValidator.validators.lessThan={html5Attributes:{message:"message",value:"value",inclusive:"inclusive"},enableByHtml5:function(t){var e=t.attr("max");return e?{value:e}:!1},validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=t.isNumeric(a.value)?a.value:e.getDynamicOption(i,a.value);return n=parseFloat(n),a.inclusive===!0||void 0===a.inclusive?{valid:s>=n,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.lessThan["default"],s)}:{valid:s>n,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.lessThan.notInclusive,s)}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.mac=t.extend(t.fn.bootstrapValidator.i18n.mac||{},{"default":"Please enter a valid MAC address"}),t.fn.bootstrapValidator.validators.mac={validate:function(t,e){var i=e.val();return""===i?!0:/^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$/.test(i)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.notEmpty=t.extend(t.fn.bootstrapValidator.i18n.notEmpty||{},{"default":"Please enter a value"}),t.fn.bootstrapValidator.validators.notEmpty={enableByHtml5:function(t){var e=t.attr("required")+"";return"required"===e||"true"===e},validate:function(e,i){var a=i.attr("type");return"radio"===a||"checkbox"===a?e.getFieldElements(i.attr("data-bv-field")).filter(":checked").length>0:""!==t.trim(i.val())}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.numeric=t.extend(t.fn.bootstrapValidator.i18n.numeric||{},{"default":"Please enter a valid float number"}),t.fn.bootstrapValidator.validators.numeric={html5Attributes:{message:"message",separator:"separator"},enableByHtml5:function(t){return"number"===t.attr("type")&&void 0!==t.attr("step")&&t.attr("step")%1!==0},validate:function(t,e,i){var a=e.val();if(""===a)return!0;var n=i.separator||".";return"."!==n&&(a=a.replace(n,".")),!isNaN(parseFloat(a))&&isFinite(a)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.phone=t.extend(t.fn.bootstrapValidator.i18n.phone||{},{"default":"Please enter a valid phone number",countryNotSupported:"The country code %s is not supported",country:"Please enter a valid phone number in %s",countries:{GB:"United Kingdom",US:"USA"}}),t.fn.bootstrapValidator.validators.phone={html5Attributes:{message:"message",country:"country"},COUNTRY_CODES:["GB","US"],validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=a.country;if(("string"!=typeof s||-1===t.inArray(s,this.COUNTRY_CODES))&&(s=e.getDynamicOption(i,s)),!s||-1===t.inArray(s.toUpperCase(),this.COUNTRY_CODES))return{valid:!1,message:t.fn.bootstrapValidator.helpers.format(t.fn.bootstrapValidator.i18n.phone.countryNotSupported,s)};var o=!0;switch(s.toUpperCase()){case"GB":n=t.trim(n),o=/^\(?(?:(?:0(?:0|11)\)?[\s-]?\(?|\+)44\)?[\s-]?\(?(?:0\)?[\s-]?\(?)?|0)(?:\d{2}\)?[\s-]?\d{4}[\s-]?\d{4}|\d{3}\)?[\s-]?\d{3}[\s-]?\d{3,4}|\d{4}\)?[\s-]?(?:\d{5}|\d{3}[\s-]?\d{3})|\d{5}\)?[\s-]?\d{4,5}|8(?:00[\s-]?11[\s-]?11|45[\s-]?46[\s-]?4\d))(?:(?:[\s-]?(?:x|ext\.?\s?|\#)\d+)?)$/.test(n);break;case"US":default:n=n.replace(/\D/g,""),o=/^(?:(1\-?)|(\+1 ?))?\(?(\d{3})[\)\-\.]?(\d{3})[\-\.]?(\d{4})$/.test(n)&&10===n.length}return{valid:o,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.phone.country,t.fn.bootstrapValidator.i18n.phone.countries[s])}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.regexp=t.extend(t.fn.bootstrapValidator.i18n.regexp||{},{"default":"Please enter a value matching the pattern"}),t.fn.bootstrapValidator.validators.regexp={html5Attributes:{message:"message",regexp:"regexp"},enableByHtml5:function(t){var e=t.attr("pattern");return e?{regexp:e}:!1},validate:function(t,e,i){var a=e.val();if(""===a)return!0;var n="string"==typeof i.regexp?new RegExp(i.regexp):i.regexp;return n.test(a)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.remote=t.extend(t.fn.bootstrapValidator.i18n.remote||{},{"default":"Please enter a valid value"}),t.fn.bootstrapValidator.validators.remote={html5Attributes:{message:"message",url:"url",name:"name"},validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=i.attr("data-bv-field"),o=a.data||{},r=a.url,l=a.type||"POST";"function"==typeof o&&(o=o.call(this,e)),"function"==typeof r&&(r=r.call(this,e)),o[a.name||s]=n;var d=new t.Deferred,p=t.ajax({type:l,url:r,dataType:"json",data:o});return p.then(function(t){d.resolve(i,"remote",t.valid===!0||"true"===t.valid,t.message?t.message:null)}),d.fail(function(){p.abort()}),d}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.rtn=t.extend(t.fn.bootstrapValidator.i18n.rtn||{},{"default":"Please enter a valid RTN number"}),t.fn.bootstrapValidator.validators.rtn={validate:function(t,e){var i=e.val();if(""===i)return!0;if(!/^\d{9}$/.test(i))return!1;for(var a=0,n=0;n<i.length;n+=3)a+=3*parseInt(i.charAt(n),10)+7*parseInt(i.charAt(n+1),10)+parseInt(i.charAt(n+2),10);return 0!==a&&a%10===0}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.sedol=t.extend(t.fn.bootstrapValidator.i18n.sedol||{},{"default":"Please enter a valid SEDOL number"}),t.fn.bootstrapValidator.validators.sedol={validate:function(t,e){var i=e.val();if(""===i)return!0;if(i=i.toUpperCase(),!/^[0-9A-Z]{7}$/.test(i))return!1;for(var a=0,n=[1,3,1,7,3,9,1],s=i.length,o=0;s-1>o;o++)a+=n[o]*parseInt(i.charAt(o),36);return a=(10-a%10)%10,a+""===i.charAt(s-1)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.siren=t.extend(t.fn.bootstrapValidator.i18n.siren||{},{"default":"Please enter a valid SIREN number"}),t.fn.bootstrapValidator.validators.siren={validate:function(e,i){var a=i.val();return""===a?!0:/^\d{9}$/.test(a)?t.fn.bootstrapValidator.helpers.luhn(a):!1}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.siret=t.extend(t.fn.bootstrapValidator.i18n.siret||{},{"default":"Please enter a valid SIRET number"}),t.fn.bootstrapValidator.validators.siret={validate:function(t,e){var i=e.val();if(""===i)return!0;for(var a,n=0,s=i.length,o=0;s>o;o++)a=parseInt(i.charAt(o),10),o%2===0&&(a=2*a,a>9&&(a-=9)),n+=a;return n%10===0}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.step=t.extend(t.fn.bootstrapValidator.i18n.step||{},{"default":"Please enter a valid step of %s"}),t.fn.bootstrapValidator.validators.step={html5Attributes:{message:"message",base:"baseValue",step:"step"},validate:function(e,i,a){var n=i.val();if(""===n)return!0;if(a=t.extend({},{baseValue:0,step:1},a),n=parseFloat(n),!t.isNumeric(n))return!1;var s=function(t,e){var i=Math.pow(10,e);t*=i;var a=t>0|-(0>t),n=t%1===.5*a;return n?(Math.floor(t)+(a>0))/i:Math.round(t)/i},o=function(t,e){if(0===e)return 1;var i=(t+"").split("."),a=(e+"").split("."),n=(1===i.length?0:i[1].length)+(1===a.length?0:a[1].length);return s(t-e*Math.floor(t/e),n)},r=o(n-a.baseValue,a.step);return{valid:0===r||r===a.step,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.step["default"],[a.step])}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.stringCase=t.extend(t.fn.bootstrapValidator.i18n.stringCase||{},{"default":"Please enter only lowercase characters",upper:"Please enter only uppercase characters"}),t.fn.bootstrapValidator.validators.stringCase={html5Attributes:{message:"message","case":"case"},validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=(a["case"]||"lower").toLowerCase();return{valid:"upper"===s?n===n.toUpperCase():n===n.toLowerCase(),message:a.message||("upper"===s?t.fn.bootstrapValidator.i18n.stringCase.upper:t.fn.bootstrapValidator.i18n.stringCase["default"])}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.stringLength=t.extend(t.fn.bootstrapValidator.i18n.stringLength||{},{"default":"Please enter a value with valid length",less:"Please enter less than %s characters",more:"Please enter more than %s characters",between:"Please enter value between %s and %s characters long"}),t.fn.bootstrapValidator.validators.stringLength={html5Attributes:{message:"message",min:"min",max:"max"},enableByHtml5:function(t){var e=t.attr("maxlength");return e?{max:parseInt(e,10)}:!1},validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=t.isNumeric(a.min)?a.min:e.getDynamicOption(i,a.min),o=t.isNumeric(a.max)?a.max:e.getDynamicOption(i,a.max),r=n.length,l=!0,d=a.message||t.fn.bootstrapValidator.i18n.stringLength["default"];switch((s&&r<parseInt(s,10)||o&&r>parseInt(o,10))&&(l=!1),!0){case!!s&&!!o:d=t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.stringLength.between,[parseInt(s,10),parseInt(o,10)]);break;case!!s:d=t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.stringLength.more,parseInt(s,10));break;case!!o:d=t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.stringLength.less,parseInt(o,10))}return{valid:l,message:d}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.uri=t.extend(t.fn.bootstrapValidator.i18n.uri||{},{"default":"Please enter a valid URI"}),t.fn.bootstrapValidator.validators.uri={html5Attributes:{message:"message",allowlocal:"allowLocal"},enableByHtml5:function(t){return"url"===t.attr("type")},validate:function(t,e,i){var a=e.val();if(""===a)return!0;var n=i.allowLocal===!0||"true"===i.allowLocal,s=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:"+(n?"":"(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})")+"(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/[^\\s]*)?$","i");return s.test(a)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.uuid=t.extend(t.fn.bootstrapValidator.i18n.uuid||{},{"default":"Please enter a valid UUID number",version:"Please enter a valid UUID version %s number"}),t.fn.bootstrapValidator.validators.uuid={html5Attributes:{message:"message",version:"version"},validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},o=a.version?a.version+"":"all";return{valid:null===s[o]?!0:s[o].test(n),message:a.version?t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.uuid.version,a.version):a.message||t.fn.bootstrapValidator.i18n.uuid["default"]}}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.vat=t.extend(t.fn.bootstrapValidator.i18n.vat||{},{"default":"Please enter a valid VAT number",countryNotSupported:"The country code %s is not supported",country:"Please enter a valid %s VAT number",countries:{AT:"Austrian",BE:"Belgian",BG:"Bulgarian",CH:"Swiss",CY:"Cypriot",CZ:"Czech",DE:"German",DK:"Danish",EE:"Estonian",ES:"Spanish",FI:"Finnish",FR:"French",GB:"United Kingdom",GR:"Greek",EL:"Greek",HU:"Hungarian",HR:"Croatian",IE:"Irish",IT:"Italian",LT:"Lithuanian",LU:"Luxembourg",LV:"Latvian",MT:"Maltese",NL:"Dutch",NO:"Norwegian",PL:"Polish",PT:"Portuguese",RO:"Romanian",RU:"Russian",RS:"Serbian",SE:"Swedish",SI:"Slovenian",SK:"Slovak"}}),t.fn.bootstrapValidator.validators.vat={html5Attributes:{message:"message",country:"country"},COUNTRY_CODES:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","EL","HU","IE","IT","LV","LT","LU","MT","NL","NO","PL","PT","RO","RU","RS","SK","SI","ES","SE","CH","GB"],validate:function(e,i,a){var n=i.val();if(""===n)return!0;var s=a.country;if(s?("string"!=typeof s||-1===t.inArray(s.toUpperCase(),this.COUNTRY_CODES))&&(s=e.getDynamicOption(i,s)):s=n.substr(0,2),-1===t.inArray(s,this.COUNTRY_CODES))return{valid:!1,message:t.fn.bootstrapValidator.helpers.format(t.fn.bootstrapValidator.i18n.vat.countryNotSupported,s)};var o=["_",s.toLowerCase()].join("");return this[o](n)?!0:{valid:!1,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.vat.country,t.fn.bootstrapValidator.i18n.vat.countries[s.toUpperCase()])}},_at:function(t){if(!/^ATU[0-9]{8}$/.test(t))return!1;t=t.substr(3);for(var e=0,i=[1,2,1,2,1,2,1],a=0,n=0;7>n;n++)a=parseInt(t.charAt(n),10)*i[n],a>9&&(a=Math.floor(a/10)+a%10),e+=a;return e=10-(e+4)%10,10===e&&(e=0),e+""===t.substr(7,1)},_be:function(t){if(!/^BE[0]{0,1}[0-9]{9}$/.test(t))return!1;if(t=t.substr(2),9===t.length&&(t="0"+t),"0"===t.substr(1,1))return!1;var e=parseInt(t.substr(0,8),10)+parseInt(t.substr(8,2),10);return e%97===0},_bg:function(e){if(!/^BG[0-9]{9,10}$/.test(e))return!1;e=e.substr(2);var i=0,a=0;if(9===e.length){for(a=0;8>a;a++)i+=parseInt(e.charAt(a),10)*(a+1);if(i%=11,10===i)for(i=0,a=0;8>a;a++)i+=parseInt(e.charAt(a),10)*(a+3);return i%=10,i+""===e.substr(8)}if(10===e.length){var n=function(e){var i=parseInt(e.substr(0,2),10)+1900,a=parseInt(e.substr(2,2),10),n=parseInt(e.substr(4,2),10);if(a>40?(i+=100,a-=40):a>20&&(i-=100,a-=20),!t.fn.bootstrapValidator.helpers.date(i,a,n))return!1;for(var s=0,o=[2,4,8,5,10,9,7,3,6],r=0;9>r;r++)s+=parseInt(e.charAt(r),10)*o[r];return s=s%11%10,s+""===e.substr(9,1)},s=function(t){for(var e=0,i=[21,19,17,13,11,9,7,3,1],a=0;9>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e%=10,e+""===t.substr(9,1)},o=function(t){for(var e=0,i=[4,3,2,7,6,5,4,3,2],a=0;9>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e=11-e%11,10===e?!1:(11===e&&(e=0),e+""===t.substr(9,1))};return n(e)||s(e)||o(e)}return!1},_ch:function(t){if(!/^CHE[0-9]{9}(MWST)?$/.test(t))return!1;t=t.substr(3);for(var e=0,i=[5,4,3,2,7,6,5,4],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e=11-e%11,10===e?!1:(11===e&&(e=0),e+""===t.substr(8,1))},_cy:function(t){if(!/^CY[0-5|9]{1}[0-9]{7}[A-Z]{1}$/.test(t))return!1;if(t=t.substr(2),"12"===t.substr(0,2))return!1;for(var e=0,i={0:1,1:0,2:5,3:7,4:9,5:13,6:15,7:17,8:19,9:21},a=0;8>a;a++){var n=parseInt(t.charAt(a),10);a%2===0&&(n=i[n+""]),e+=n}return e="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e%26],e+""===t.substr(8,1)},_cz:function(e){if(!/^CZ[0-9]{8,10}$/.test(e))return!1;e=e.substr(2);var i=0,a=0;if(8===e.length){if(e.charAt(0)+""=="9")return!1;for(i=0,a=0;7>a;a++)i+=parseInt(e.charAt(a),10)*(8-a);return i=11-i%11,10===i&&(i=0),11===i&&(i=1),i+""===e.substr(7,1)}if(9===e.length&&e.charAt(0)+""=="6"){for(i=0,a=0;7>a;a++)i+=parseInt(e.charAt(a+1),10)*(8-a);return i=11-i%11,10===i&&(i=0),11===i&&(i=1),i=[8,7,6,5,4,3,2,1,0,9,10][i-1],i+""===e.substr(8,1)}if(9===e.length||10===e.length){var n=1900+parseInt(e.substr(0,2),10),s=parseInt(e.substr(2,2),10)%50%20,o=parseInt(e.substr(4,2),10);if(9===e.length){if(n>=1980&&(n-=100),n>1953)return!1}else 1954>n&&(n+=100);if(!t.fn.bootstrapValidator.helpers.date(n,s,o))return!1;if(10===e.length){var r=parseInt(e.substr(0,9),10)%11;return 1985>n&&(r%=10),r+""===e.substr(9,1)}return!0}return!1},_de:function(e){return/^DE[0-9]{9}$/.test(e)?(e=e.substr(2),t.fn.bootstrapValidator.helpers.mod11And10(e)):!1},_dk:function(t){if(!/^DK[0-9]{8}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[2,7,6,5,4,3,2,1],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e%11===0},_ee:function(t){if(!/^EE[0-9]{9}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[3,7,1,3,7,1,3,7,1],a=0;9>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e%10===0},_es:function(t){if(!/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(t))return!1;t=t.substr(2);var e=function(t){var e=parseInt(t.substr(0,8),10);return e="TRWAGMYFPDXBNJZSQVHLCKE"[e%23],e+""===t.substr(8,1)},i=function(t){var e=["XYZ".indexOf(t.charAt(0)),t.substr(1)].join("");return e=parseInt(e,10),e="TRWAGMYFPDXBNJZSQVHLCKE"[e%23],e+""===t.substr(8,1)},a=function(t){var e,i=t.charAt(0);if(-1!=="KLM".indexOf(i))return e=parseInt(t.substr(1,8),10),e="TRWAGMYFPDXBNJZSQVHLCKE"[e%23],e+""===t.substr(8,1);if(-1!=="ABCDEFGHJNPQRSUVW".indexOf(i)){for(var a=0,n=[2,1,2,1,2,1,2],s=0,o=0;7>o;o++)s=parseInt(t.charAt(o+1),10)*n[o],s>9&&(s=Math.floor(s/10)+s%10),a+=s;return a=10-a%10,a+""===t.substr(8,1)||"JABCDEFGHI"[a]===t.substr(8,1)}return!1},n=t.charAt(0);return/^[0-9]$/.test(n)?e(t):/^[XYZ]$/.test(n)?i(t):a(t)},_fi:function(t){if(!/^FI[0-9]{8}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[7,9,10,5,8,4,2,1],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e%11===0},_fr:function(e){if(!/^FR[0-9A-Z]{2}[0-9]{9}$/.test(e))return!1;if(e=e.substr(2),!t.fn.bootstrapValidator.helpers.luhn(e.substr(2)))return!1;if(/^[0-9]{2}$/.test(e.substr(0,2)))return e.substr(0,2)===parseInt(e.substr(2)+"12",10)%97+"";var i,a="0123456789ABCDEFGHJKLMNPQRSTUVWXYZ";return i=/^[0-9]{1}$/.test(e.charAt(0))?24*a.indexOf(e.charAt(0))+a.indexOf(e.charAt(1))-10:34*a.indexOf(e.charAt(0))+a.indexOf(e.charAt(1))-100,(parseInt(e.substr(2),10)+1+Math.floor(i/11))%11===i%11},_gb:function(t){if(!(/^GB[0-9]{9}$/.test(t)||/^GB[0-9]{12}$/.test(t)||/^GBGD[0-9]{3}$/.test(t)||/^GBHA[0-9]{3}$/.test(t)||/^GB(GD|HA)8888[0-9]{5}$/.test(t)))return!1;t=t.substr(2);var e=t.length;if(5===e){var i=t.substr(0,2),a=parseInt(t.substr(2),10);return"GD"===i&&500>a||"HA"===i&&a>=500}if(11===e&&("GD8888"===t.substr(0,6)||"HA8888"===t.substr(0,6)))return"GD"===t.substr(0,2)&&parseInt(t.substr(6,3),10)>=500||"HA"===t.substr(0,2)&&parseInt(t.substr(6,3),10)<500?!1:parseInt(t.substr(6,3),10)%97===parseInt(t.substr(9,2),10);if(9===e||12===e){for(var n=0,s=[8,7,6,5,4,3,2,10,1],o=0;9>o;o++)n+=parseInt(t.charAt(o),10)*s[o];return n%=97,parseInt(t.substr(0,3),10)>=100?0===n||42===n||55===n:0===n}return!0},_gr:function(t){if(!/^GR[0-9]{9}$/.test(t))return!1;t=t.substr(2),8===t.length&&(t="0"+t);for(var e=0,i=[256,128,64,32,16,8,4,2],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e=e%11%10,e+""===t.substr(8,1)},_el:function(t){return/^EL[0-9]{9}$/.test(t)?(t="GR"+t.substr(2),this._gr(t)):!1},_hu:function(t){if(!/^HU[0-9]{8}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[9,7,3,1,9,7,3,1],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e%10===0},_hr:function(e){return/^HR[0-9]{11}$/.test(e)?(e=e.substr(2),t.fn.bootstrapValidator.helpers.mod11And10(e)):!1},_ie:function(t){if(!/^IE[0-9]{1}[0-9A-Z\*\+]{1}[0-9]{5}[A-Z]{1,2}$/.test(t))return!1;t=t.substr(2);var e=function(t){for(;t.length<7;)t="0"+t;for(var e="WABCDEFGHIJKLMNOPQRSTUV",i=0,a=0;7>a;a++)i+=parseInt(t.charAt(a),10)*(8-a);return i+=9*e.indexOf(t.substr(7)),e[i%23]};return/^[0-9]+$/.test(t.substr(0,7))?t.charAt(7)===e(t.substr(0,7)+t.substr(8)+""):-1!=="ABCDEFGHIJKLMNOPQRSTUVWXYZ+*".indexOf(t.charAt(1))?t.charAt(7)===e(t.substr(2,5)+t.substr(0,1)+""):!0},_it:function(e){if(!/^IT[0-9]{11}$/.test(e))return!1;if(e=e.substr(2),0===parseInt(e.substr(0,7),10))return!1;var i=parseInt(e.substr(7,3),10);return 1>i||i>201&&999!==i&&888!==i?!1:t.fn.bootstrapValidator.helpers.luhn(e)},_lt:function(t){if(!/^LT([0-9]{7}1[0-9]{1}|[0-9]{10}1[0-9]{1})$/.test(t))return!1;t=t.substr(2);var e,i=t.length,a=0;for(e=0;i-1>e;e++)a+=parseInt(t.charAt(e),10)*(1+e%9);var n=a%11;if(10===n)for(a=0,e=0;i-1>e;e++)a+=parseInt(t.charAt(e),10)*(1+(e+2)%9);return n=n%11%10,n+""===t.charAt(i-1)},_lu:function(t){return/^LU[0-9]{8}$/.test(t)?(t=t.substr(2),parseInt(t.substr(0,6),10)%89+""===t.substr(6,2)):!1},_lv:function(e){if(!/^LV[0-9]{11}$/.test(e))return!1;e=e.substr(2);var i,a=parseInt(e.charAt(0),10),n=0,s=[],o=e.length;if(a>3){for(n=0,s=[9,1,4,8,3,10,2,5,7,6,1],i=0;o>i;i++)n+=parseInt(e.charAt(i),10)*s[i];return n%=11,3===n}var r=parseInt(e.substr(0,2),10),l=parseInt(e.substr(2,2),10),d=parseInt(e.substr(4,2),10);if(d=d+1800+100*parseInt(e.charAt(6),10),!t.fn.bootstrapValidator.helpers.date(d,l,r))return!1;for(n=0,s=[10,5,8,4,2,1,6,3,7,9],i=0;o-1>i;i++)n+=parseInt(e.charAt(i),10)*s[i];return n=(n+1)%11%10,n+""===e.charAt(o-1)},_mt:function(t){if(!/^MT[0-9]{8}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[3,4,6,7,8,9,10,1],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e%37===0},_nl:function(t){if(!/^NL[0-9]{9}B[0-9]{2}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[9,8,7,6,5,4,3,2],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e%=11,e>9&&(e=0),e+""===t.substr(8,1)},_no:function(t){if(!/^NO[0-9]{9}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[3,2,7,6,5,4,3,2],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e=11-e%11,11===e&&(e=0),e+""===t.substr(8,1)},_pl:function(t){if(!/^PL[0-9]{10}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[6,5,7,2,3,4,5,6,7,-1],a=0;10>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e%11===0},_pt:function(t){if(!/^PT[0-9]{9}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[9,8,7,6,5,4,3,2],a=0;8>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e=11-e%11,e>9&&(e=0),e+""===t.substr(8,1)},_ro:function(t){if(!/^RO[1-9][0-9]{1,9}$/.test(t))return!1;t=t.substr(2);for(var e=t.length,i=[7,5,3,2,1,7,5,3,2].slice(10-e),a=0,n=0;e-1>n;n++)a+=parseInt(t.charAt(n),10)*i[n];return a=10*a%11%10,a+""===t.substr(e-1,1)},_ru:function(t){if(!/^RU([0-9]{9}|[0-9]{12})$/.test(t))return!1;t=t.substr(2);var e=0;if(10===t.length){var i=0,a=[2,4,10,3,5,9,4,6,8,0];for(e=0;10>e;e++)i+=parseInt(t.charAt(e),10)*a[e];return i%=11,i>9&&(i%=10),i+""===t.substr(9,1)}if(12===t.length){var n=0,s=[7,2,4,10,3,5,9,4,6,8,0],o=0,r=[3,7,2,4,10,3,5,9,4,6,8,0];for(e=0;11>e;e++)n+=parseInt(t.charAt(e),10)*s[e],o+=parseInt(t.charAt(e),10)*r[e];return n%=11,n>9&&(n%=10),o%=11,o>9&&(o%=10),n+""===t.substr(10,1)&&o+""===t.substr(11,1)}return!1},_rs:function(t){if(!/^RS[0-9]{9}$/.test(t))return!1;t=t.substr(2);for(var e=10,i=0,a=0;8>a;a++)i=(parseInt(t.charAt(a),10)+e)%10,0===i&&(i=10),e=2*i%11;return(e+parseInt(t.substr(8,1),10))%10===1},_se:function(e){return/^SE[0-9]{10}01$/.test(e)?(e=e.substr(2,10),t.fn.bootstrapValidator.helpers.luhn(e)):!1},_si:function(t){if(!/^SI[0-9]{8}$/.test(t))return!1;t=t.substr(2);for(var e=0,i=[8,7,6,5,4,3,2],a=0;7>a;a++)e+=parseInt(t.charAt(a),10)*i[a];return e=11-e%11,10===e&&(e=0),e+""===t.substr(7,1)},_sk:function(t){return/^SK[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(t)?parseInt(t.substr(2),10)%11===0:!1}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.vin=t.extend(t.fn.bootstrapValidator.i18n.vin||{},{"default":"Please enter a valid VIN number"}),t.fn.bootstrapValidator.validators.vin={validate:function(t,e){var i=e.val();if(""===i)return!0;if(!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/i.test(i))return!1;i=i.toUpperCase();for(var a={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,0:0},n=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=0,o=i.length,r=0;o>r;r++)s+=a[i.charAt(r)+""]*n[r];var l=s%11;return 10===l&&(l="X"),l+""===i.charAt(8)}}}(window.jQuery),function(t){t.fn.bootstrapValidator.i18n.zipCode=t.extend(t.fn.bootstrapValidator.i18n.zipCode||{},{"default":"Please enter a valid zip code",countryNotSupported:"The country code %s is not supported",country:"Please enter a valid %s",countries:{CA:"Canadian postal code",DK:"Danish postal code",GB:"United Kingdom postal code",IT:"Italian postal code",NL:"Dutch postal code",SE:"Swiss postal code",SG:"Singapore postal code",US:"US zip code"}}),t.fn.bootstrapValidator.validators.zipCode={html5Attributes:{message:"message",country:"country"},COUNTRY_CODES:["CA","DK","GB","IT","NL","SE","SG","US"],validate:function(e,i,a){var n=i.val();
if(""===n||!a.country)return!0;var s=a.country;if(("string"!=typeof s||-1===t.inArray(s,this.COUNTRY_CODES))&&(s=e.getDynamicOption(i,s)),!s||-1===t.inArray(s.toUpperCase(),this.COUNTRY_CODES))return{valid:!1,message:t.fn.bootstrapValidator.helpers.format(t.fn.bootstrapValidator.i18n.zipCode.countryNotSupported,s)};var o=!1;switch(s=s.toUpperCase()){case"CA":o=/^(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}\s?[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}[0-9]{1}$/i.test(n);break;case"DK":o=/^(DK(-|\s)?)?\d{4}$/i.test(n);break;case"GB":o=this._gb(n);break;case"IT":o=/^(I-|IT-)?\d{5}$/i.test(n);break;case"NL":o=/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(n);break;case"SE":o=/^(S-)?\d{3}\s?\d{2}$/i.test(n);break;case"SG":o=/^([0][1-9]|[1-6][0-9]|[7]([0-3]|[5-9])|[8][0-2])(\d{4})$/i.test(n);break;case"US":default:o=/^\d{4,5}([\-]?\d{4})?$/.test(n)}return{valid:o,message:t.fn.bootstrapValidator.helpers.format(a.message||t.fn.bootstrapValidator.i18n.zipCode.country,t.fn.bootstrapValidator.i18n.zipCode.countries[s])}},_gb:function(t){for(var e="[ABCDEFGHIJKLMNOPRSTUWYZ]",i="[ABCDEFGHKLMNOPQRSTUVWXY]",a="[ABCDEFGHJKPMNRSTUVWXY]",n="[ABEHMNPRVWXY]",s="[ABDEFGHJLNPQRSTUWXYZ]",o=[new RegExp("^("+e+"{1}"+i+"?[0-9]{1,2})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^("+e+"{1}[0-9]{1}"+a+"{1})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^("+e+"{1}"+i+"{1}?[0-9]{1}"+n+"{1})(\\s*)([0-9]{1}"+s+"{2})$","i"),new RegExp("^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$","i"),/^(GIR)(\s*)(0AA)$/i,/^(BFPO)(\s*)([0-9]{1,4})$/i,/^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i,/^([A-Z]{4})(\s*)(1ZZ)$/i,/^(AI-2640)$/i],r=0;r<o.length;r++)if(o[r].test(t))return!0;return!1}}}(window.jQuery),function(t){t.fn.bootstrapFileInput=function(){this.each(function(e,i){var a=t(i);if("undefined"==typeof a.attr("data-bfi-disabled")){var n="Browse";"undefined"!=typeof a.attr("title")&&(n=a.attr("title"));var s="";a.attr("class")&&(s=" "+a.attr("class")),a.wrap('<a class="file-input-wrapper btn btn-default '+s+'"></a>').parent().prepend(t("<span></span>").html(n))}}).promise().done(function(){t(".file-input-wrapper").mousemove(function(e){var i,a,n,s,o,r,l,d;a=t(this),i=a.find("input"),n=a.offset().left,s=a.offset().top,o=i.width(),r=i.height(),l=e.pageX,d=e.pageY,moveInputX=l-n-o+20,moveInputY=d-s-r/2,i.css({left:moveInputX,top:moveInputY})}),t("body").on("change",".file-input-wrapper input[type=file]",function(){var e;if(e=t(this).val(),t(this).parent().next(".file-input-name").remove(),e=t(this).prop("files")&&t(this).prop("files").length>1?t(this)[0].files.length+" files":e.substring(e.lastIndexOf("\\")+1,e.length)){var i=t(this).data("filename-placement");"inside"===i?(t(this).siblings("span").html(e),t(this).attr("title",e)):t(this).parent().after('<span class="file-input-name">'+e+"</span>")}})})};var e="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";t("link[rel=stylesheet]").eq(0).before(e)}(jQuery),$(function(){$("form").submit(function(t){$this=$(this);var e=$this.find("select");if(e.length>0)for(var i=0;i<e.length;i++)if("reqd"==e[i].value)return alert("Please make sure all dropdowns have a selected value"),t.preventDefault(),!1}),$(".axform").submit(function(t){submitAjax($(this)),setTimeout(function(){location.reload()},2e3),t.preventDefault()}),$(".confirm").submit(function(){var t="Are you sure?\n"+$(this).data("warning");return window.confirm(t)}),$(".file-form").submit(function(t){t.preventDefault(),$(this).children("button").innerHTML="Uploading..."}),$('button[type="reset"]').click(function(){$(".editor").val("")}),$("#visit #cid").keyup(function(){var t=$(this);if(t.val()>1e5&&t.length<9999999){var e="";$(this).parent().removeClass("has-error").addClass("has-success"),0==$(".spinner").length&&$(this).parent().after('<div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>'),$.get("http://"+window.location.host+"/status/"+t.val(),e,function(t){t=$.parseXML(t),$msg=$(t);var e=$msg.find("name_last").text(),i=$msg.find("name_first").text(),a=$msg.find("rating").text(),n=$msg.find("division").text();$(".spinner").remove(),$("#fname").val(i).parent().removeClass("hidden"),$("#lname").val(e).parent().removeClass("hidden"),$("#rating").val(a).parent().removeClass("hidden"),$("#home").val(n).parent().removeClass("hidden"),$("#artcc").parent().removeClass("hidden")})}else $(this).parent().addClass("has-feedback has-error"),$("#fname").parent().addClass("hidden"),$("#lname").parent().addClass("hidden"),$("#rating").parent().addClass("hidden"),$("#home").parent().addClass("hidden"),$("#artcc").parent().addClass("hidden")}),$("#visit #artcc").keyup(function(){var t=$(this).val();$("#fname").parent().addClass("hidden"),$("#lname").parent().addClass("hidden"),$("#rating").parent().addClass("hidden"),$("#home").parent().addClass("hidden"),t.length>2?$("#email").parent().removeClass("hidden"):$("#email").parent().addClass("hidden")}),$("#visit #email").keyup(function(){var t=$(this).val();$("#artcc").parent().addClass("hidden"),validateEmail(t)?($(this).parent().removeClass("has-error").addClass("has-success"),$('#visit button[type="submit"]').removeClass("hidden"),$("#visit #message").parent().removeClass("hidden")):($('#visit button[type="submit"]').addClass("hidden"),$(this).parent().addClass("has-feedback has-error"),$("#visit #message").parent().addClass("hidden"))}),$("#request-training").submit(function(t){t.preventDefault();var e=new Date,i=e.getMonth(),a=e.getDate(),n=e.getFullYear(),s=e.getHours(),o=e.getMinutes(),r=$(".datepick:eq(0)").val();""==r&&(r=n+"-"+i+"-"+a+" "+s+":"+o+":00");var l=$(".datepick:eq(1)").val();""==l&&(l=n+"-"+i+"-"+a+" "+s+":"+o+":00"),$.ajax({url:"/me/request-training",type:"post",data:{start:r,end:l,user:document.getElementById("cid").value,cert:document.getElementById("cert").value}}).done(function(t){t.success?($(".ajax-success").removeClass("hidden"),$(".ajax-success .message").text(t.message)):($(".ajax-error").removeClass("hidden"),$(".ajax-error .message").text(t.message))})}),$(".visitor-comment").click(function(){$(this).parent().children(".visitor-deny-form").addClass("hidden"),$(this).parent().children(".visitor-lor-form").addClass("hidden"),$(this).parent().children(".visitor-comment-form").toggleClass("hidden")}),$(".visitor-lor").click(function(){$(this).parent().children(".visitor-comment-form").addClass("hidden"),$(this).parent().children(".visitor-deny-form").addClass("hidden"),$(this).parent().children(".visitor-lor-form").toggleClass("hidden")}),$(".visitor-deny").click(function(){$(this).parent().children(".visitor-lor-form").addClass("hidden"),$(this).parent().children(".visitor-comment-form").addClass("hidden"),$(this).parent().children(".visitor-deny-form").toggleClass("hidden")}),$("#pm-reply").submit(function(t){validateCC($(this))||t.preventDefault()}),$("#page-create").click(function(){$("#published").val("1")}),$("#page-draft").click(function(){$("#published").val("0")})}),$(function(){if($(".file-control").bootstrapFileInput({"data-filename-placement":"inside"}),highlightCorrect(),$(".datepick").datetimepicker({language:"en",format:"m-d-Y H:i:s",inline:!0,minDate:"0",maxDate:"+1970/01/30",onChangeDateTime:function(t,e){var i=$(this.prev()[0]).data("field");document.getElementById(i).value=e.val()}}),$(".datepickopen").datetimepicker({language:"en",format:"m-d-Y H:i:s",inline:!0,onChangeDateTime:function(t,e){var i=$(this.prev()[0]).data("field");document.getElementById(i).value=e.val()}}),$("#training")){$("#training .progress-bar").attr("aria-valuenow")}$(".editor").editable({inlineMode:!1,buttons:["bold","italic","underline","fontSize","align","insertOrderedList","insertUnorderedList","outdent","indent","selectAll","createLink","insertImage","table"]}),$(".editor-inline").editable({buttons:["bold","italic","underline","insertOrderedList","insertUnorderedList","createLink","insertImage"]}),$(".editor-full").editable(),"/training/request/new"==window.location.pathname&&createDateChangeListener()});